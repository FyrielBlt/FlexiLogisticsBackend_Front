{"ast":null,"code":"import Url from \"../Api.js\";\nimport axios from \"axios\";\nconst Token = localStorage.getItem('token');\nexport default {\n  state: {\n    //liste de transporteur\n    ListeVilles: [],\n    currentVille: 1,\n    perPageVille: 1,\n    parPageVille: 3,\n    totalVille: 10,\n    ChercherVille: \"\"\n  },\n  getters: {\n    ListeVilles(state) {\n      return state.ListeVilles;\n    },\n\n    currentVille(state) {\n      return state.currentVille;\n    },\n\n    perPageVille(state) {\n      return state.perPageVille;\n    },\n\n    parPageVille(state) {\n      return state.parPageVille;\n    },\n\n    totalVille(state) {\n      return state.totalVille;\n    }\n\n  },\n  mutations: {\n    // get all d'une page\n    GetVille(state, value) {\n      state.ListeVilles = value.data;\n      state.totalVille = parseInt(value.headers[\"x-wp-total\"]);\n    },\n\n    // supprimer \n    DeleteVille(state, Ville) {\n      state.ListeVilles.splice(state.ListeVilles.indexOf(Ville), 1);\n      axios.delete(Url + \"Villes/\" + Ville.idVille, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then();\n    },\n\n    // Modifier\n    ModifierVille(state, Ville) {\n      Ville.idIntermediaire = localStorage.getItem(\"id\");\n      state.ListeVilles[Ville.index] = Ville; //modifier intermediaire\n      // modifier users\n\n      axios.put(Url + \"Villes/\" + Ville.idVille, Ville, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then().catch(rer => console.log(rer));\n    },\n\n    // Ajouter\n    AjouterVille(state, Ville) {\n      Ville.idIntermediaire = localStorage.getItem(\"id\"); // console.log(user);\n\n      axios.post(Url + \"Villes\", Ville, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        // console.log(res.data);\n        state.ListeVilles.push(res.data); //console.log(intermediaireAjouter);\n      }); // axios.post(Url + \"Transporteurs\", transporteur, {\n      //     headers: {\n      //         Authorization: 'Bearer ' + Token\n      //     }\n      // }).then(res => {\n      //     state.ListeTransporteurs.push(res.data);\n      // });\n    }\n\n  },\n  actions: {\n    //get page :\n    Get_Ville({\n      commit,\n      state\n    }) {\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetVille', res);\n      });\n    },\n\n    // get noveau page \n    Get_NoveauVille({\n      commit,\n      state\n    }, NumPage) {\n      state.currentVille = NumPage;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetVille', res);\n      });\n    },\n\n    Changer_ParpageVille({\n      commit,\n      state\n    }, Parpage) {\n      state.currentVille = 1;\n      state.parPageVille = Parpage;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetVille', res);\n      });\n    },\n\n    //recherche\n    Chercher_Ville({\n      commit,\n      state\n    }, chercher) {\n      state.currentVille = 1;\n      state.ChercherVille = chercher;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetVille', res);\n      });\n    },\n\n    //get all\n    // Get_Transporteur_All({ commit }) {\n    //     axios.get(Url + \"Transporteurs\", {\n    //         headers: {\n    //             Authorization: 'Bearer ' + Token\n    //         }\n    //     })\n    //         .then(res => {\n    //             console.log(res.data);\n    //             commit('GetTransporteurAll', res.data);\n    //         })\n    // },\n    // delete\n    Delete_Ville({\n      commit\n    }, Ville) {\n      commit('DeleteVille', Ville);\n    },\n\n    // modifier\n    Modifier_Ville({\n      commit\n    }, value) {\n      commit('ModifierVille', value);\n    },\n\n    // Ajouter\n    Ajouter_Ville({\n      commit\n    }, Ville) {\n      console.log(Ville);\n      commit('AjouterVille', Ville);\n    }\n\n  }\n};","map":{"version":3,"sources":["C:/Users/Karim Omrane/Desktop/PFE FI/FRONT/src/store/ville/Ville.js"],"names":["Url","axios","Token","localStorage","getItem","state","ListeVilles","currentVille","perPageVille","parPageVille","totalVille","ChercherVille","getters","mutations","GetVille","value","data","parseInt","headers","DeleteVille","Ville","splice","indexOf","delete","idVille","Authorization","then","ModifierVille","idIntermediaire","index","put","catch","rer","console","log","AjouterVille","post","res","push","actions","Get_Ville","commit","get","Get_NoveauVille","NumPage","Changer_ParpageVille","Parpage","Chercher_Ville","chercher","Delete_Ville","Modifier_Ville","Ajouter_Ville"],"mappings":"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","sourcesContent":["import Url from \"../Api.js\";\nimport axios from \"axios\";\nconst Token = localStorage.getItem('token');\nexport default {\n  state: {\n    //liste de transporteur\n\n    ListeVilles: [],\n    currentVille: 1,\n    perPageVille: 1,\n    parPageVille: 3,\n    totalVille: 10,\n    ChercherVille: \"\"\n\n  },\n  getters: {\n    \n    ListeVilles(state) {\n      return state.ListeVilles;\n    },\n    currentVille(state) {\n      return state.currentVille;\n    },\n    perPageVille(state) {\n      return state.perPageVille;\n    },\n    parPageVille(state) {\n      return state.parPageVille;\n    },\n    totalVille(state) {\n      return state.totalVille;\n    },\n\n  },\n  mutations: {\n    // get all d'une page\n    GetVille(state, value) {\n      state.ListeVilles = value.data;\n      state.totalVille = parseInt(value.headers[\"x-wp-total\"]);\n    },\n    \n    // supprimer \n    DeleteVille(state, Ville) {\n      state.ListeVilles.splice(state.ListeVilles.indexOf(Ville), 1);\n      axios.delete(Url + \"Villes/\" + Ville.idVille, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then();\n      \n    },\n    // Modifier\n    ModifierVille(state, Ville) {\n      Ville.idIntermediaire = localStorage.getItem(\"id\");\n      state.ListeVilles[Ville.index] = Ville;\n      //modifier intermediaire\n\n\n      // modifier users\n      axios\n        .put(Url + \"Villes/\" + Ville.idVille, Ville, {\n          headers: {\n            Authorization: 'Bearer ' + Token\n          }\n        })\n        .then()\n        .catch((rer) => console.log(rer));\n\n    },\n    // Ajouter\n    AjouterVille(state, Ville) {\n      Ville.idIntermediaire = localStorage.getItem(\"id\");\n\n\n      // console.log(user);\n\n      axios.post(Url + \"Villes\", Ville, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        // console.log(res.data);\n\n\n        state.ListeVilles.push(res.data);\n        //console.log(intermediaireAjouter);\n      });\n\n\n      // axios.post(Url + \"Transporteurs\", transporteur, {\n      //     headers: {\n      //         Authorization: 'Bearer ' + Token\n      //     }\n      // }).then(res => {\n      //     state.ListeTransporteurs.push(res.data);\n      // });\n    }\n  },\n  actions: {\n    //get page :\n    Get_Ville({ commit, state }) {\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      })\n        .then(res => {\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n          commit('GetVille', res);\n        })\n    },\n    // get noveau page \n    Get_NoveauVille({ commit, state }, NumPage) {\n      state.currentVille = NumPage;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        } \n      })\n        .then(res => {\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n          commit('GetVille', res);\n        })\n    },\n    Changer_ParpageVille({ commit, state }, Parpage) {\n      state.currentVille = 1;\n      state.parPageVille = Parpage;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      })\n        .then(res => {\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n          commit('GetVille', res);\n        })\n    },\n    //recherche\n    Chercher_Ville({ commit, state }, chercher) {\n      state.currentVille = 1;\n      state.ChercherVille = chercher;\n      axios.get(Url + `Villes?page=${state.currentVille}&quantityPage=${state.parPageVille}&ville=${state.ChercherVille}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      })\n        .then(res => {\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n          commit('GetVille', res);\n        })\n    },\n    //get all\n    // Get_Transporteur_All({ commit }) {\n    //     axios.get(Url + \"Transporteurs\", {\n    //         headers: {\n    //             Authorization: 'Bearer ' + Token\n    //         }\n    //     })\n    //         .then(res => {\n    //             console.log(res.data);\n    //             commit('GetTransporteurAll', res.data);\n    //         })\n    // },\n    // delete\n    Delete_Ville({ commit }, Ville) {\n      commit('DeleteVille', Ville);\n    },\n    // modifier\n    Modifier_Ville({ commit }, value) {\n      commit('ModifierVille', value);\n    },\n    // Ajouter\n    Ajouter_Ville({ commit }, Ville) {\n      console.log(Ville);\n      commit('AjouterVille', Ville);\n    },\n  },\n};\n"]},"metadata":{},"sourceType":"module"}