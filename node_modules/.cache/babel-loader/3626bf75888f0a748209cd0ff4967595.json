{"ast":null,"code":"import { defineComponent } from \"vue\";\nimport axios from \"axios\";\nimport url from \"../store/Api\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      nom: \"\",\n      prenom: \"\",\n      tel: \"\",\n      type: \"\",\n      societe: \"\",\n      description: \"\",\n      adress: \"\",\n      imageFile: ''\n    };\n  },\n\n  methods: {\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n    },\n\n    Enregistrer() {\n      let societe = new FormData();\n      societe.append(\"nom\", this.societe);\n      societe.append(\"adress\", this.adress);\n      societe.append(\"description\", this.description);\n      societe.append(\"image\", \"\");\n      societe.append(\"ImageFile\", \"\");\n      societe.append(\"ImageFile\", this.imageFile);\n      axios.post(url + \"Societes\", societe).then(res => {\n        let user = new FormData();\n        user.append(\"nom\", this.nom);\n        user.append(\"prenom\", this.prenom);\n        user.append(\"email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"societe\", res.data.idSociete);\n        user.append(\"image\", \"\");\n        user.append(\"active\", 0);\n        user.append(\"tel\", this.tel);\n        user.append(\"ImageFile\", \"\");\n        user.append(\"ImageSrc\", \"\");\n        axios.post(url + \"Users\", user).then(response => {\n          if (this.type == \"Client\") {\n            axios.post(url + \"Clients\", {\n              iduser: response.data.idUser\n            });\n          }\n\n          if (this.type == \"Transporteur\") {\n            axios.post(url + \"Transporteurs\", {\n              idUser: response.data.idUser\n            });\n          }\n\n          this.$router.push('/login');\n        }).catch(() => {\n          this.$swal({\n            position: \"top-end\",\n            icon: \"error\",\n            toast: true,\n            title: \"Email existe d√©ja\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n        });\n      });\n    }\n\n  }\n});","map":{"version":3,"mappings":"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","names":["defineComponent","axios","url","data","email","password","nom","prenom","tel","type","societe","description","adress","imageFile","methods","FileSelected","event","target","files","Enregistrer","FormData","append","post","then","res","user","idSociete","response","iduser","idUser","$router","push","catch","$swal","position","icon","toast","title","showConfirmButton","timer"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Inscription.vue"],"sourcesContent":["<template>\n  <div style=\"position: absolute;\n    width: 262px;\n    right: 257px;\n    top: 171px;\">\n    <svg class=\"mx-auto h-28 w-28\" version=\"1.1\" id=\"Icons\" xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 32\"\n      style=\"enable-background: new 0 0 32 32\" xml:space=\"preserve\">\n      <polyline class=\"st0\" points=\"2,9 19,9 19,24 10,24 \" />\n      <circle class=\"st0\" cx=\"24\" cy=\"24\" r=\"2\" />\n      <circle class=\"st0\" cx=\"8\" cy=\"24\" r=\"2\" />\n      <polyline class=\"st0\" points=\"19,24 19,13 25,13 29,18 29,24 26,24 \" />\n      <line class=\"st0\" x1=\"4\" y1=\"13\" x2=\"13\" y2=\"13\" />\n      <line class=\"st0\" x1=\"2\" y1=\"17\" x2=\"11\" y2=\"17\" />\n      <rect x=\"-288\" y=\"-432\" class=\"st3\" width=\"536\" height=\"680\" />\n    </svg>\n    <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">S'inscrire</h2>\n    <p class=\"mt-2 text-center text-sm text-gray-600\">\n      Ou\n      {{ ' ' }}\n      <router-link to=\"/\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> Se connecter </router-link>\n    </p>\n  </div>\n\n\n  <div class=\"flex items-center  h-screen px-6 r\">\n\n    <form @submit.prevent=\"Enregistrer\">\n      <div class=\"w-full h-full bg-white p-7 shadow-md rounded flex flex-col my-2\" style=\"width: 800px;    position: absolute;\n    top: -7px;\n    left: 0px;\">\n        <div class=\"-mx-3 md:flex mb-6\">\n          <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-first-name\">\n              Nom\n            </label>\n            <input v-model=\"nom\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3\"\n              id=\"grid-first-name\" type=\"text\" placeholder=\"Jane\" required>\n            <p v-if=\"nom == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n          </div>\n          <div class=\"md:w-1/2 px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-last-name\">\n              Prenom\n            </label>\n            <input v-model=\"prenom\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\"\n              id=\"grid-last-name\" type=\"text\" placeholder=\"Doe\" required>\n            <p v-if=\"prenom == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n          </div>\n        </div>\n        <div class=\"-mx-3 md:flex mb-6\">\n          <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-first-name\">\n              Email\n            </label>\n            <input v-model=\"email\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3\"\n              id=\"grid-first-name\" type=\"text\" placeholder=\"Exemple@exemple.com\" required>\n            <p v-if=\"email == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n\n          </div>\n          <div class=\"md:w-1/2 px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-last-name\">\n              Tel\n            </label>\n            <input v-model=\"tel\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\"\n              id=\"grid-last-name\" type=\"text\" placeholder=\"23456789\" required>\n            <p v-if=\"tel == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n          </div>\n        </div>\n        <div class=\"-mx-3 md:flex mb-6\">\n          <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-first-name\">\n              Nom Societe\n            </label>\n            <input v-model=\"societe\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3\"\n              id=\"list\" type=\"list\" placeholder=\"Societe\" required>\n            <datalist id=\"list\">\n              <option value=\"1\">First one</option>\n              <option value=\"2\">Second one</option>\n            </datalist>\n            <p v-if=\"societe == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n\n          </div>\n          <div class=\"md:w-1/2 px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-last-name\">\n              Adresse Societe\n            </label>\n            <input v-model=\"adress\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\"\n              id=\"grid-last-name\" type=\"text\" placeholder=\"Adresse\" required>\n            <p v-if=\"adress == ''\" class=\"text-red text-xs italic\">Obligatoire *</p>\n          </div>\n        </div>\n\n        <div class=\"-mx-3 md:flex mb-2\">\n          <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-city\">\n              Description\n            </label>\n            <input v-model=\"description\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\"\n              id=\"grid-city\" type=\"text\" placeholder=\"Description\">\n          </div>\n          <div class=\"md:w-1/2 px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-state\">\n              Type\n            </label>\n            <div class=\"relative\">\n              <select v-model=\"type\"\n                class=\"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 \"\n                id=\"grid-state\">\n                <option>Client</option>\n                <option>Transporteur</option>\n              </select>\n              <div class=\"pointer-events-none absolute pin-y pin-r flex items-center px-2 text-grey-darker\">\n                <svg class=\"h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div class=\"md:w-1/2 px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-zip\">\n              Logo\n            </label>\n            <input @change=\"FileSelected($event)\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\"\n              id=\"grid-zip\" type=\"file\" placeholder=\"90210\">\n          </div>\n\n        </div>\n        <div class=\"-mx-3 md:flex mb-6\">\n          <div class=\"md:w-full px-3\">\n            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" for=\"grid-password\">\n              Password\n            </label>\n            <input v-model=\"password\"\n              class=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3\"\n              id=\"grid-password\" type=\"password\" placeholder=\"******************\">\n            <p class=\"text-grey-dark text-xs italic\">Make it as long and as crazy as you'd like</p>\n          </div>\n        </div>\n        <div class=\"mt-6\">\n          <button type=\"submit\"\n            class=\"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500\">\n            Enregistrer\n          </button>\n          <p class=\"mt-2 text-center text-sm text-gray-600\">\n            Ou\n            {{ ' ' }}\n            <router-link to=\"/\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> Se Connecter </router-link>\n          </p>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport axios from \"axios\";\nimport url from \"../store/Api\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      nom: \"\",\n      prenom: \"\",\n      tel: \"\",\n      type: \"\",\n      societe: \"\",\n      description: \"\",\n      adress: \"\",\n      imageFile: '',\n\n    };\n  },\n  methods: {\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n    },\n    Enregistrer() {\n      let societe = new FormData();\n      societe.append(\"nom\", this.societe);\n      societe.append(\"adress\", this.adress);\n      societe.append(\"description\", this.description);\n      societe.append(\n        \"image\", \"\");\n      societe.append(\"ImageFile\", \"\");\n      societe.append(\"ImageFile\", this.imageFile);\n      axios.post(url + \"Societes\", societe).then((res) => {\n        let user = new FormData();\n        user.append(\"nom\", this.nom);\n        user.append(\"prenom\", this.prenom);\n        user.append(\"email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"societe\", res.data.idSociete);\n        user.append(\"image\", \"\");\n        user.append(\"active\", 0);\n        user.append(\"tel\", this.tel);\n        user.append(\"ImageFile\", \"\");\n        user.append(\"ImageSrc\", \"\");\n        axios\n          .post(url + \"Users\", user)\n          .then((response) => {\n            if (this.type == \"Client\") {\n              axios.post(url + \"Clients\", {\n                iduser: response.data.idUser,\n              });\n            }\n            if (this.type == \"Transporteur\") {\n              axios.post(url + \"Transporteurs\", {\n                idUser: response.data.idUser,\n              });\n            }\n            this.$router.push('/login');\n          })\n\n          .catch(() => {\n            this.$swal({\n              position: \"top-end\",\n              icon: \"error\",\n              toast: true,\n              title: \"Email existe d√©ja\",\n              showConfirmButton: false,\n              timer: 2000,\n            });\n          });\n      });\n    },\n  },\n});\n</script>\n<style>\n.r {\n  background-image: url(\"../assets/malek.png\");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: cover;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}