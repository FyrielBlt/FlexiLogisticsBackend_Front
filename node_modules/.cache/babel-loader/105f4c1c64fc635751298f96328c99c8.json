{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: [\"table\"],\n\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      email: '',\n      motdepasse: '',\n      codevehicule: '',\n      open: false,\n      cinchauffeur: '',\n      sucess: false,\n      error: false,\n      nextpage: 1,\n      idchauffeur: '',\n      camion: [],\n      iduser: '',\n      i: 0,\n      chauffeurscamions: []\n    };\n  },\n\n  created() {\n    // inserer dans la table chauffeurscamions les camions qui n'ont pas un chauffeur\n    axios.get(\"http://localhost:5000/api/Transporteurs/\" + localStorage.getItem(\"iduser\") + \"/iduser\").then(resp => {\n      axios.get(\"http://localhost:5000/api/Camions/\" + resp.data.idTransporteur).then(response => {\n        response.data.forEach(element => {\n          if (element.idchauffeur == null) {\n            this.chauffeurscamions[this.i] = element;\n            this.i = this.i + 1;\n          }\n        });\n      }).catch(error => console.log(error));\n    }); // inserer dans idchauffeur le dernier id d'un chauffeur dans la BD\n\n    axios.get(\"http://localhost:5000/api/Chauffeurs\").then(response => {\n      this.idchauffeur = response.data[response.data.length - 1].idchauffeur + 1;\n    }).catch(error => console.log(error)); // inserer dans idchauffeur le dernier id d'un user dans la BD\n\n    axios.get(\"http://localhost:5000/api/Users\").then(response => {\n      this.iduser = response.data[response.data.length - 1].idUser + 1;\n    }).catch(error => console.log(error));\n  },\n\n  methods: {\n    close() {\n      this.error = false;\n      this.sucess = false;\n      this.open = false;\n      location.replace(\"chauffeurs\");\n    },\n\n    ajouterChauffeur() {\n      if (this.nom != '' && this.prenom != '' && this.email != '' && this.cinchauffeur != '' && this.motdepasse != '' && this.codevehicule != '') {\n        axios.post(\"http://localhost:5000/api/Users\", {\n          nom: this.nom,\n          prenom: this.prenom,\n          email: this.email,\n          motdepasse: this.motdepasse,\n          type: 'chauffeur',\n          image: 'hhhhhhhhhhhh',\n          // à changer\n          societe: localStorage.getItem('societe')\n        }).then(response => {\n          axios.post(\"http://localhost:5000/api/Chauffeurs\", {\n            Cinchauffeur: this.cinchauffeur,\n            Idsociete: localStorage.getItem('societe'),\n            Iduser: this.iduser\n          }).then(response => {\n            axios.get(\"http://localhost:5000/api/Camions/\" + this.codevehicule + \"/camion/codevehicule\").then(response => {\n              this.camion = response.data;\n              console.log(this.camion.idcamion);\n              axios.put(\"http://localhost:5000/api/Camions/\" + this.camion.idcamion, {\n                idcamion: this.camion.idcamion,\n                trajet: this.camion.camiontrajet,\n                destination: this.camion.destination,\n                placementactuel: this.camion.placementactuel,\n                idtransporteur: localStorage.getItem('iduser'),\n                idchauffeur: this.idchauffeur,\n                codevehicule: this.codevehicule,\n                statut: this.camion.statut\n              }).catch(error => console.log(error));\n            }).catch(error => console.log(error));\n          }).catch(error => console.log(error));\n        }).catch(error => console.log(error));\n        this.sucess = true;\n        this.error = false;\n        this.close();\n      } else if (this.nom != '' && this.prenom != '' && this.email != '' && this.cinchauffeur != '' && this.motdepasse != '' && this.codevehicule == '') {\n        axios.post(\"http://localhost:5000/api/Users\", {\n          nom: this.nom,\n          prenom: this.prenom,\n          email: this.email,\n          motdepasse: this.motdepasse,\n          type: 'chauffeur',\n          image: 'hjjjjjjjj',\n          societe: localStorage.getItem('societe')\n        }).then(response => {\n          axios.post(\"http://localhost:5000/api/Chauffeurs\", {\n            Cinchauffeur: this.cinchauffeur,\n            Idsociete: localStorage.getItem('societe'),\n            Iduser: this.iduser\n          }).then(() => {\n            this.close();\n          });\n        });\n      } else {\n        this.error = true;\n        this.sucess = false;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","props","data","nom","prenom","email","motdepasse","codevehicule","open","cinchauffeur","sucess","error","nextpage","idchauffeur","camion","iduser","i","chauffeurscamions","created","get","localStorage","getItem","then","resp","idTransporteur","response","forEach","element","catch","console","log","length","idUser","methods","close","location","replace","ajouterChauffeur","post","type","image","societe","Cinchauffeur","Idsociete","Iduser","idcamion","put","trajet","camiontrajet","destination","placementactuel","idtransporteur","statut"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\frontfinal\\src\\views\\Transporteur\\Chauffeurs\\ModalLayoutChauffeurAdd.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Breadcrumb -->\r\n    <Breadcrumb breadcrumb=\"Modal\" />\r\n     <button @click=\"open = true\"\r\n>  \r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"25\" fill=\"currentColor\" class=\"bi bi-plus-circle-fill\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z\"/>\r\n</svg>        \r\n  </button>\r\n\r\n    <div\r\n      :class=\"`modal ${\r\n        !open && 'opacity-0 pointer-events-none'\r\n      } z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`\"\r\n    >\r\n      <div\r\n        @click=\"open = false\"\r\n        class=\"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay\"\r\n      ></div>\r\n\r\n      <div\r\n        class=\"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md\"\r\n      >\r\n        <div\r\n          class=\"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close\"\r\n        >\r\n          <svg\r\n            class=\"text-white fill-current\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 18 18\"\r\n          >\r\n            <path\r\n              d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\r\n            />\r\n          </svg>\r\n          <span class=\"text-sm\">(Esc)</span>\r\n        </div>\r\n\r\n        <!-- Add margin if you want to see some of the overlay behind the modal-->\r\n        <div class=\"px-6 py-4 text-left modal-content\">\r\n          <!--Title-->\r\n          <div class=\"flex items-center justify-between pb-3\">\r\n            <p class=\"text-2xl font-bold\">Ajouter Chauffeur</p>\r\n          </div>\r\n          <!--Body-->\r\n          <div class=\"mt-8\">\r\n      <div class=\"mt-4\">\r\n        <div class=\"p-6 bg-white rounded-md shadow-md\">    \r\n            <div class=\"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2\">\r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"username\">nom</label>\r\n                <input\r\n                  class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                  type=\"text\"\r\n                  v-model=\"nom\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"username\">prenom</label>\r\n                <input\r\n                  class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                  type=\"text\"\r\n                  v-model=\"prenom\"\r\n                />\r\n              </div>\r\n<div>\r\n                <label class=\"text-gray-700\" for=\"username\">cin</label>\r\n                <input\r\n                  class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                  type=\"text\"\r\n                  v-model=\"cinchauffeur\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"emailAddress\"\r\n                  >email</label\r\n                >\r\n                <input\r\n                  class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                   type=\"text\"\r\n                  v-model=\"email\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"password\">motdepasse</label>\r\n                <input\r\n                  class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                  type=\"text\"\r\n                  v-model=\"motdepasse\"\r\n                />\r\n              </div>\r\n             \r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"passwordConfirmation\"\r\n                  >Code véhicule</label\r\n                >\r\n            <select v-model=\"codevehicule\"\r\n            class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n>\r\n           <option  v-for=\"column in this.chauffeurscamions\" :key=\"column\">{{column.codevehicule}}</option>\r\n</select>                 \r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"flex justify-end mt-4\">\r\n               <button\r\n              @click=\"close\" \r\n              class=\"p-3 px-6 py-3 mr-2 text-indigo-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none\"\r\n            >\r\n              Close\r\n            </button>\r\n             <button @click=\"ajouterChauffeur\"\r\n                class=\"px-4 py-2 text-gray-200 bg-gray-800 rounded-md hover:bg-gray-700 focus:outline-none focus:bg-gray-700\"\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          \r\n            <div v-if=\"this.error==true\" class=\"px-4 py-2 -mx-3\">\r\n              <div class=\"mx-3\">\r\n                <span class=\"font-semibold text-red-500\">Merci de remplir tout les champs</span>\r\n                <p class=\"text-sm text-gray-600\">error!</p>\r\n              </div>\r\n            </div>\r\n          <div v-if=\"this.sucess==true\" class=\"px-4 py-2 -mx-3\">\r\n              <div class=\"mx-3\">\r\n                <span class=\"font-semibold text-green-500\">Chauffeur Ajouté</span>\r\n                <p class=\"text-sm text-gray-600\">\r\n                  Ajout réussi!\r\n                </p>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import axios from \"axios\";\r\n  export default { \r\n     props: [\r\n    \"table\"\r\n  ],\r\n    data () {\r\n      return {\r\n      nom:'',\r\n      prenom:'',\r\n      email:'',\r\n      motdepasse:'',\r\n      codevehicule:'',\r\n      open:false,\r\n      cinchauffeur:'',\r\n      sucess:false,\r\n      error:false,\r\n      nextpage:1,\r\n      idchauffeur:'',\r\n      camion:[],\r\n      iduser:'',\r\n      i:0,\r\n      chauffeurscamions:[]\r\n      }\r\n    },\r\n     created(){\r\n       // inserer dans la table chauffeurscamions les camions qui n'ont pas un chauffeur\r\n        axios\r\n      .get(\r\n        \"http://localhost:5000/api/Transporteurs/\" +\r\n          localStorage.getItem(\"iduser\") +\r\n          \"/iduser\"\r\n      ).then((resp)=>{\r\n      axios\r\n      .get(\"http://localhost:5000/api/Camions/\"+resp.data.idTransporteur)\r\n      .then((response) =>{\r\n       response.data.forEach(element => {\r\n          if (element.idchauffeur==null){\r\n               this.chauffeurscamions[this.i]=element\r\n               this.i=this.i+1;\r\n          }\r\n      });\r\n      }\r\n      )\r\n      .catch((error) => console.log(error)) \r\n      })\r\n        \r\n    // inserer dans idchauffeur le dernier id d'un chauffeur dans la BD\r\n      axios\r\n      .get(\"http://localhost:5000/api/Chauffeurs\")\r\n      .then((response) =>{\r\n      this.idchauffeur=response.data[response.data.length-1].idchauffeur+1\r\n      }\r\n      )\r\n      .catch((error) => console.log(error)) \r\n    // inserer dans idchauffeur le dernier id d'un user dans la BD\r\n\r\n       axios\r\n      .get(\"http://localhost:5000/api/Users\")\r\n      .then((response) =>{\r\n      this.iduser=response.data[response.data.length-1].idUser+1\r\n      }\r\n      )\r\n      .catch((error) => console.log(error)) \r\n    },\r\n    methods: {\r\n      close(){\r\n        this.error=false\r\n        this.sucess=false\r\n        this.open=false;\r\n        location.replace(\"chauffeurs\")\r\n      },\r\n     ajouterChauffeur () {\r\n       if( this.nom!=''&&this.prenom!=''&&this.email!=''&&this.cinchauffeur!=''\r\n       && this.motdepasse!='' && this.codevehicule!='' )\r\n       {\r\n        axios.post(\"http://localhost:5000/api/Users\", {\r\n        nom:this.nom,\r\n        prenom:this.prenom,\r\n        email:this.email,\r\n        motdepasse:this.motdepasse,\r\n        type:'chauffeur',\r\n        image:'hhhhhhhhhhhh', // à changer\r\n        societe:localStorage.getItem('societe')\r\n\r\n      }).then((response) =>{\r\n       axios.post(\"http://localhost:5000/api/Chauffeurs\", {\r\n       Cinchauffeur: this.cinchauffeur,\r\n       Idsociete:localStorage.getItem('societe'),\r\n       Iduser: this.iduser,\r\n      })\r\n      .then((response) =>{\r\n axios\r\n      .get(\"http://localhost:5000/api/Camions/\"+this.codevehicule+\"/camion/codevehicule\")\r\n      .then((response) =>{\r\n      this.camion= response.data\r\n      console.log(this.camion.idcamion)\r\n       axios.put(\"http://localhost:5000/api/Camions/\"+this.camion.idcamion, {\r\n      idcamion:this.camion.idcamion,\r\n      trajet:this.camion.camiontrajet,\r\n      destination:this.camion.destination,\r\n      placementactuel:this.camion.placementactuel,\r\n      idtransporteur:localStorage.getItem('iduser'),\r\n      idchauffeur:this.idchauffeur,\r\n      codevehicule:this.codevehicule,\r\n      statut:this.camion.statut,\r\n      }).catch((error) => console.log(error)) \r\n      }\r\n      )\r\n      .catch((error) => console.log(error)) \r\n      })\r\n      .catch((error) => console.log(error)) \r\n\r\n      })\r\n      .catch((error) => console.log(error)) \r\n      this.sucess=true\r\n      this.error=false\r\n      this.close();\r\n       }\r\n       else if(this.nom!=''&&this.prenom!=''&&this.email!=''&&this.cinchauffeur!=''\r\n       && this.motdepasse!='' && this.codevehicule==''){\r\n        axios.post(\"http://localhost:5000/api/Users\", {\r\n        nom:this.nom,\r\n        prenom:this.prenom,\r\n        email:this.email,\r\n        motdepasse:this.motdepasse,\r\n        type:'chauffeur',\r\n        image:'hjjjjjjjj',\r\n        societe:localStorage.getItem('societe')\r\n\r\n      }).then((response) =>{\r\n       axios.post(\"http://localhost:5000/api/Chauffeurs\",{\r\n       Cinchauffeur: this.cinchauffeur,\r\n       Idsociete:localStorage.getItem('societe'),\r\n       Iduser: this.iduser,\r\n      }).then(()=>{\r\n        this.close();\r\n      })\r\n          \r\n       })}\r\n       else {\r\n         this.error=true;\r\n          this.sucess=false;\r\n       }\r\n      },\r\n     \r\n      \r\n       \r\n  }\r\n  }\r\n</script>\r\n\r\n\r\n<style>\r\n.modal {\r\n  transition: opacity 0.25s ease;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}