{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bg-gray-500 h-screen w-screen sm:px-8 md:px-16 sm:py-8\"\n}, [/*#__PURE__*/_createElementVNode(\"main\", {\n  class: \"container mx-auto max-w-screen-lg h-full\"\n}, [/*#__PURE__*/_createCommentVNode(\" file upload modal \"), /*#__PURE__*/_createElementVNode(\"article\", {\n  \"aria-label\": \"File Upload Modal\",\n  class: \"relative h-full flex flex-col bg-white shadow-xl rounded-md\",\n  ondrop: \"dropHandler(event);\",\n  ondragover: \"dragOverHandler(event);\",\n  ondragleave: \"dragLeaveHandler(event);\",\n  ondragenter: \"dragEnterHandler(event);\"\n}, [/*#__PURE__*/_createCommentVNode(\" overlay \"), /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"overlay\",\n  class: \"w-full h-full absolute top-0 left-0 pointer-events-none z-50 flex flex-col items-center justify-center rounded-md\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", null, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"fill-current w-12 h-12 mb-3 text-blue-700\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M19.479 10.092c-.212-3.951-3.473-7.092-7.479-7.092-4.005 0-7.267 3.141-7.479 7.092-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408zm-7.479-1.092l4 4h-3v4h-2v-4h-3l4-4z\"\n})])]), /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-lg text-blue-700\"\n}, \"Drop files to upload\")]), /*#__PURE__*/_createCommentVNode(\" scroll area \"), /*#__PURE__*/_createElementVNode(\"section\", {\n  class: \"h-full overflow-auto p-8 w-full h-full flex flex-col\"\n}, [/*#__PURE__*/_createElementVNode(\"header\", {\n  class: \"border-dashed border-2 border-gray-400 py-12 flex flex-col justify-center items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mb-3 font-semibold text-gray-900 flex flex-wrap justify-center\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Drag and drop your\"), /*#__PURE__*/_createTextVNode(\"Â \"), /*#__PURE__*/_createElementVNode(\"span\", null, \"files anywhere or\")]), /*#__PURE__*/_createElementVNode(\"input\", {\n  id: \"hidden-input\",\n  type: \"file\",\n  multiple: \"\",\n  class: \"hidden\"\n}), /*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"button\",\n  class: \"mt-2 rounded-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none\"\n}, \" Upload a file \")]), /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"pt-8 pb-3 font-semibold sm:text-lg text-gray-900\"\n}, \" To Upload \"), /*#__PURE__*/_createElementVNode(\"ul\", {\n  id: \"gallery\",\n  class: \"flex flex-1 flex-wrap -m-1\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", {\n  id: \"empty\",\n  class: \"h-full w-full text-center flex flex-col items-center justify-center items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"mx-auto w-32\",\n  src: \"https://user-images.githubusercontent.com/507615/54591670-ac0a0180-4a65-11e9-846c-e55ffce0fe7b.png\",\n  alt: \"no data\"\n}), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-small text-gray-500\"\n}, \"No files selected\")])])]), /*#__PURE__*/_createCommentVNode(\" sticky footer \"), /*#__PURE__*/_createElementVNode(\"footer\", {\n  class: \"flex justify-end px-8 pb-8 pt-4\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"submit\",\n  class: \"rounded-sm px-3 py-1 bg-blue-700 hover:bg-blue-500 text-white focus:shadow-outline focus:outline-none\"\n}, \" Upload now \"), /*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"cancel\",\n  class: \"ml-3 rounded-sm px-3 py-1 hover:bg-gray-300 focus:shadow-outline focus:outline-none\"\n}, \" Cancel \")])])])], -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<template id=\\\"file-template\\\"><li class=\\\"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8 h-24\\\"><article tabindex=\\\"0\\\" class=\\\"group w-full h-full rounded-md focus:outline-none focus:shadow-outline elative bg-gray-100 cursor-pointer relative shadow-sm\\\"><img alt=\\\"upload preview\\\" class=\\\"img-preview hidden w-full h-full sticky object-cover rounded-md bg-fixed\\\"><section class=\\\"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3\\\"><h1 class=\\\"flex-1 group-hover:text-blue-800\\\"></h1><div class=\\\"flex\\\"><span class=\\\"p-1 text-blue-800\\\"><i><svg class=\\\"fill-current w-4 h-4 ml-auto pt-1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M15 2v5h5v15h-16v-20h11zm1-2h-14v24h20v-18l-6-6z\\\"></path></svg></i></span><p class=\\\"p-1 size text-xs text-gray-700\\\"></p><button class=\\\"delete ml-auto focus:outline-none hover:bg-gray-300 p-1 rounded-md text-gray-800\\\"><svg class=\\\"pointer-events-none fill-current w-4 h-4 ml-auto\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path class=\\\"pointer-events-none\\\" d=\\\"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z\\\"></path></svg></button></div></section></article></li></template><template id=\\\"image-template\\\"><li class=\\\"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8 h-24\\\"><article tabindex=\\\"0\\\" class=\\\"group hasImage w-full h-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm\\\"><img alt=\\\"upload preview\\\" class=\\\"img-preview w-full h-full sticky object-cover rounded-md bg-fixed\\\"><section class=\\\"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3\\\"><h1 class=\\\"flex-1\\\"></h1><div class=\\\"flex\\\"><span class=\\\"p-1\\\"><i><svg class=\\\"fill-current w-4 h-4 ml-auto pt-\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z\\\"></path></svg></i></span><p class=\\\"p-1 size text-xs\\\"></p><button class=\\\"delete ml-auto focus:outline-none hover:bg-gray-300 p-1 rounded-md\\\"><svg class=\\\"pointer-events-none fill-current w-4 h-4 ml-auto\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path class=\\\"pointer-events-none\\\" d=\\\"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z\\\"></path></svg></button></div></section></article></li></template>\", 2);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createCommentVNode(\" using two similar templates for simplicity in js code \"), _hoisted_2], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;gCAEAA,oBAiDU,KAjDV,EAiDU;AAjDLC,OAAK,EAAC;AAiDD,CAjDV,EAAmE,cAC7DD,oBA+CO,MA/CP,EA+CO;AA/CDC,OAAK,EAAC;AA+CL,CA/CP,EAAsD,cACpDC,0CADoD,eAEpDF,oBA4CU,SA5CV,EA4CU;AA5CD,gBAAW,mBA4CV;AA5C8BC,OAAK,EAAC,6DA4CpC;AA5CkGE,QAAM,EAAC,qBA4CzG;AA5C+HC,YAAU,EAAC,yBA4C1I;AA5CoKC,aAAW,EAAC,0BA4ChL;AA5C2MC,aAAW,EAAC;AA4CvN,CA5CV,gBACEJ,+CACAF,oBAOM,KAPN,EAOM;AAPDO,IAAE,EAAC,SAOF;AAPYN,OAAK,EAAC;AAOlB,CAPN,gBACED,oBAII,GAJJ,EAII,IAJJ,EAII,cAHFA,oBAEM,KAFN,EAEM;AAFDC,OAAK,EAAC,2CAEL;AAFiDO,OAAK,EAAC,4BAEvD;AAFoFC,OAAK,EAAC,IAE1F;AAF+FC,QAAM,EAAC,IAEtG;AAF2GC,SAAO,EAAC;AAEnH,CAFN,gBACEX,oBAA4P,MAA5P,EAA4P;AAAtPY,GAAC,EAAC;AAAoP,CAA5P,EADF,CAGE,CAJJ,gBAKAZ,oBAAyD,GAAzD,EAAyD;AAAtDC,OAAK,EAAC;AAAgD,CAAzD,EAAiC,sBAAjC,EANF,gBASAC,mDACAF,oBAqBU,SArBV,EAqBU;AArBDC,OAAK,EAAC;AAqBL,CArBV,EAAqE,cACnED,oBAQS,QART,EAQS;AARDC,OAAK,EAAC;AAQL,CART,EAAsG,cACpGD,oBAEI,GAFJ,EAEI;AAFDC,OAAK,EAAC;AAEL,CAFJ,EAAyE,cACvED,oBAA+B,MAA/B,EAA+B,IAA/B,EAAM,oBAAN,CADuE,gCACxC,IADwC,eAClCA,oBAA8B,MAA9B,EAA8B,IAA9B,EAAM,mBAAN,CADkC,CAAzE,CADoG,eAIpGA,oBAA+D,OAA/D,EAA+D;AAAxDO,IAAE,EAAC,cAAqD;AAAtCM,MAAI,EAAC,MAAiC;AAA1BC,UAAQ,EAAR,EAA0B;AAAjBb,OAAK,EAAC;AAAW,CAA/D,CAJoG,eAKpGD,oBAES,QAFT,EAES;AAFDO,IAAE,EAAC,QAEF;AAFWN,OAAK,EAAC;AAEjB,CAFT,EAA4H,iBAA5H,CALoG,CAAtG,CADmE,eAWnED,oBAEK,IAFL,EAEK;AAFDC,OAAK,EAAC;AAEL,CAFL,EAA6D,aAA7D,CAXmE,eAenED,oBAKK,IALL,EAKK;AALDO,IAAE,EAAC,SAKF;AALYN,OAAK,EAAC;AAKlB,CALL,gBACED,oBAGK,IAHL,EAGK;AAHDO,IAAE,EAAC,OAGF;AAHUN,OAAK,EAAC;AAGhB,CAHL,gBACED,oBAAmJ,KAAnJ,EAAmJ;AAA9IC,OAAK,EAAC,cAAwI;AAAzHc,KAAG,EAAC,oGAAqH;AAAhBC,KAAG,EAAC;AAAY,CAAnJ,gBACAhB,oBAA+D,MAA/D,EAA+D;AAAzDC,OAAK,EAAC;AAAmD,CAA/D,EAAuC,mBAAvC,EAFF,EADF,CAfmE,CAArE,gBAuBAC,qDACAF,oBAOS,QAPT,EAOS;AAPDC,OAAK,EAAC;AAOL,CAPT,EAA+C,cAC7CD,oBAES,QAFT,EAES;AAFDO,IAAE,EAAC,QAEF;AAFWN,OAAK,EAAC;AAEjB,CAFT,EAAkI,cAAlI,CAD6C,eAI7CD,oBAES,QAFT,EAES;AAFDO,IAAE,EAAC,QAEF;AAFWN,OAAK,EAAC;AAEjB,CAFT,EAAgH,UAAhH,CAJ6C,CAA/C,EApCF,CAFoD,CAAtD,CAD6D,CAAnE;;AAAA;;;;;6DAAAgB,YAmDIf,gFACAgB","names":["_createElementVNode","class","_createCommentVNode","ondrop","ondragover","ondragleave","ondragenter","id","xmlns","width","height","viewBox","d","type","multiple","src","alt","_hoisted_1","_hoisted_2"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Client\\components\\dragdropfile.vue"],"sourcesContent":["<!-- component -->\n<template>\n<div class=\"bg-gray-500 h-screen w-screen sm:px-8 md:px-16 sm:py-8\">\n      <main class=\"container mx-auto max-w-screen-lg h-full\">\n        <!-- file upload modal -->\n        <article aria-label=\"File Upload Modal\" class=\"relative h-full flex flex-col bg-white shadow-xl rounded-md\" ondrop=\"dropHandler(event);\" ondragover=\"dragOverHandler(event);\" ondragleave=\"dragLeaveHandler(event);\" ondragenter=\"dragEnterHandler(event);\">\n          <!-- overlay -->\n          <div id=\"overlay\" class=\"w-full h-full absolute top-0 left-0 pointer-events-none z-50 flex flex-col items-center justify-center rounded-md\">\n            <i>\n              <svg class=\"fill-current w-12 h-12 mb-3 text-blue-700\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                <path d=\"M19.479 10.092c-.212-3.951-3.473-7.092-7.479-7.092-4.005 0-7.267 3.141-7.479 7.092-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408zm-7.479-1.092l4 4h-3v4h-2v-4h-3l4-4z\" />\n              </svg>\n            </i>\n            <p class=\"text-lg text-blue-700\">Drop files to upload</p>\n          </div>\n\n          <!-- scroll area -->\n          <section class=\"h-full overflow-auto p-8 w-full h-full flex flex-col\">\n            <header class=\"border-dashed border-2 border-gray-400 py-12 flex flex-col justify-center items-center\">\n              <p class=\"mb-3 font-semibold text-gray-900 flex flex-wrap justify-center\">\n                <span>Drag and drop your</span>&nbsp;<span>files anywhere or</span>\n              </p>\n              <input id=\"hidden-input\" type=\"file\" multiple class=\"hidden\" />\n              <button id=\"button\" class=\"mt-2 rounded-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none\">\n                Upload a file\n              </button>\n            </header>\n\n            <h1 class=\"pt-8 pb-3 font-semibold sm:text-lg text-gray-900\">\n              To Upload\n            </h1>\n\n            <ul id=\"gallery\" class=\"flex flex-1 flex-wrap -m-1\">\n              <li id=\"empty\" class=\"h-full w-full text-center flex flex-col items-center justify-center items-center\">\n                <img class=\"mx-auto w-32\" src=\"https://user-images.githubusercontent.com/507615/54591670-ac0a0180-4a65-11e9-846c-e55ffce0fe7b.png\" alt=\"no data\" />\n                <span class=\"text-small text-gray-500\">No files selected</span>\n              </li>\n            </ul>\n          </section>\n\n          <!-- sticky footer -->\n          <footer class=\"flex justify-end px-8 pb-8 pt-4\">\n            <button id=\"submit\" class=\"rounded-sm px-3 py-1 bg-blue-700 hover:bg-blue-500 text-white focus:shadow-outline focus:outline-none\">\n              Upload now\n            </button>\n            <button id=\"cancel\" class=\"ml-3 rounded-sm px-3 py-1 hover:bg-gray-300 focus:shadow-outline focus:outline-none\">\n              Cancel\n            </button>\n          </footer>\n        </article>\n      </main>\n    </div>\n\n    <!-- using two similar templates for simplicity in js code -->\n    <template id=\"file-template\">\n      <li class=\"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8 h-24\">\n        <article tabindex=\"0\" class=\"group w-full h-full rounded-md focus:outline-none focus:shadow-outline elative bg-gray-100 cursor-pointer relative shadow-sm\">\n          <img alt=\"upload preview\" class=\"img-preview hidden w-full h-full sticky object-cover rounded-md bg-fixed\" />\n\n          <section class=\"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3\">\n            <h1 class=\"flex-1 group-hover:text-blue-800\"></h1>\n            <div class=\"flex\">\n              <span class=\"p-1 text-blue-800\">\n                <i>\n                  <svg class=\"fill-current w-4 h-4 ml-auto pt-1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                    <path d=\"M15 2v5h5v15h-16v-20h11zm1-2h-14v24h20v-18l-6-6z\" />\n                  </svg>\n                </i>\n              </span>\n              <p class=\"p-1 size text-xs text-gray-700\"></p>\n              <button class=\"delete ml-auto focus:outline-none hover:bg-gray-300 p-1 rounded-md text-gray-800\">\n                <svg class=\"pointer-events-none fill-current w-4 h-4 ml-auto\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                  <path class=\"pointer-events-none\" d=\"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z\" />\n                </svg>\n              </button>\n            </div>\n          </section>\n        </article>\n      </li>\n    </template>\n\n    <template id=\"image-template\">\n      <li class=\"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8 h-24\">\n        <article tabindex=\"0\" class=\"group hasImage w-full h-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm\">\n          <img alt=\"upload preview\" class=\"img-preview w-full h-full sticky object-cover rounded-md bg-fixed\" />\n\n          <section class=\"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3\">\n            <h1 class=\"flex-1\"></h1>\n            <div class=\"flex\">\n              <span class=\"p-1\">\n                <i>\n                  <svg class=\"fill-current w-4 h-4 ml-auto pt-\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                    <path d=\"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z\" />\n                  </svg>\n                </i>\n              </span>\n\n              <p class=\"p-1 size text-xs\"></p>\n              <button class=\"delete ml-auto focus:outline-none hover:bg-gray-300 p-1 rounded-md\">\n                <svg class=\"pointer-events-none fill-current w-4 h-4 ml-auto\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                  <path class=\"pointer-events-none\" d=\"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z\" />\n                </svg>\n              </button>\n            </div>\n          </section>\n        </article>\n      </li>\n    </template>\n</template>\n<script>\nconst fileTempl = document.getElementById(\"file-template\"),\n  imageTempl = document.getElementById(\"image-template\"),\n  empty = document.getElementById(\"empty\");\n\n// use to store pre selected files\nlet FILES = {};\n\n// check if file is of type image and prepend the initialied\n// template to the target element\nfunction addFile(target, file) {\n  const isImage = file.type.match(\"image.*\"),\n    objectURL = URL.createObjectURL(file);\n\n  const clone = isImage\n    ? imageTempl.content.cloneNode(true)\n    : fileTempl.content.cloneNode(true);\n\n  clone.querySelector(\"h1\").textContent = file.name;\n  clone.querySelector(\"li\").id = objectURL;\n  clone.querySelector(\".delete\").dataset.target = objectURL;\n  clone.querySelector(\".size\").textContent =\n    file.size > 1024\n      ? file.size > 1048576\n        ? Math.round(file.size / 1048576) + \"mb\"\n        : Math.round(file.size / 1024) + \"kb\"\n      : file.size + \"b\";\n\n  isImage &&\n    Object.assign(clone.querySelector(\"img\"), {\n      src: objectURL,\n      alt: file.name\n    });\n\n  empty.classList.add(\"hidden\");\n  target.prepend(clone);\n\n  FILES[objectURL] = file;\n}\n\nconst gallery = document.getElementById(\"gallery\"),\n  overlay = document.getElementById(\"overlay\");\n\n// click the hidden input of type file if the visible button is clicked\n// and capture the selected files\nconst hidden = document.getElementById(\"hidden-input\");\ndocument.getElementById(\"button\").onclick = () => hidden.click();\nhidden.onchange = (e) => {\n  for (const file of e.target.files) {\n    addFile(gallery, file);\n  }\n};\n\n// use to check if a file is being dragged\nconst hasFiles = ({ dataTransfer: { types = [] } }) =>\n  types.indexOf(\"Files\") > -1;\n\n// use to drag dragenter and dragleave events.\n// this is to know if the outermost parent is dragged over\n// without issues due to drag events on its children\nlet counter = 0;\n\n// reset counter and append file to gallery when file is dropped\nfunction dropHandler(ev) {\n  ev.preventDefault();\n  for (const file of ev.dataTransfer.files) {\n    addFile(gallery, file);\n    overlay.classList.remove(\"draggedover\");\n    counter = 0;\n  }\n}\n\n// only react to actual files being dragged\nfunction dragEnterHandler(e) {\n  e.preventDefault();\n  if (!hasFiles(e)) {\n    return;\n  }\n  ++counter && overlay.classList.add(\"draggedover\");\n}\n\nfunction dragLeaveHandler(e) {\n  1 > --counter && overlay.classList.remove(\"draggedover\");\n}\n\nfunction dragOverHandler(e) {\n  if (hasFiles(e)) {\n    e.preventDefault();\n  }\n}\n\n// event delegation to caputre delete events\n// fron the waste buckets in the file preview cards\ngallery.onclick = ({ target }) => {\n  if (target.classList.contains(\"delete\")) {\n    const ou = target.dataset.target;\n    document.getElementById(ou).remove(ou);\n    gallery.children.length === 1 && empty.classList.remove(\"hidden\");\n    delete FILES[ou];\n  }\n};\n\n// print all selected files\ndocument.getElementById(\"submit\").onclick = () => {\n  alert(`Submitted Files:\\n${JSON.stringify(FILES)}`);\n  console.log(FILES);\n};\n\n// clear entire selection\ndocument.getElementById(\"cancel\").onclick = () => {\n  while (gallery.children.length > 0) {\n    gallery.lastChild.remove();\n  }\n  FILES = {};\n  empty.classList.remove(\"hidden\");\n  gallery.append(empty);\n};\n\n</script>\n\n<style>\n.hasImage:hover section {\n  background-color: rgba(5, 5, 5, 0.4);\n}\n.hasImage:hover button:hover {\n  background: rgba(5, 5, 5, 0.45);\n}\n\n#overlay p,\ni {\n  opacity: 0;\n}\n\n#overlay.draggedover {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n#overlay.draggedover p,\n#overlay.draggedover i {\n  opacity: 1;\n}\n\n.group:hover .group-hover\\:text-blue-800 {\n  color: #2b6cb0;\n}\n</style>"]},"metadata":{},"sourceType":"module"}