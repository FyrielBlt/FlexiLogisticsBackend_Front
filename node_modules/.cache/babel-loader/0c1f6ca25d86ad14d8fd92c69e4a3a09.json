{"ast":null,"code":"//import Breadcrumb from \"../../partials/Breadcrumb.vue\";\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport ModalLayoutOffre from \"/src/views/Transporteur/Offres/ModalLayoutOffre.vue\";\nimport PaginationVue from \"/src/components/Intermediaire/pagination/PaginationVue.vue\";\nimport ModalDemandeFiles from \"/src/views/Transporteur/Demandes/ModalDemandeFiles.vue\";\nimport url from \"../../../store/Api\";\n;\nexport default {\n  components: {\n    ModalLayoutOffre,\n    PaginationVue,\n    ModalDemandeFiles\n  },\n\n  data() {\n    return {\n      demandes: [],\n      etatdemande: '',\n      open: ref(false),\n      description: \"\",\n      depart: \"\",\n      arrive: \"\",\n      success: false,\n      villes: [],\n      long: '',\n      currentPage: 1,\n      num: '',\n      date: '',\n      perPage: 5,\n      searchby: '',\n      total: ''\n    };\n  },\n\n  created() {\n    axios.get(url + \"villes\").then(resp => this.villes = resp.data);\n    axios.get(url + \"DemandeDevis/\" + localStorage.getItem(\"idtransporteur\") + \"/traite\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage).then(response => {\n      this.demandes = response.data;\n    }).catch(error => console.log(error));\n    axios.get(url + \"villes\").then(resp => this.villes = resp.data);\n    axios.get(url + \"DemandeDevis/\" + localStorage.getItem(\"idtransporteur\") + \"/traite\").then(response => {\n      this.long = response.data;\n    }).catch(error => console.log(error));\n  },\n\n  methods: {\n    searchfunction(mot) {\n      axios.get(url + \"DemandeDevis/\" + localStorage.getItem(\"idtransporteur\") + \"/traite\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage + \"&search=\" + this.num).then(response => {\n        this.demandes = response.data;\n      }).catch(error => console.log(error));\n    },\n\n    ChangePage(NumPage) {\n      this.currentPage = NumPage;\n      this.perPage = this.perPage;\n      axios.get(url + \"DemandeDevis/\" + localStorage.getItem(\"idtransporteur\") + \"/traite\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage + \"&&depart=\" + this.depart + \"&arrive=\" + this.arrive + \"&date=\" + this.date + \"&etat=\" + this.etatdemande).then(response => {\n        this.demandes = response.data;\n      }).catch(error => console.log(error));\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","axios","ModalLayoutOffre","PaginationVue","ModalDemandeFiles","url","components","data","demandes","etatdemande","open","description","depart","arrive","success","villes","long","currentPage","num","date","perPage","searchby","total","created","get","then","resp","localStorage","getItem","response","catch","error","console","log","methods","searchfunction","mot","ChangePage","NumPage"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Transporteur\\Demandes\\ModalLayoutHistoriqueDemande.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Breadcrumb -->\n    <Breadcrumb breadcrumb=\"Blank\" />\n    <div class=\"mt-8\">\n      <div class=\"mt-6\">\n        <div class=\"px-4 py-4 -mx-4 overflow-x-auto sm:-mx-8 sm:px-8\">\n          <div\n            class=\"inline-block min-w-full overflow-hidden rounded-lg shadow\"\n          >\n           <div class=\"flex flex-col mt-3 text-center sm:flex-row\">\n          <div class=\"flex\">\n            \n            <div class=\"relative\">\n              <select\n                class=\"\n                  block\n                  w-full\n                  h-full\n                  px-4\n                  py-2\n                  pr-8\n                  leading-tight\n                  text-gray-700\n                  bg-white\n                  border border-gray-400\n                  rounded-l\n                  appearance-none\n                  focus:outline-none focus:bg-white focus:border-gray-500\n                \"\n                v-model=\"perPage\"\n                @change=\"ChangePage(this.currentPage)\"\n              >\n                <option value=\"5\">5</option>\n                <option value=\"10\">10</option>\n                <option value=\"20\">20</option>\n              </select>\n\n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n                <svg\n                  class=\"w-4 h-4 fill-current\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                  />\n                </svg>\n              </div>\n            </div>\n<div class=\"relative\">\n             <select\n              v-model=\"depart\"\n              @change=\"ChangePage(this.currentPage)\"\n              class=\"\n                form-select\n                appearance-none\n                block\n                w-full\n                px-3\n                py-1.5\n                text-base\n                font-semibold\n                text-gray-700\n                bg-white bg-clip-padding bg-no-repeat\n                border border-solid border-gray-300\n                rounded\n                transition\n                ease-in-out\n                m-0\n                focus:text-gray-700\n                focus:bg-white\n                focus:border-blue-600\n                focus:outline-none\n              \"\n              aria-label=\"Default select example\"\n            >\n              <option value=\"\" class=\"font-semibold\" selected>depart</option>\n              <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n                --{{ v.nomVille }}--\n              </option>\n            </select>\n             \n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n                <svg\n                  class=\"w-4 h-4 fill-current\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                  />\n                </svg>\n              </div>\n              \n            </div>\n            <div class=\"relative\">\n             <select\n              v-model=\"arrive\"\n              @change=\"ChangePage(this.currentPage)\"\n              class=\"\n                form-select\n                appearance-none\n                block\n                w-full\n                px-3\n                py-1.5\n                text-base\n                font-semibold\n                text-gray-700\n                bg-white bg-clip-padding bg-no-repeat\n                border border-solid border-gray-300\n                rounded\n                transition\n                ease-in-out\n                m-0\n                focus:text-gray-700\n                focus:bg-white\n                focus:border-blue-600\n                focus:outline-none\n              \"\n              aria-label=\"Default select example\"\n            >\n              <option value=\"\" class=\"font-semibold\" selected>Arrive</option>\n              <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n                --{{ v.nomVille }}--\n              </option>\n            </select>\n             \n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n                <svg\n                  class=\"w-4 h-4 fill-current\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                  />\n                </svg>\n              </div>\n            </div>\n            <div class=\"relative\">\n             \n\n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n                <svg\n                  class=\"w-4 h-4 fill-current\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                  />\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div class=\"relative\">\n             <input\n             type=\"date\"\n              v-model=\"date\"\n              @change=\"ChangePage(this.currentPage)\"\n              class=\"\n                form-select\n                appearance-none\n                block\n                w-full\n                px-3\n                py-1.5\n                text-base\n                font-semibold\n                text-gray-700\n                bg-white bg-clip-padding bg-no-repeat\n                border border-solid border-gray-300\n                rounded\n                transition\n                ease-in-out\n                m-0\n                focus:text-gray-700\n                focus:bg-white\n                focus:border-blue-600\n                focus:outline-none\n              \"\n              aria-label=\"Default select example\"\n            />\n            </div>\n             <div class=\"relative\">\n              <select\n                class=\"\n                  block\n                  w-full\n                  h-full\n                  px-4\n                  py-2\n                  pr-8\n                  leading-tight\n                  text-gray-700\n                  bg-white\n                  border border-gray-400\n                  rounded-l\n                  appearance-none\n                  focus:outline-none focus:bg-white focus:border-gray-500\n                \"\n                v-model=\"etatdemande\"\n                @change=\"ChangePage(this.currentPage)\"\n              >\n                \n                <option  value=''>All</option>\n                <option value=\"Refuse\">Réfusé</option>\n                <option value=\"Accepte\">Accepté</option>\n              </select>\n\n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n                <svg\n                  class=\"w-4 h-4 fill-current\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                  />\n                </svg>\n              </div>\n             </div>\n              <div class=\"relative\">\n              <input\n              v-model=\"num\"\n              placeholder=\"numéro demande\"\n              class=\"block w-full py-2 pl-8 pr-6 text-xm text-gray-700 placeholder-gray-400 bg-white border border-b border-gray-400 rounded-l rounded-r appearance-none sm:rounded-l-none focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\n              @keyup=\"searchfunction(this.searchby)\"\n            />\n             \n              <div\n                class=\"\n                  absolute\n                  inset-y-0\n                  right-0\n                  flex\n                  items-center\n                  px-2\n                  text-gray-700\n                  pointer-events-none\n                \"\n              >\n               \n              </div>\n              \n            </div>\n        </div>\n            <table id=\"example\" class=\"min-w-full leading-normal\">\n              <thead>\n                <tr>\n                   <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Numero\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Description\n                  </th>\n                 \n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Adress depart\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Destination\n                  </th>\n                   <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Date de livraison\n                  </th>\n                    <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Fichiers\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Etat\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(demande, index) in demandes\" :key=\"index\">\n                   <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        {{ demande.idDemandeNavigation.idDemande }}\n                      </div>\n                    </div>\n                  </td>\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        <p class=\"text-gray-900 whitespace-nowrap\">\n                          {{demande.idDemandeNavigation.description }}\n                        </p>\n                      </div>\n                    </div>\n                  </td>\n                 \n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        {{ demande.idDemandeNavigation.adressdepart }}\n                      </div>\n                    </div>\n                  </td>\n                   <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        {{ demande.idDemandeNavigation.adressarrive }}\n                      </div>\n                    </div>\n                  </td>\n                     <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        <p class=\"text-gray-900 whitespace-nowrap\">\n                          {{demande.idDemandeNavigation.date.substr(0,10) }}\n                        </p>\n                      </div>\n                    </div>\n                  </td>\n                   <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\"  >\n                <modal-demande-files :u=\"demande\"></modal-demande-files>\n                      </div>\n                    </div>\n                  </td>\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        {{ demande.idEtatNavigation.etat }}\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n                             <div\n              class=\"\n                flex flex-col\n                items-center\n                px-2\n                py-2\n                bg-white\n                border-t\n                xs:flex-row xs:justify-between\n              \"\n            >\n              <div class=\"inline-flex xs:mt-0\">\n              <!-- PAGINATION -->\n                <pagination-vue\n                  :current=\"currentPage\"\n                  :total=\"this.long.length\"\n                  :per-page=\"perPage\"\n                  @page-changed=\"ChangePage\"\n                ></pagination-vue>\n              </div>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n//import Breadcrumb from \"../../partials/Breadcrumb.vue\";\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport ModalLayoutOffre from \"/src/views/Transporteur/Offres/ModalLayoutOffre.vue\";\nimport PaginationVue from \"/src/components/Intermediaire/pagination/PaginationVue.vue\";\nimport ModalDemandeFiles from \"/src/views/Transporteur/Demandes/ModalDemandeFiles.vue\";import url from \"../../../store/Api\";\n;\n\nexport default {\n  components: {\n    ModalLayoutOffre,\n    PaginationVue,\n    ModalDemandeFiles\n  },\n  data() {\n    return {\n      demandes: [],\n      etatdemande:'',\n      open: ref(false),\n      description: \"\",\n      depart: \"\",\n      arrive: \"\",\n      success: false,\n      villes:[],\n      long:'',\n      currentPage:1,\n      num:'',\n      date:'',\n      perPage:5,\n      searchby:'',\n      total:'',\n    };\n  },\n  created() {\n     axios\n      .get(url+\"villes\")\n      .then((resp) => (this.villes = resp.data));\n        axios\n          .get(\n            url+\"DemandeDevis/\" +\n              localStorage.getItem(\"idtransporteur\") +\n              \"/traite\"+\n              \"?page=\"+this.currentPage+\"&quantityPage=\"+this.perPage\n              \n          )\n          .then((response) => {\n            \n            this.demandes = response.data;\n          })\n          .catch((error) => console.log(error));\n       axios\n      .get(url+\"villes\")\n      .then((resp) => (this.villes = resp.data));\n        axios\n          .get(\n            url+\"DemandeDevis/\" +\n              localStorage.getItem(\"idtransporteur\") +\n              \"/traite\"\n              \n              \n          )\n          .then((response) => {\n            \n            this.long = response.data;\n          })\n          .catch((error) => console.log(error));\n  },\n methods:{\n   searchfunction(mot) {\naxios\n          .get(\n            url+\"DemandeDevis/\" +\n              localStorage.getItem(\"idtransporteur\") +\n              \"/traite\" +\n              \"?page=\"+this.currentPage+\"&quantityPage=\"+this.perPage\n               +\"&search=\"+this.num\n              \n          \n          )\n          .then((response) => {\n            \n            this.demandes = response.data;\n          })\n          .catch((error) => console.log(error));\n      },\n  ChangePage(NumPage) {\n        this.currentPage=NumPage;\n        this.perPage=this.perPage;\n       \n        axios\n          .get(\n            url+\"DemandeDevis/\" +\n               localStorage.getItem(\"idtransporteur\") +\n               \"/traite\"+\"?page=\"+this.currentPage+\"&quantityPage=\"+this.perPage+\"&&depart=\"+this.depart\n              +\"&arrive=\"+this.arrive +\"&date=\"+this.date+\"&etat=\"+this.etatdemande\n              \n          )\n          .then((response) => {\n            \n            this.demandes = response.data;\n          })\n          .catch((error) => console.log(error));\n      \n     },\n }\n};\n</script>\n<style>\n.modal {\n  transition: opacity 0.25s ease;\n}\n</style>"]},"metadata":{},"sourceType":"module"}