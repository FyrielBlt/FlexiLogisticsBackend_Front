{"ast":null,"code":"// import Breadcrumb from \"../../partials/Breadcrumb.vue\";\nimport { ref } from 'vue';\nimport axios from \"axios\";\nimport PaginationVue from \"../../components/Intermediaire/pagination/PaginationVue.vue\";\nimport $ from 'jquery';\nexport default {\n  components: {\n    // Breadcrumb,\n    PaginationVue\n  },\n\n  data() {\n    return {\n      demandes: [],\n      open: ref(false),\n      success: false,\n      description: '',\n      depart: '',\n      arrive: '',\n      villes: [],\n      updateinputdisable: true,\n      update: true,\n      descupdate: \"\",\n      departupdate: \"\",\n      arriveupdate: \"\",\n      poids: \"\",\n      largeur: \"\",\n      hauteur: \"\",\n      datedemande: \"\",\n      page: 1,\n      perpage: 5,\n      departfilter: '',\n      arrivefilter: ''\n    };\n  },\n\n  created() {\n    axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n      this.demandes = response.data;\n    });\n    axios.get('http://localhost:5000/api/villes').then(resp => this.villes = resp.data);\n  },\n\n  methods: {\n    ChangePage(NumPage) {\n      this.page = NumPage;\n      axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\") + \"?page=\" + this.page + \"&quantityPage=\" + this.perpage + \"&depart=\" + this.departfilter + \"&arrive=\" + this.arrivefilter).then(resp => {\n        this.demandes = resp.data;\n      });\n    },\n\n    updatedemande(id, index) {\n      axios.put('http://localhost:5000/api/demandelivraisons/' + id, {\n        \"idDemande\": id,\n        \"description\": this.demandes[index].description,\n        \"datecreation\": this.demandes[index].datecreation,\n        \"adressdepart\": this.demandes[index].adressdepart,\n        \"poids\": this.demandes[index].poids,\n        \"largeur\": this.demandes[index].largeur,\n        \"hauteur\": this.demandes[index].hauteur,\n        \"date\": this.demandes[index].date,\n        \"adressarrive\": this.demandes[index].adressarrive,\n        \"idEtatdemande\": this.demandes[index].idEtatdemande,\n        \"idclient\": this.demandes[index].idclient\n      }).then(() => {\n        this.open = false;\n        this.success = true;\n      });\n    },\n\n    demandelivraisons() {\n      const date = new Date();\n      axios.post('http://localhost:5000/api/demandelivraisons', {\n        \"description\": this.description,\n        \"datecreation\": date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate(),\n        \"adressdepart\": this.depart,\n        \"adressarrive\": this.arrive,\n        \"poids\": this.poids,\n        \"largeur\": this.largeur,\n        \"hauteur\": this.hauteur,\n        \"date\": this.datedemande,\n        \"idEtatdemande\": 4,\n        \"idclient\": localStorage.getItem(\"clientid\")\n      }).then(r => {\n        axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n          this.demandes = response.data;\n        });\n        this.open = false;\n        this.success = true;\n      }).catch(error => console.log(error));\n    },\n\n    supprimer(id) {\n      axios.delete('http://localhost:5000/api/demandelivraisons/' + id).then(() => {\n        axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n          this.demandes = response.data;\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","axios","PaginationVue","$","components","data","demandes","open","success","description","depart","arrive","villes","updateinputdisable","update","descupdate","departupdate","arriveupdate","poids","largeur","hauteur","datedemande","page","perpage","departfilter","arrivefilter","created","get","localStorage","getItem","then","response","resp","methods","ChangePage","NumPage","updatedemande","id","index","put","datecreation","adressdepart","date","adressarrive","idEtatdemande","idclient","demandelivraisons","Date","post","getFullYear","getMonth","getDate","r","catch","error","console","log","supprimer","delete"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Client\\demande.vue"],"sourcesContent":["<template>\n  <!-- Breadcrumb -->\n  <!-- <Breadcrumb breadcrumb=\"Demandes\" /> -->\n\n  <div\n    class=\"\n      inline-flex\n      w-full\n      max-w-sm\n      ml-3\n      overflow-hidden\n      bg-white\n      rounded-lg\n      shadow-md\n    \"\n    style=\"position: absolute; right: 50px\"\n    v-if=\"success\"\n    @click=\"success = false\"\n  >\n    <div class=\"flex items-center justify-center w-12 bg-green-500\">\n      <svg\n        class=\"w-6 h-6 text-white fill-current\"\n        viewBox=\"0 0 40 40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z\"\n        />\n      </svg>\n    </div>\n\n    <div class=\"px-4 py-2 -mx-3\">\n      <div class=\"mx-3\">\n        <span class=\"font-semibold text-green-500\">Succée</span>\n        <p class=\"text-sm text-gray-600\">Demande envoyé avec succée</p>\n      </div>\n    </div>\n  </div>\n  <div\n    :class=\"`modal ${\n      !open && 'opacity-0 pointer-events-none'\n    } z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`\"\n  >\n    <div\n      @click=\"open = false\"\n      class=\"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay\"\n    ></div>\n\n    <div\n      class=\"\n        z-50\n        w-11/12\n        mx-auto\n        overflow-y-auto\n        bg-white\n        rounded\n        shadow-lg\n        modal-container\n        md:max-w-md\n      \"\n    >\n      <div\n        class=\"\n          absolute\n          top-0\n          right-0\n          z-50\n          flex flex-col\n          items-center\n          mt-4\n          mr-4\n          text-sm text-white\n          cursor-pointer\n          modal-close\n        \"\n      >\n        <svg\n          class=\"text-white fill-current\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"18\"\n          height=\"18\"\n          viewBox=\"0 0 18 18\"\n        >\n          <path\n            d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\n          />\n        </svg>\n        <span class=\"text-sm\">(Esc)</span>\n      </div>\n\n      <!-- Add margin if you want to see some of the overlay behind the modal-->\n      <div class=\"px-6 py-4 text-left modal-content\">\n        <!--Title-->\n        <div class=\"flex items-center justify-between pb-3\">\n          <p class=\"text-2xl font-bold\">Demande Livraison</p>\n          <div class=\"z-50 cursor-pointer modal-close\" @click=\"open = false\">\n            <svg\n              class=\"text-black fill-current\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n            >\n              <path\n                d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\n              />\n            </svg>\n          </div>\n        </div>\n\n        <!--Body-->\n        <div class=\"px-5 py-6 text-gray-700 bg-gray-200 border-b\">\n          <label class=\"text-xs\">Description</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <textarea\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              v-model=\"description\"\n            />\n          </div>\n\n          <label class=\"text-xs\">Adresse depart</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n            <select\n              name=\"\"\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              id=\"\"\n              v-model=\"depart\"\n            >\n              <option\n                v-for=\"ville in villes\"\n                :key=\"ville\"\n                :value=\"ville.nomVille\"\n              >\n                {{ ville.nomVille }}\n              </option>\n            </select>\n          </div>\n\n          <label class=\"text-xs\">Adresse arrive</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <select\n              name=\"\"\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              id=\"\"\n              v-model=\"arrive\"\n            >\n              <option\n                v-for=\"ville in villes\"\n                :key=\"ville\"\n                :value=\"ville.nomVille\"\n              >\n                {{ ville.nomVille }}\n              </option>\n            </select>\n          </div>\n          <label class=\"text-xs\">Poids</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <input\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              type=\"number\"\n              v-model=\"poids\"\n            />\n          </div>\n          <label class=\"text-xs\">Largeur</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <input\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              type=\"number\"\n              v-model=\"largeur\"\n            />\n          </div>\n          <label class=\"text-xs\">Hauteur</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <input\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              type=\"number\"\n              v-model=\"hauteur\"\n            />\n          </div>\n          <label class=\"text-xs\">Date</label>\n\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\n            <span\n              class=\"\n                absolute\n                inset-y-0\n                left-0\n                flex\n                items-center\n                pl-3\n                text-gray-600\n              \"\n            >\n              <svg\n                class=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\n                />\n              </svg>\n            </span>\n\n            <input\n              class=\"\n                w-full\n                px-12\n                py-2\n                border-transparent\n                rounded-md\n                appearance-none\n                focus:border-indigo-600\n                focus:ring focus:ring-opacity-40 focus:ring-indigo-500\n              \"\n              type=\"date\"\n              v-model=\"datedemande\"\n            />\n          </div>\n        </div>\n\n        <!--Footer-->\n        <div class=\"flex justify-end pt-2\">\n          <button\n            @click=\"open = false\"\n            class=\"\n              p-3\n              px-6\n              py-3\n              mr-2\n              text-indigo-500\n              bg-transparent\n              rounded-lg\n              hover:bg-gray-100\n              hover:text-indigo-400\n              focus:outline-none\n            \"\n          >\n            Close\n          </button>\n          <button\n            @click=\"demandelivraisons()\"\n            class=\"\n              px-6\n              py-3\n              font-medium\n              tracking-wide\n              text-white\n              bg-indigo-600\n              rounded-md\n              hover:bg-indigo-500\n              focus:outline-none\n            \"\n          >\n            Valider\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"mt-6\">\n    <h2 class=\"text-xl font-semibold leading-tight text-gray-700\">Demandes</h2>\n    <div class=\"flex justify-center\">\n      <h4 class=\"font-semibold p-3\">Per Page :</h4>\n      <div class=\"mb-3 p-3\">\n        <select\n          v-model=\"perpage\"\n          @change=\"ChangePage(page)\"\n          class=\"\n            form-select\n            appearance-none\n            block\n            w-full\n            px-3\n            py-1.5\n            text-base\n            font-normal\n            text-gray-700\n            bg-white bg-clip-padding bg-no-repeat\n            border border-solid border-gray-300\n            rounded\n            transition\n            ease-in-out\n            m-0\n            focus:text-gray-700\n            focus:bg-white\n            focus:border-blue-600\n            focus:outline-none\n          \"\n          aria-label=\"Default select example\"\n        >\n          <option :value=\"2\">2</option>\n          <option :value=\"5\">5</option>\n          <option :value=\"10\">10</option>\n        </select>\n      </div>\n\n      <h4 class=\"font-semibold p-3\">Depart :</h4>\n      <div class=\"mb-3 xl:w-96 p-3\">\n        <select\n          v-model=\"departfilter\"\n          @change=\"ChangePage(page)\"\n          class=\"\n            form-select\n            appearance-none\n            block\n            w-full\n            px-3\n            py-1.5\n            text-base\n            font-semibold\n            text-gray-700\n            bg-white bg-clip-padding bg-no-repeat\n            border border-solid border-gray-300\n            rounded\n            transition\n            ease-in-out\n            m-0\n            focus:text-gray-700\n            focus:bg-white\n            focus:border-blue-600\n            focus:outline-none\n          \"\n          aria-label=\"Default select example\"\n        >\n          <option value=\"\" class=\"font-semibold\" selected>--Vide--</option>\n          <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n            --{{ v.nomVille }}--\n          </option>\n        </select>\n      </div>\n      <h4 class=\"font-semibold p-3\">Arrive :</h4>\n      <div class=\"mb-3 xl:w-96 p-3\">\n        <select\n          v-model=\"arrivefilter\"\n          @change=\"ChangePage(page)\"\n          class=\"\n            form-select\n            appearance-none\n            block\n            w-full\n            px-3\n            py-1.5\n            text-base\n            font-semibold\n            text-gray-700\n            bg-white bg-clip-padding bg-no-repeat\n            border border-solid border-gray-300\n            rounded\n            transition\n            ease-in-out\n            m-0\n            focus:text-gray-700\n            focus:bg-white\n            focus:border-blue-600\n            focus:outline-none\n          \"\n          aria-label=\"Default select example\"\n        >\n          <option value=\"\" class=\"font-semibold\" selected>--Vide--</option>\n          <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n            --{{ v.nomVille }}--\n          </option>\n        </select>\n      </div>\n    </div>\n    <div class=\"px-4 py-4 -mx-4 overflow-x-auto sm:-mx-8 sm:px-8\">\n      <div class=\"inline-block min-w-full overflow-hidden rounded-lg shadow\">\n        <table class=\"divide-y divide-gray-300\" style=\"width: 100%\">\n          <thead class=\"bg-gray-100\">\n            <tr>\n              <th\n                class=\"px-6 py-2 text-xs text-gray-500\"\n                style=\"padding: 15px 30px\"\n              >\n                DESCRIPTION\n              </th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ADRESSE DEPART</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ADRESSE ARRIVE</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">PONDS(KG)</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">LARGEUR(CM)</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">HAUTEUR(CM)</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">DATE</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">FILE</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ETAT</th>\n              <th class=\"px-6 py-2 text-xs text-gray-500\">SETTINGS</th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-500\">\n            <tr\n              class=\"whitespace-nowrap\"\n              v-for=\"(u, index) in demandes\"\n              :key=\"index\"\n            >\n              <td\n                class=\"text-sm bg-white border-b border-gray-200\"\n                style=\"padding: 30px 49px\"\n              >\n                <div class=\"flex items-center\">\n                  <div class=\"ml-3\">\n                    <p class=\"text-gray-900 whitespace-nowrap\">\n                      <input\n                        class=\"bg-white\"\n                        type=\"text\"\n                        v-model=\"u.description\"\n                        :disabled=\"updateinputdisable\"\n                      />\n                    </p>\n                  </div>\n                </div>\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  class=\"bg-white\"\n                  type=\"text\"\n                  v-model=\"u.adressdepart\"\n                  :disabled=\"updateinputdisable\"\n                />\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  class=\"bg-white\"\n                  type=\"text\"\n                  v-model=\"u.adressarrive\"\n                  :disabled=\"updateinputdisable\"\n                />\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  style=\"text-align: center\"\n                  class=\"bg-white\"\n                  type=\"number\"\n                  v-model=\"u.poids\"\n                  :disabled=\"updateinputdisable\"\n                />\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  style=\"text-align: center\"\n                  class=\"bg-white\"\n                  type=\"number\"\n                  v-model=\"u.largeur\"\n                  :disabled=\"updateinputdisable\"\n                />\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  style=\"text-align: center\"\n                  class=\"bg-white\"\n                  type=\"number\"\n                  v-model=\"u.hauteur\"\n                  :disabled=\"updateinputdisable\"\n                />\n              </td>\n              <td class=\"text-sm bg-white border-b border-gray-200\">\n                <input\n                  style=\"text-align: center\"\n                  class=\"bg-white\"\n                  type=\"date\"\n                  v-model=\"u.date\"\n                  :hidden=\"updateinputdisable\"\n                />\n                <span :hidden=\"!updateinputdisable\">{{ u.date }}</span>\n              </td>\n              <td\n                class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                style=\"padding: 30px 49px\"\n              >\n                <a\n                  class=\"\n                    bg-blue-500\n                    hover:bg-blue-700\n                    text-white\n                    font-bold\n                    py-2\n                    px-4\n                    rounded\n                  \"\n                  :href=\"u.file\"\n                  v-if=\"u.file\"\n                  >Download File</a\n                >\n                <a\n                  class=\"\n                    bg-red-500\n                    hover:bg-red-700\n                    text-white\n                    font-bold\n                    py-2\n                    px-4\n                    rounded\n                  \"\n                  v-else\n                >\n                  No File</a\n                >\n              </td>\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\n                {{ u.idEtatdemandeNavigation.etatDemande }}\n              </td>\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\n                <div class=\"flex justify-around\">\n                  <span class=\"text-yellow-500 flex justify-center\">\n                    <button\n                      @click=\"updateinputdisable = false\"\n                      :hidden=\"!updateinputdisable\"\n                      class=\"mx-2 px-2 rounded-md\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        class=\"h-5 w-5 text-green-700\"\n                        viewBox=\"0 0 20 20\"\n                        fill=\"currentColor\"\n                      >\n                        <path\n                          d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\"\n                        />\n                        <path\n                          fill-rule=\"evenodd\"\n                          d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\n                          clip-rule=\"evenodd\"\n                        />\n                      </svg>\n                    </button>\n                    <button\n                      @click=\"updatedemande(u.idDemande, index)\"\n                      :hidden=\"updateinputdisable\"\n                      class=\"mx-2 px-2 rounded-md\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        class=\"h-5 w-5 text-green-700\"\n                        viewBox=\"0 0 20 20\"\n                        fill=\"currentColor\"\n                      >\n                        <path\n                          d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\"\n                        />\n                        <path\n                          fill-rule=\"evenodd\"\n                          d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\n                          clip-rule=\"evenodd\"\n                        />\n                      </svg>\n                    </button>\n                    <button\n                      @click=\"supprimer(u.idDemande)\"\n                      class=\"mx-2 px-2 rounded-md\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        class=\"h-5 w-5 text-red-700\"\n                        viewBox=\"0 0 20 20\"\n                        fill=\"currentColor\"\n                      >\n                        <path\n                          fill-rule=\"evenodd\"\n                          d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n                          clip-rule=\"evenodd\"\n                        />\n                      </svg>\n                    </button>\n                  </span>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div\n          class=\"\n            flex flex-col\n            items-center\n            px-2\n            py-2\n            bg-white\n            border-t\n            xs:flex-row\n            xs:justify-between\n          \"\n        >\n          <div class=\"inline-flex xs:mt-0\">\n            <!-- PAGINATION -->\n            <pagination-vue\n              :current=\"page\"\n              :total=\"this.demandes.length\"\n              :per-page=\"perpage\"\n              @page-changed=\"ChangePage\"\n            ></pagination-vue>\n          </div>\n        </div>\n      </div>\n\n      <button\n        @click=\"open = true\"\n        class=\"\n          px-6\n          py-2\n          mt-3\n          font-medium\n          tracking-wide\n          text-white\n          bg-indigo-600\n          rounded-md\n          hover:bg-indigo-500\n          focus:outline-none\n        \"\n      >\n        Demande Livraison\n        \n      </button>\n    </div>\n  </div>\n</template>\n<script lang=\"js\">\n// import Breadcrumb from \"../../partials/Breadcrumb.vue\";\nimport { ref } from 'vue'\nimport axios from \"axios\";\nimport PaginationVue from \"../../components/Intermediaire/pagination/PaginationVue.vue\";\nimport $ from 'jquery'; \n   export default {\n      components: {\n   // Breadcrumb,\n   PaginationVue\n  },\n         data () {\n      return {\n      demandes:[],\n      open : ref(false),\n      success:false,\n      description:'',\n      depart:'',\n      arrive:'',\n      \n      villes: [],\n      updateinputdisable:true,\n      update:true,\n      descupdate:\"\",\n      departupdate:\"\",\n      arriveupdate:\"\",\n      poids:\"\",\n      largeur:\"\",\n      hauteur:\"\",\n      datedemande:\"\",\n      page: 1,\n      perpage: 5,\n      departfilter:'',\n      arrivefilter:'',\n      }\n    },\n  \n    created(){\n  \n         axios\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\n      .then((response) =>{\n      this.demandes= response.data\n      })\n\n  axios.get('http://localhost:5000/api/villes').then((resp)=>this.villes=resp.data)\n      \n      \n    },\n    methods:{\n       ChangePage(NumPage) {\n      this.page = NumPage;\n \n        axios\n          .get(\n            \"http://localhost:5000/api/demandelivraisons/client/\" +\n              localStorage.getItem(\"iduser\") +\n              \"?page=\" +\n              this.page +\n              \"&quantityPage=\" +\n              this.perpage +\n              \"&depart=\" +\n              this.departfilter +\n              \"&arrive=\" +\n              this.arrivefilter\n          )\n          .then((resp) => {\n            this.demandes = resp.data;\n          });\n      \n    },\n  updatedemande(id,index){\naxios.put('http://localhost:5000/api/demandelivraisons/'+id,{\n    \"idDemande\": id,\n    \"description\": this.demandes[index].description,\n    \"datecreation\": this.demandes[index].datecreation,\n    \"adressdepart\": this.demandes[index].adressdepart,\n    \"poids\":this.demandes[index].poids,\n    \"largeur\":this.demandes[index].largeur,\n    \"hauteur\":this.demandes[index].hauteur,\n    \"date\":this.demandes[index].date,\n    \"adressarrive\": this.demandes[index].adressarrive,\n    \"idEtatdemande\": this.demandes[index].idEtatdemande,\n    \"idclient\": this.demandes[index].idclient,\n}).then(()=>{\nthis.open = false;\n        this.success = true;\n})\n  },\n      demandelivraisons(){\n        const date = new Date();\n   axios.post('http://localhost:5000/api/demandelivraisons',{\n          \"description\":this.description,\n          \"datecreation\":date.getFullYear()+'-'+date.getMonth()+'-'+date.getDate(),\n          \"adressdepart\":this.depart,\n          \"adressarrive\":this.arrive,\n        \"poids\":this.poids,\n        \"largeur\":this.largeur,\n        \"hauteur\":this.hauteur,\n        \"date\":this.datedemande,\n          \"idEtatdemande\":4,\n          \"idclient\":localStorage.getItem(\"clientid\")\n        }).then((r)=>{\n    axios\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\n      .then((response) =>{\n      this.demandes= response.data\n      })\n\n this.open = false;\n        this.success = true;\n      \n      })\n      .catch((error) => console.log(error))\n      },\n      supprimer(id){\n        axios.delete('http://localhost:5000/api/demandelivraisons/'+id)\n        .then(()=>{\n       axios\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\n      .then((response) =>{\n      this.demandes= response.data\n      })\n        })\n      }\n    }\n   }\n</script>\n<style>\n.modal {\n  transition: opacity 0.25s ease;\n}\n</style>"]},"metadata":{},"sourceType":"module"}