{"ast":null,"code":"import { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n\n  methods: {\n    login() {\n      axios.post(\"http://localhost:5000/api/login\", {\n        Email: this.email,\n        Motdepasse: this.password\n      }).then(response => {\n        localStorage.setItem(\"type\", response.data.type);\n\n        if (localStorage.getItem(\"type\") == \"intermediaire\") {\n          localStorage.setItem(\"token\", response.data.type.token);\n          localStorage.setItem(\"name\", response.data.validUser.nom);\n          localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n          localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n          localStorage.setItem(\"id\", response.data.validUser.intermediaire[0].idIntermediaire);\n          localStorage.setItem(\"idRole\", response.data.validUser.intermediaire[0].idRole);\n          localStorage.setItem(\"jwt\", \"foo.bar.baz\");\n          console.log(localStorage.getItem(\"jwt\"));\n          this.$router.push({\n            name: \"Intermediaire\"\n          }); // login Transporteur\n        } else if (localStorage.getItem(\"type\") == \"transporteur\") {\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"idtransporteur\", response.data.validUser.transporteur[0].idTransporteur);\n          localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n          localStorage.setItem(\"name\", response.data.validUser.nom);\n          localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n          localStorage.setItem(\"email\", response.data.validUser.email);\n          localStorage.setItem(\"societe\", response.data.validUser.societe);\n          localStorage.setItem(\"image\", response.data.validUser.image);\n          localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n          localStorage.setItem(\"jwtt\", \"t\");\n          this.$router.push({\n            name: \"DashboardTransporteur\"\n          });\n        } else if (localStorage.getItem(\"type\") == \"\") {\n          this.$router.push({\n            name: \"Login\"\n          });\n        } else {\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n          localStorage.setItem(\"name\", response.data.validUser.nom);\n          localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n          localStorage.setItem(\"email\", response.data.validUser.email);\n          localStorage.setItem(\"societe\", response.data.validUser.societe);\n          localStorage.setItem(\"image\", response.data.validUser.image);\n          localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n          localStorage.setItem(\"clientid\", response.data.validUser.client[0].idclient);\n          localStorage.setItem(\"jwtc\", \"c\");\n          this.$router.push({\n            name: \"DashboardClient\"\n          });\n        } //  console.log(localStorage.getItem(\"type\"));\n        //   else if(localStorage.getItem(\"type\")==\"\"){\n        //    this.$router.push({ name:\"Login\"});\n        //   }\n        //   else{\n        //     this.$router.push({ name:\"DashboardClient\"});\n        //   }\n        //  console.log(localStorage.getItem(\"type\"));\n\n      }).catch(error => {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: error.response.data\n        });\n      });\n    }\n\n  }\n});","map":{"version":3,"mappings":"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","names":["defineComponent","axios","data","email","password","methods","login","post","Email","Motdepasse","then","response","localStorage","setItem","type","getItem","token","validUser","nom","prenom","imageSrc","intermediaire","idIntermediaire","idRole","console","log","$router","push","name","transporteur","idTransporteur","idUser","societe","image","client","idclient","catch","error","Swal","fire","icon","title","text"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center justify-center h-screen px-6 bg-white r\">\n    <div\n      class=\"w-full max-w-sm p-6 rounded-md shadow-md\"\n      style=\"opacity: 0.9; background-color: #d2d7e0\"\n    >\n      <div class=\"flex items-center justify-center\">\n        <div class=\"flex items-center\">\n          <svg\n            version=\"1.1\"\n            id=\"Icons\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 32 32\"\n            style=\"enable-background: new 0 0 32 32\"\n            xml:space=\"preserve\"\n          >\n            <polyline class=\"st0\" points=\"2,9 19,9 19,24 10,24 \" />\n            <circle class=\"st0\" cx=\"24\" cy=\"24\" r=\"2\" />\n            <circle class=\"st0\" cx=\"8\" cy=\"24\" r=\"2\" />\n            <polyline\n              class=\"st0\"\n              points=\"19,24 19,13 25,13 29,18 29,24 26,24 \"\n            />\n            <line class=\"st0\" x1=\"4\" y1=\"13\" x2=\"13\" y2=\"13\" />\n            <line class=\"st0\" x1=\"2\" y1=\"17\" x2=\"11\" y2=\"17\" />\n            <rect x=\"-288\" y=\"-432\" class=\"st3\" width=\"536\" height=\"680\" />\n          </svg>\n\n         \n        </div>\n      </div>\n\n      <form class=\"mt-4\" @submit.prevent=\"login\">\n        <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Email</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"email\"\n          />\n        </label>\n\n        <label class=\"block mt-3\">\n          <span class=\"text-sm text-gray-700\">Password</span>\n          <input\n            type=\"password\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"password\"\n          />\n        </label>\n <div class=\"mt-6\">\n          \n          <button\n            type=\"submit\"\n            class=\"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500\"\n          >\n            Se connecter\n          </button>\n           \n        </div>\n        <div class=\"flex items-center justify-between mt-4\">\n          <div>\n            <a\n              class=\"block text-sm text-indigo-700 fontme hover:underline\"\n              href=\"#\"\n              >Mot de passe oublié?</a\n            >\n\n              <router-link\n              class=\"block text-sm text-indigo-700 fontme hover:underline\"\n\n          to=\"/Inscription\"\n          >\n            Créér compte\n          </router-link>\n          </div>\n        </div>\n\n       \n        \n      </form>\n    </div>\n  </div>\n    <div class=\"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8\">\n      <div>\n        <img class=\"mx-auto h-12 w-auto\" src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\" alt=\"Workflow\" />\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Se Connecter</h2>\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\n          Ou\n          {{ ' ' }}\n          <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> Créer compte </a>\n        </p>\n      </div>\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"login\" method=\"POST\">\n        <input type=\"hidden\" name=\"remember\" value=\"true\" />\n        <div class=\"rounded-md shadow-sm -space-y-px\">\n          <div>\n            <label for=\"email-address\" class=\"sr-only\">Email address</label>\n            <input id=\"email-address\" name=\"email\" type=\"email\" v-model=\"email\" autocomplete=\"email\" required=\"\" class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\" placeholder=\"Email address\" />\n          </div>\n          <div>\n            <label for=\"password\" class=\"sr-only\">Password</label>\n            <input id=\"password\" name=\"password\" type=\"password\" v-model=\"password\" autocomplete=\"current-password\" required=\"\" class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\" placeholder=\"Password\" />\n          </div>\n        </div>\n\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\" />\n            <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\"> Remember me </label>\n          </div>\n\n          <div class=\"text-sm\">\n            <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> Mot de passe oublié? </a>\n          </div>\n        </div>\n\n        <div>\n          <button type=\"submit\" class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <LockClosedIcon class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\" aria-hidden=\"true\" />\n            </span>\n            Se connecter\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n\n  methods: {\n    login() {\n      axios\n        .post(\"http://localhost:5000/api/login\", {\n          Email: this.email,\n          Motdepasse: this.password,\n        })\n        .then((response) => {\n          localStorage.setItem(\"type\", response.data.type);\n          if (localStorage.getItem(\"type\") == \"intermediaire\") {\n            localStorage.setItem(\"token\", response.data.type.token);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n             localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n            localStorage.setItem(\n              \"id\",\n              response.data.validUser.intermediaire[0].idIntermediaire\n            );\n            localStorage.setItem(\n              \"idRole\",\n              response.data.validUser.intermediaire[0].idRole\n            );\n            localStorage.setItem(\"jwt\", \"foo.bar.baz\");\n            console.log(localStorage.getItem(\"jwt\"));\n\n            this.$router.push({ name: \"Intermediaire\" });\n\n            // login Transporteur\n          } else if (localStorage.getItem(\"type\") == \"transporteur\") {\n            localStorage.setItem(\"token\", response.data.token);\n            localStorage.setItem(\n              \"idtransporteur\",\n              response.data.validUser.transporteur[0].idTransporteur\n            );\n            localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n            localStorage.setItem(\"email\", response.data.validUser.email);\n            localStorage.setItem(\"societe\", response.data.validUser.societe);\n            localStorage.setItem(\"image\", response.data.validUser.image);\n            localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n\n            localStorage.setItem(\"jwtt\", \"t\");\n            this.$router.push({ name: \"DashboardTransporteur\" });\n          } else if (localStorage.getItem(\"type\") == \"\") {\n            this.$router.push({ name: \"Login\" });\n          } else {\n            localStorage.setItem(\"token\", response.data.token);\n            localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n            localStorage.setItem(\"email\", response.data.validUser.email);\n            localStorage.setItem(\"societe\", response.data.validUser.societe);\n            localStorage.setItem(\"image\", response.data.validUser.image);\n            localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n\n            localStorage.setItem(\n              \"clientid\",\n              response.data.validUser.client[0].idclient\n            );\n            localStorage.setItem(\"jwtc\", \"c\");\n            this.$router.push({ name: \"DashboardClient\" });\n          }\n\n          //  console.log(localStorage.getItem(\"type\"));\n          //   else if(localStorage.getItem(\"type\")==\"\"){\n          //    this.$router.push({ name:\"Login\"});\n          //   }\n          //   else{\n          //     this.$router.push({ name:\"DashboardClient\"});\n          //   }\n\n          //  console.log(localStorage.getItem(\"type\"));\n        })\n        .catch((error) => {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Oops...\",\n            text: error.response.data,\n          });\n        });\n    },\n  },\n});\n</script>\n<style>\n.r {\n  background-image: url(\"../assets/malek.png\");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}