{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_profile_layout = _resolveComponent(\"profile-layout\");\n\n  return _openBlock(), _createBlock(_component_profile_layout, {\n    user: $data.user,\n    file: $data.file,\n    fileimage: $options.fileimage,\n    register: $options.register,\n    modifiersociete2: $options.modifiersociete2,\n    modifiersociete: $options.modifiersociete,\n    disabledbutton: $data.disabledbutton,\n    hiddenbutton: $data.hiddenbutton,\n    hiddenbutton2: $data.hiddenbutton2\n  }, null, 8\n  /* PROPS */\n  , [\"user\", \"file\", \"fileimage\", \"register\", \"modifiersociete2\", \"modifiersociete\", \"disabledbutton\", \"hiddenbutton\", \"hiddenbutton2\"]);\n}","map":{"version":3,"mappings":";;;;uBACEA,aAWiBC,yBAXjB,EAWiB;AAVdC,QAAI,EAAEC,UAUQ;AATdC,QAAI,EAAED,UASQ;AARdE,aAAS,EAAEC,kBAQG;AAPdC,YAAQ,EAAED,iBAOI;AANdE,oBAAgB,EAAEF,yBAMJ;AALdG,mBAAe,EAAEH,wBAKH;AAJdI,kBAAc,EAAEP,oBAIF;AAHdQ,gBAAY,EAAER,kBAGA;AAFdS,iBAAa,EAAET;AAED,GAXjB;;AAAA","names":["_createBlock","_component_profile_layout","user","$data","file","fileimage","$options","register","modifiersociete2","modifiersociete","disabledbutton","hiddenbutton","hiddenbutton2"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\frontfinal\\src\\views\\Transporteur\\Users\\Profil.vue"],"sourcesContent":["<template>\r\n  <profile-layout\r\n    :user=\"user\"\r\n    :file=\"file\"\r\n    :fileimage=\"fileimage\"\r\n    :register=\"register\"\r\n    :modifiersociete2=\"modifiersociete2\"\r\n    :modifiersociete=\"modifiersociete\"\r\n    :disabledbutton=\"disabledbutton\"\r\n    :hiddenbutton=\"hiddenbutton\"\r\n    :hiddenbutton2=\"hiddenbutton2\"\r\n  >\r\n  </profile-layout>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport ProfileLayout from \"/src/components/ProfileLayout.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ProfileLayout,\r\n  },\r\n  data() {\r\n    return {\r\n      nom: \"\",\r\n      prenom: \"\",\r\n      email: \"\",\r\n      motdepasse: \"\",\r\n      user: [],\r\n      nomsociete: \"\",\r\n      descriptionsociete: \"\",\r\n      disabledbutton: true,\r\n      hiddenbutton: false,\r\n      nomsociete: \"\",\r\n      hiddenbutton2: true,\r\n      adresssociete: \"\",\r\n      image: \"\",\r\n      file: null,\r\n    };\r\n  },\r\n  created() {\r\n    axios\r\n      .get(\"http://localhost:5000/api/users/\"+localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n  },\r\n  methods: {\r\n    fileimage(e) {\r\n      this.file = e.target.files[0];\r\n    },\r\n    register() {\r\n       if (this.file != null) {\r\n      const form = new FormData();\r\n      form.append(\"file\", this.file);\r\n      form.append(\"upload_preset\", \"karimomrane\")\r\n        axios\r\n        .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n        .then((resp) => {\r\n      axios.put(\r\n        \"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"),\r\n        {\r\n          iduser: localStorage.getItem(\"iduser\"),\r\n          nom: this.user.nom,\r\n          email: this.user.email,\r\n          prenom: this.user.prenom,\r\n          motdepasse: this.user.motdepasse,\r\n          type: localStorage.getItem(\"type\"),\r\n          image1:resp.data.secure_url,\r\n          societe: this.user.societe,\r\n        }\r\n      ).then(()=>{\r\n             axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n      })\r\n    })}\r\n    else {\r\n       axios.put(\r\n        \"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"),\r\n        {\r\n          iduser: localStorage.getItem(\"iduser\"),\r\n          nom: this.user.nom,\r\n          email: this.user.email,\r\n          prenom: this.user.prenom,\r\n          motdepasse: this.user.motdepasse,\r\n          type: localStorage.getItem(\"type\"),\r\n          image:this.user.image,\r\n          societe: this.user.societe,\r\n        }\r\n      )  .then(()=>{\r\n              axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n            })\r\n    }\r\n\r\n    },\r\n    modifiersociete() {\r\n      this.disabledbutton = false;\r\n      this.hiddenbutton = true;\r\n      this.hiddenbutton2 = false;\r\n    },\r\n    modifiersociete2() {\r\n      if (this.file != null) {\r\n          const form = new FormData();\r\n      form.append(\"file\", this.file);\r\n      form.append(\"upload_preset\", \"karimomrane\");\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n        .then((resp) => {\r\n          //resp.data.secure_url\r\n          axios\r\n            .put(\r\n              \"http://localhost:5000/api/Societes/\" +\r\n                localStorage.getItem(\"societe\"),\r\n              {\r\n                idsociete: localStorage.getItem(\"societe\"),\r\n                nom: this.user.societeNavigation.nom,\r\n                adress: this.user.societeNavigation.adress,\r\n                image: resp.data.secure_url,\r\n                description: this.user.societeNavigation.description,\r\n              }\r\n            )\r\n            .then(()=>{\r\n              axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n            }\r\n             \r\n              \r\n            );\r\n        });\r\n      }else{\r\n          axios\r\n            .put(\r\n              \"http://localhost:5000/api/Societes/\" +\r\n                localStorage.getItem(\"societe\"),\r\n              {\r\n                idsociete: localStorage.getItem(\"societe\"),\r\n                nom: this.user.societeNavigation.nom,\r\n                adress: this.user.societeNavigation.adress,\r\n                image: this.user.societeNavigation.image,\r\n                description: this.user.societeNavigation.description,\r\n              }\r\n            )\r\n            .then(\r\n              (this.hiddenbutton = false),\r\n              (this.hiddenbutton2 = true),\r\n              (this.disabledbutton = true)\r\n            );\r\n      }\r\n    \r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}