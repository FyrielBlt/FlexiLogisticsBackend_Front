{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-wrap -mx-6\"\n};\nconst _hoisted_3 = {\n  class: \"w-full px-6 sm:w-1/2 xl:w-1/3\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-indigo-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-people-fill\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_7 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Chauffeurs\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0 animate__animated animate__bounceIn\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-blue-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-truck\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_13 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Camions\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0\"\n};\nconst _hoisted_16 = {\n  class: \"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-pink-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-bell-fill\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_19 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Demandes Non Traités\", -1\n/* HOISTED */\n);\n\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mt-8\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_22 = {\n  class: \"flex flex-col mt-8\"\n};\nconst _hoisted_23 = {\n  class: \"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 animate__animated animate__zoomIn\"\n};\nconst _hoisted_24 = {\n  class: \"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_line_chart = _resolveComponent(\"line-chart\");\n\n  const _component_pie_chart = _resolveComponent(\"pie-chart\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" <Breadcrumb breadcrumb=\\\"\\\" /> \"), _createCommentVNode(\"Banner get you to github repo\"), _createCommentVNode(\" <Banner /> \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h4\", _hoisted_7, _toDisplayString(this.chauffeurs.length), 1\n  /* TEXT */\n  ), _hoisted_8])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h4\", _hoisted_13, _toDisplayString(this.camions.length), 1\n  /* TEXT */\n  ), _hoisted_14])])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h4\", _hoisted_19, _toDisplayString(this.demandes.length), 1\n  /* TEXT */\n  ), _hoisted_20])])])])]), _hoisted_21, _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_createVNode(_component_line_chart, {\n    data: $options.web()\n  }, null, 8\n  /* PROPS */\n  , [\"data\"]), _createVNode(_component_pie_chart, {\n    width: \"580px\",\n    donut: true,\n    data: $options.pie()\n  }, null, 8\n  /* PROPS */\n  , [\"data\"]), _createVNode(_component_pie_chart, {\n    width: \"580px\",\n    donut: true,\n    data: [['Payé', 44], ['Non Payé', 23]]\n  })])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createElementBlock","_createCommentVNode","_hoisted_5","_toDisplayString","chauffeurs","length","_hoisted_8","_hoisted_11","camions","_hoisted_14","_hoisted_17","demandes","_hoisted_20","_hoisted_21","_createVNode","_component_line_chart","data","$options","_component_pie_chart","width","donut"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\pfe\\frontfinal\\src\\views\\Transporteur\\Users\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- <Breadcrumb breadcrumb=\"\" /> -->\r\n    <!--Banner get you to github repo-->\r\n    <!-- <Banner /> -->\r\n    <div class=\"mt-4\">\r\n      <div   class=\"flex flex-wrap -mx-6\">\r\n        <div class=\"w-full px-6 sm:w-1/2 xl:w-1/3 \">\r\n          <div\r\n            class=\"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\r\n          >\r\n            <div class=\"p-3 bg-indigo-600 bg-opacity-75 rounded-full\">\r\n             <i class=\"bi bi-people-fill\"></i>\r\n            </div>\r\n\r\n            <div class=\"mx-5 animate__animated animate__fadeInDown\" >\r\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\r\n              {{ this.chauffeurs.length }}\r\n              </h4>\r\n              <div class=\"text-gray-500\">Chauffeurs</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0 animate__animated animate__bounceIn\">\r\n          <div\r\n            class=\"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\r\n          >\r\n            <div class=\"p-3 bg-blue-600 bg-opacity-75 rounded-full\">\r\n            <i class=\"bi bi-truck\"></i>\r\n            </div>\r\n            \r\n            <div class=\"mx-5 animate__animated animate__fadeInDown\">\r\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\r\n{{ this.camions.length }}\r\n\r\n              </h4>\r\n              <div class=\"text-gray-500\">Camions</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0 \">\r\n          <div\r\n            class=\"flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\r\n          >\r\n            <div class=\"p-3 bg-pink-600 bg-opacity-75 rounded-full\">\r\n             <i class=\"bi bi-bell-fill\"></i>\r\n            </div>\r\n\r\n            <div class=\"mx-5 animate__animated animate__fadeInDown\">\r\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\r\n                {{ this.demandes.length }}\r\n              </h4>\r\n              <div class=\"text-gray-500\">Demandes Non Traités</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-8\"></div>\r\n\r\n    <div class=\"flex flex-col mt-8\">\r\n      <div class=\"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 animate__animated animate__zoomIn\">\r\n        <div\r\n          class=\"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg\"\r\n        >\r\n          <line-chart :data=\"web()\"></line-chart>\r\n           <pie-chart width=\"580px\" :donut=\"true\" :data=\"pie()\"></pie-chart>\r\n          <pie-chart width=\"580px\" :donut=\"true\" :data=\"[['Payé', 44], ['Non Payé', 23]]\"></pie-chart>\r\n       \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  components: {\r\n    \r\n  },\r\n  data() {\r\n    return {\r\n      chauffeurs: [],\r\n      camions:[],\r\n      demandes:[],\r\n      offretotal:[],\r\n      offreaccepte:[],\r\n       offrerefuse:[]\r\n    };\r\n  },\r\n  created() {\r\n    \r\n     \r\n    axios\r\n      .get(\"http://localhost:5000/api/offres/\" +localStorage.getItem('idtransporteur')+\"/offrestransporteur\"\r\n      )\r\n      .then((response) =>{\r\n        this.offretotal= response.data;\r\n      })\r\n      axios\r\n      .get(\"http://localhost:5000/api/offres/\" +localStorage.getItem('idtransporteur')+\"/offrestransporteur\"\r\n      +\"?etat=Accepte\"\r\n      \r\n      )\r\n      .then((response) =>{\r\n        this.offreaccepte= response.data;\r\n      })\r\n       axios\r\n      .get(\"http://localhost:5000/api/offres/\" +localStorage.getItem('idtransporteur')+\"/offrestransporteur\"\r\n      +\"?etat=Refuse\"\r\n      \r\n      )\r\n      .then((response) =>{\r\n        this.offrerefuse= response.data;\r\n      })\r\n     \r\n    axios\r\n      .get(\r\n        \"http://localhost:5000/api/Chauffeurs/\" +\r\n          localStorage.getItem(\"societe\") +\r\n          \"/chauffeurs\"\r\n      )\r\n      .then((response) => {\r\n        this.chauffeurs = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n        axios\r\n      .get(\r\n        \"http://localhost:5000/api/Transporteurs/\" +\r\n          localStorage.getItem(\"iduser\") +\r\n          \"/iduser\"\r\n      )\r\n      .then((response) => {\r\n        axios\r\n          .get(\r\n            \"http://localhost:5000/api/Camions/\" + response.data.idTransporteur\r\n          )\r\n          .then((response) => {\r\n            this.camions = response.data;\r\n            console.log(this.camions);\r\n          })\r\n          .catch((error) => console.log(error));\r\n      })\r\n      .catch((error) => console.log(error));\r\n      \r\n        axios\r\n          .get(\r\n            \"http://localhost:5000/api/DemandeDevis/\" +\r\n              localStorage.getItem('idtransporteur') +\r\n              \"/transporteur\"\r\n              \r\n          )\r\n          .then((response) => {\r\n            \r\n            this.demandes = response.data;\r\n          })\r\n          .catch((error) => console.log(error));\r\n  \r\n  },\r\n  methods: {\r\n    pie() {\r\n      let liste = [];\r\n      liste.push(['Offre accepté',this.offreaccepte])\r\n      liste.push(['Offre réfusé',this.offrerefuse])\r\n      return liste;\r\n    },\r\n      timeFrom(X) {\r\n      var dates = [];\r\n      for (let I = 0; I < Math.abs(X); I++) {\r\n        dates.push(\r\n          new Date(\r\n            new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\r\n          ).getFullYear() +\r\n            \"-\" +\r\n            (\r\n              new Date(\r\n                new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\r\n              ).getMonth() + 1\r\n            )\r\n              .toString()\r\n              .padStart(2, \"0\") +\r\n            \"-\" +\r\n            new Date(\r\n              new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\r\n            )\r\n              .getDate()\r\n              .toString()\r\n              .padStart(2, \"0\")\r\n        );\r\n      }\r\n\r\n      return dates;\r\n    },\r\n     web() {\r\n      let liste = [];\r\n      var j1 = this.timeFrom(7)[0];\r\n      var j2 = this.timeFrom(7)[1];\r\n      var j3 = this.timeFrom(7)[2];\r\n      var j4 = this.timeFrom(7)[3];\r\n      var j5 = this.timeFrom(7)[4];\r\n      var j6 = this.timeFrom(7)[5];\r\n      var j7 = this.timeFrom(7)[6];\r\n      var data = {\r\n        [j7]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j7\r\n        ).length,\r\n        [j6]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j6\r\n        ).length,\r\n        [j5]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j5\r\n        ).length,\r\n        [j4]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j4\r\n        ).length,\r\n        [j3]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j3\r\n        ).length,\r\n        [j2]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j2\r\n        ).length,\r\n        [j1]: this.demandes.filter(\r\n          (el) => el.dateEnvoit.substr(0, 10) == j1\r\n        ).length,\r\n      };\r\n       var offretotal = {\r\n        [j7]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j7\r\n        ).length,\r\n        [j6]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j6\r\n        ).length,\r\n        [j5]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j5\r\n        ).length,\r\n        [j4]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j4\r\n        ).length,\r\n        [j3]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j3\r\n        ).length,\r\n        [j2]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j2\r\n        ).length,\r\n        [j1]: this.offretotal.filter(\r\n          (el) => el.datecreation.substr(0, 10) == j1\r\n        ).length,\r\n      };\r\n      var ob = {\r\n        name: \"Demande Livraison par jour\",\r\n        data: data,\r\n        \r\n      };\r\n      var ob2 = {\r\n        name: \"Offre envoyé par jour\",\r\n        data: offretotal,\r\n        \r\n      };\r\n     \r\n     \r\n      liste.push(ob);\r\n      liste.push(ob2);\r\n\r\n      return liste;\r\n    },\r\n    \r\n    }}\r\n     \r\n  \r\n\r\n  \r\n</script>"]},"metadata":{},"sourceType":"module"}