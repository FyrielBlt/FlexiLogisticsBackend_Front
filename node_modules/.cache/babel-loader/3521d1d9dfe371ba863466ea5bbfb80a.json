{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex items-center justify-center h-screen px-6 bg-white r\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-full max-w-sm p-6 rounded-md shadow-md\",\n  style: {\n    \"opacity\": \"0.9\",\n    \"background-color\": \"#d2d7e0\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-center\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  version: \"1.1\",\n  id: \"Icons\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 32 32\",\n  style: {\n    \"enable-background\": \"new 0 0 32 32\"\n  },\n  \"xml:space\": \"preserve\"\n}, [/*#__PURE__*/_createElementVNode(\"polyline\", {\n  class: \"st0\",\n  points: \"2,9 19,9 19,24 10,24 \"\n}), /*#__PURE__*/_createElementVNode(\"circle\", {\n  class: \"st0\",\n  cx: \"24\",\n  cy: \"24\",\n  r: \"2\"\n}), /*#__PURE__*/_createElementVNode(\"circle\", {\n  class: \"st0\",\n  cx: \"8\",\n  cy: \"24\",\n  r: \"2\"\n}), /*#__PURE__*/_createElementVNode(\"polyline\", {\n  class: \"st0\",\n  points: \"19,24 19,13 25,13 29,18 29,24 26,24 \"\n}), /*#__PURE__*/_createElementVNode(\"line\", {\n  class: \"st0\",\n  x1: \"4\",\n  y1: \"13\",\n  x2: \"13\",\n  y2: \"13\"\n}), /*#__PURE__*/_createElementVNode(\"line\", {\n  class: \"st0\",\n  x1: \"2\",\n  y1: \"17\",\n  x2: \"11\",\n  y2: \"17\"\n}), /*#__PURE__*/_createElementVNode(\"rect\", {\n  x: \"-288\",\n  y: \"-432\",\n  class: \"st3\",\n  width: \"536\",\n  height: \"680\"\n})])])])], -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = [_hoisted_2];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3);\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;gCACTC,oBAkCM,KAlCN,EAkCM;AAjCJD,OAAK,EAAC,0CAiCF;AAhCJE,OAA+C,EAA/C;AAAA;AAAA;AAAA;AAgCI,CAlCN,gBAIED,oBA2BM,KA3BN,EA2BM;AA3BDD,OAAK,EAAC;AA2BL,CA3BN,EAA6C,cAC3CC,oBAyBM,KAzBN,EAyBM;AAzBDD,OAAK,EAAC;AAyBL,CAzBN,EAA8B,cAC5BC,oBAqBM,KArBN,EAqBM;AApBJE,SAAO,EAAC,KAoBJ;AAnBJC,IAAE,EAAC,OAmBC;AAlBJC,OAAK,EAAC,4BAkBF;AAjBJ,iBAAY,8BAiBR;AAhBJC,GAAC,EAAC,KAgBE;AAfJC,GAAC,EAAC,KAeE;AAdJC,SAAO,EAAC,WAcJ;AAbJN,OAAwC,EAAxC;AAAA;AAAA,GAaI;AAZJ,eAAU;AAYN,CArBN,gBAWED,oBAAuD,UAAvD,EAAuD;AAA7CD,OAAK,EAAC,KAAuC;AAAjCS,QAAM,EAAC;AAA0B,CAAvD,gBACAR,oBAA4C,QAA5C,EAA4C;AAApCD,OAAK,EAAC,KAA8B;AAAxBU,IAAE,EAAC,IAAqB;AAAhBC,IAAE,EAAC,IAAa;AAARC,GAAC,EAAC;AAAM,CAA5C,gBACAX,oBAA2C,QAA3C,EAA2C;AAAnCD,OAAK,EAAC,KAA6B;AAAvBU,IAAE,EAAC,GAAoB;AAAhBC,IAAE,EAAC,IAAa;AAARC,GAAC,EAAC;AAAM,CAA3C,gBACAX,oBAGE,UAHF,EAGE;AAFAD,OAAK,EAAC,KAEN;AADAS,QAAM,EAAC;AACP,CAHF,gBAIAR,oBAAmD,MAAnD,EAAmD;AAA7CD,OAAK,EAAC,KAAuC;AAAjCa,IAAE,EAAC,GAA8B;AAA1BC,IAAE,EAAC,IAAuB;AAAlBC,IAAE,EAAC,IAAe;AAAVC,IAAE,EAAC;AAAO,CAAnD,gBACAf,oBAAmD,MAAnD,EAAmD;AAA7CD,OAAK,EAAC,KAAuC;AAAjCa,IAAE,EAAC,GAA8B;AAA1BC,IAAE,EAAC,IAAuB;AAAlBC,IAAE,EAAC,IAAe;AAAVC,IAAE,EAAC;AAAO,CAAnD,gBACAf,oBAA+D,MAA/D,EAA+D;AAAzDK,GAAC,EAAC,MAAuD;AAAhDC,GAAC,EAAC,MAA8C;AAAvCP,OAAK,EAAC,KAAiC;AAA3BiB,OAAK,EAAC,KAAqB;AAAfC,QAAM,EAAC;AAAQ,CAA/D,EApBF,CAD4B,CAA9B,CAD2C,CAA7C,EAJF;;AAAA;;oBAAAC;;uBADFC,oBAoCM,KApCN,cAoCMC,UApCN","names":["class","_createElementVNode","style","version","id","xmlns","x","y","viewBox","points","cx","cy","r","x1","y1","x2","y2","width","height","_hoisted_2","_createElementBlock","_hoisted_3"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center justify-center h-screen px-6 bg-white r\">\n    <div\n      class=\"w-full max-w-sm p-6 rounded-md shadow-md\"\n      style=\"opacity: 0.9; background-color: #d2d7e0\"\n    >\n      <div class=\"flex items-center justify-center\">\n        <div class=\"flex items-center\">\n          <svg\n            version=\"1.1\"\n            id=\"Icons\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 32 32\"\n            style=\"enable-background: new 0 0 32 32\"\n            xml:space=\"preserve\"\n          >\n            <polyline class=\"st0\" points=\"2,9 19,9 19,24 10,24 \" />\n            <circle class=\"st0\" cx=\"24\" cy=\"24\" r=\"2\" />\n            <circle class=\"st0\" cx=\"8\" cy=\"24\" r=\"2\" />\n            <polyline\n              class=\"st0\"\n              points=\"19,24 19,13 25,13 29,18 29,24 26,24 \"\n            />\n            <line class=\"st0\" x1=\"4\" y1=\"13\" x2=\"13\" y2=\"13\" />\n            <line class=\"st0\" x1=\"2\" y1=\"17\" x2=\"11\" y2=\"17\" />\n            <rect x=\"-288\" y=\"-432\" class=\"st3\" width=\"536\" height=\"680\" />\n          </svg>\n\n         \n        </div>\n      </div>\n\n  \n    </div>\n  </div>\n  \n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n\n  methods: {\n    login() {\n      axios\n        .post(\"http://localhost:5000/api/login\", {\n          Email: this.email,\n          Motdepasse: this.password,\n        })\n        .then((response) => {\n          localStorage.setItem(\"type\", response.data.type);\n          if (localStorage.getItem(\"type\") == \"intermediaire\") {\n            localStorage.setItem(\"token\", response.data.type.token);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n             localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n            localStorage.setItem(\n              \"id\",\n              response.data.validUser.intermediaire[0].idIntermediaire\n            );\n            localStorage.setItem(\n              \"idRole\",\n              response.data.validUser.intermediaire[0].idRole\n            );\n            localStorage.setItem(\"jwt\", \"foo.bar.baz\");\n            console.log(localStorage.getItem(\"jwt\"));\n\n            this.$router.push({ name: \"Intermediaire\" });\n\n            // login Transporteur\n          } else if (localStorage.getItem(\"type\") == \"transporteur\") {\n            localStorage.setItem(\"token\", response.data.token);\n            localStorage.setItem(\n              \"idtransporteur\",\n              response.data.validUser.transporteur[0].idTransporteur\n            );\n            localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n            localStorage.setItem(\"email\", response.data.validUser.email);\n            localStorage.setItem(\"societe\", response.data.validUser.societe);\n            localStorage.setItem(\"image\", response.data.validUser.image);\n            localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n\n            localStorage.setItem(\"jwtt\", \"t\");\n            this.$router.push({ name: \"DashboardTransporteur\" });\n          } else if (localStorage.getItem(\"type\") == \"\") {\n            this.$router.push({ name: \"Login\" });\n          } else {\n            localStorage.setItem(\"token\", response.data.token);\n            localStorage.setItem(\"iduser\", response.data.validUser.idUser);\n            localStorage.setItem(\"name\", response.data.validUser.nom);\n            localStorage.setItem(\"prenom\", response.data.validUser.prenom);\n            localStorage.setItem(\"email\", response.data.validUser.email);\n            localStorage.setItem(\"societe\", response.data.validUser.societe);\n            localStorage.setItem(\"image\", response.data.validUser.image);\n            localStorage.setItem(\"imagesrc\", response.data.validUser.imageSrc);\n\n            localStorage.setItem(\n              \"clientid\",\n              response.data.validUser.client[0].idclient\n            );\n            localStorage.setItem(\"jwtc\", \"c\");\n            this.$router.push({ name: \"DashboardClient\" });\n          }\n\n          //  console.log(localStorage.getItem(\"type\"));\n          //   else if(localStorage.getItem(\"type\")==\"\"){\n          //    this.$router.push({ name:\"Login\"});\n          //   }\n          //   else{\n          //     this.$router.push({ name:\"DashboardClient\"});\n          //   }\n\n          //  console.log(localStorage.getItem(\"type\"));\n        })\n        .catch((error) => {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Oops...\",\n            text: error.response.data,\n          });\n        });\n    },\n  },\n});\n</script>\n<style>\n.r {\n  background-image: url(\"../assets/malek.png\");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}