{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-wrap -mx-6\"\n};\nconst _hoisted_3 = {\n  class: \"w-full px-6 sm:w-1/2 xl:w-1/3\"\n};\nconst _hoisted_4 = {\n  class: \"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-indigo-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-people-fill\",\n  style: {\n    \"color\": \"white\",\n    \"font-size\": \"large\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_7 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Chauffeurs\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0 animate__animated animate__bounceIn\"\n};\nconst _hoisted_10 = {\n  class: \"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-blue-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-truck\",\n  style: {\n    \"color\": \"white\",\n    \"font-size\": \"large\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_13 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Camions\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0\"\n};\nconst _hoisted_16 = {\n  class: \"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-3 bg-pink-600 bg-opacity-75 rounded-full\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-bell-fill\",\n  style: {\n    \"color\": \"white\",\n    \"font-size\": \"large\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = {\n  class: \"mx-5 animate__animated animate__fadeInDown\"\n};\nconst _hoisted_19 = {\n  class: \"text-2xl font-semibold text-gray-700\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-gray-500\"\n}, \"Demandes non traités\", -1\n/* HOISTED */\n);\n\nconst _hoisted_21 = {\n  class: \"mt-8\"\n};\nconst _hoisted_22 = {\n  class: \"flex flex-col mt-8\"\n};\nconst _hoisted_23 = {\n  class: \"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 animate__animated animate__zoomIn\"\n};\nconst _hoisted_24 = {\n  class: \"min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg\"\n};\nconst _hoisted_25 = {\n  style: {\n    \"background-color\": \"white\"\n  }\n};\n\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  style: {\n    \"text-align\": \"center\",\n    \"font-size\": \"25px\",\n    \"background\": \"-webkit-linear-gradient(blue, red)\",\n    \"-webkit-background-clip\": \"text\",\n    \"-webkit-text-fill-color\": \"transparent\"\n  }\n}, \"Offres\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_line_chart = _resolveComponent(\"line-chart\");\n\n  const _component_pie_chart = _resolveComponent(\"pie-chart\");\n\n  const _component_VCalendar = _resolveComponent(\"VCalendar\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" <Breadcrumb breadcrumb=\\\"\\\" /> \"), _createCommentVNode(\"Banner get you to github repo\"), _createCommentVNode(\" <Banner /> \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h4\", _hoisted_7, _toDisplayString(this.chauffeurs.length), 1\n  /* TEXT */\n  ), _hoisted_8])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h4\", _hoisted_13, _toDisplayString(this.camions.length), 1\n  /* TEXT */\n  ), _hoisted_14])])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h4\", _hoisted_19, _toDisplayString(this.demandes.length), 1\n  /* TEXT */\n  ), _hoisted_20])])])])]), _createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_line_chart, {\n    data: $options.web(),\n    style: {\n      \"background-color\": \"white\"\n    }\n  }, null, 8\n  /* PROPS */\n  , [\"data\"])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _createVNode(_component_pie_chart, {\n    donut: true,\n    data: $options.pie()\n  }, null, 8\n  /* PROPS */\n  , [\"data\"])])])])]), _createVNode(_component_VCalendar, {\n    demandes: $data.demandesdevis\n  }, null, 8\n  /* PROPS */\n  , [\"demandes\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createElementBlock","_createCommentVNode","_hoisted_5","_toDisplayString","chauffeurs","length","_hoisted_8","_hoisted_11","camions","_hoisted_14","_hoisted_17","demandes","_hoisted_20","_createVNode","_component_line_chart","data","$options","_hoisted_26","_component_pie_chart","donut","_component_VCalendar","$data"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Transporteur\\Users\\Dashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- <Breadcrumb breadcrumb=\"\" /> -->\n    <!--Banner get you to github repo-->\n    <!-- <Banner /> -->\n    <div class=\"mt-4\">\n      <div class=\"flex flex-wrap -mx-6\">\n        <div class=\"w-full px-6 sm:w-1/2 xl:w-1/3 \">\n          <div\n            class=\"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\">\n            <div class=\"p-3 bg-indigo-600 bg-opacity-75 rounded-full\">\n              <i class=\"bi bi-people-fill\" style=\"color: white; font-size: large;\"></i>\n            </div>\n\n            <div class=\"mx-5 animate__animated animate__fadeInDown\">\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\n                {{ this.chauffeurs.length }}\n              </h4>\n              <div class=\"text-gray-500\">Chauffeurs</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0 animate__animated animate__bounceIn\">\n          <div\n            class=\"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\">\n            <div class=\"p-3 bg-blue-600 bg-opacity-75 rounded-full\">\n              <i class=\"bi bi-truck\" style=\"color: white; font-size: large;\"></i>\n            </div>\n\n            <div class=\"mx-5 animate__animated animate__fadeInDown\">\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\n                {{ this.camions.length }}\n\n              </h4>\n              <div class=\"text-gray-500\">Camions</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0 \">\n          <div\n            class=\"transition ease-in-out hover:-translate-y-1 hover:scale-110 flex items-center px-5 py-6 bg-white rounded-md shadow-sm\">\n            <div class=\"p-3 bg-pink-600 bg-opacity-75 rounded-full\">\n              <i class=\"bi bi-bell-fill\" style=\"color: white; font-size: large;\"></i>\n            </div>\n\n            <div class=\"mx-5 animate__animated animate__fadeInDown\">\n              <h4 class=\"text-2xl font-semibold text-gray-700\">\n                {{ this.demandes.length }}\n              </h4>\n              <div class=\"text-gray-500\">Demandes non traités</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-8\">\n      <line-chart :data=\"web()\" style=\"background-color: white;\"></line-chart>\n    </div>\n\n    <div class=\"flex flex-col mt-8\">\n      <div class=\"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8 animate__animated animate__zoomIn\">\n        <div class=\" min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg\">\n\n\n          <div style=\"background-color: white; \">\n            <h1 style=\"    text-align: center;\n    font-size: 25px; background: -webkit-linear-gradient(blue, red);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\">Offres</h1>\n            <pie-chart\n              :donut=\"true\" :data=\"pie()\"></pie-chart>\n\n\n          </div>\n\n\n        </div>\n      </div>\n    </div>\n    <VCalendar :demandes=\"demandesdevis\" />\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport url from \"../../../store/Api\";\nimport VCalendar from \"./v-calendar.vue\";\n\n\nexport default {\n  components: {\n    VCalendar\n  },\n  data() {\n    return {\n      chauffeurs: [],\n      camions: [],\n      demandes: [],\n      offretotal: [],\n      offreaccepte: [],\n      offrerefuse: [],\n      demandesdevis: []\n    };\n  },\n  created() {\n\n    axios\n      .get(\n        url + \"DemandeDevis/\" +\n        localStorage.getItem(\"idtransporteur\") +\n        \"/traite?etat=Accepte\"\n\n      )\n      .then((response) => {\n\n        this.demandesdevis = response.data;\n      })\n      .catch((error) => console.log(error));\n    axios\n      .get(url + \"offres/\" + localStorage.getItem('idtransporteur') + \"/offrestransporteur\"\n      )\n      .then((response) => {\n        this.offretotal = response.data;\n      })\n    axios\n      .get(url + \"offres/\" + localStorage.getItem('idtransporteur') + \"/offrestransporteur\"\n        + \"?etat=Accepte\"\n\n      )\n      .then((response) => {\n        this.offreaccepte = response.data;\n      })\n    axios\n      .get(url + \"offres/\" + localStorage.getItem('idtransporteur') + \"/offrestransporteur\"\n        + \"?etat=Refuse\"\n\n      )\n      .then((response) => {\n        this.offrerefuse = response.data;\n      })\n\n    axios\n      .get(\n        url + \"Chauffeurs/\" +\n        localStorage.getItem(\"societe\") +\n        \"/chauffeurs\"\n      )\n      .then((response) => {\n        this.chauffeurs = response.data;\n      })\n      .catch((error) => console.log(error));\n    axios\n      .get(\n        url + \"Transporteurs/\" +\n        localStorage.getItem(\"iduser\") +\n        \"/iduser\"\n      )\n      .then((response) => {\n        axios\n          .get(\n            url + \"Camions/\" + response.data.idTransporteur\n          )\n          .then((response) => {\n            this.camions = response.data;\n            console.log(this.camions);\n          })\n          .catch((error) => console.log(error));\n      })\n      .catch((error) => console.log(error));\n\n    axios\n      .get(\n        url + \"DemandeDevis/\" +\n        localStorage.getItem('idtransporteur') +\n        \"/transporteur\"\n\n      )\n      .then((response) => {\n\n        this.demandes = response.data;\n      })\n      .catch((error) => console.log(error));\n\n  },\n  methods: {\n    pie() {\n      let liste = [];\n      liste.push(['Offres acceptées', this.offreaccepte.length])\n      liste.push(['Offres refusées', this.offrerefuse.length])\n      return liste;\n    },\n    timeFrom(X) {\n      var dates = [];\n      for (let I = 0; I < Math.abs(X); I++) {\n        dates.push(\n          new Date(\n            new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\n          ).getFullYear() +\n          \"-\" +\n          (\n            new Date(\n              new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\n            ).getMonth() + 1\n          )\n            .toString()\n            .padStart(2, \"0\") +\n          \"-\" +\n          new Date(\n            new Date() - (X >= 0 ? I : I - I - I) * 24 * 60 * 60 * 1000\n          )\n            .getDate()\n            .toString()\n            .padStart(2, \"0\")\n        );\n      }\n\n      return dates;\n    },\n    web() {\n      let liste = [];\n      var j1 = this.timeFrom(7)[0];\n      var j2 = this.timeFrom(7)[1];\n      var j3 = this.timeFrom(7)[2];\n      var j4 = this.timeFrom(7)[3];\n      var j5 = this.timeFrom(7)[4];\n      var j6 = this.timeFrom(7)[5];\n      var j7 = this.timeFrom(7)[6];\n      var data = {\n        [j7]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j7\n        ).length,\n        [j6]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j6\n        ).length,\n        [j5]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j5\n        ).length,\n        [j4]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j4\n        ).length,\n        [j3]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j3\n        ).length,\n        [j2]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j2\n        ).length,\n        [j1]: this.demandes.filter(\n          (el) => el.dateEnvoit.substr(0, 10) == j1\n        ).length,\n      };\n      var offretotal = {\n        [j7]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j7\n        ).length,\n        [j6]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j6\n        ).length,\n        [j5]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j5\n        ).length,\n        [j4]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j4\n        ).length,\n        [j3]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j3\n        ).length,\n        [j2]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j2\n        ).length,\n        [j1]: this.offretotal.filter(\n          (el) => el.datecreation.substr(0, 10) == j1\n        ).length,\n      };\n      var ob = {\n        name: \"Demandes de livraison par jour\",\n        data: data,\n\n      };\n      var ob2 = {\n        name: \"Offres envoyées par jour\",\n        data: offretotal,\n\n      };\n\n\n      liste.push(ob);\n      liste.push(ob2);\n\n      return liste;\n    },\n\n  }\n}\n\n\n\n\n</script>\n"]},"metadata":{},"sourceType":"module"}