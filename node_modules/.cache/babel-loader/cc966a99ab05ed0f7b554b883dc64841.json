{"ast":null,"code":"import { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      nom: \"\",\n      prenom: \"\",\n      tel: \"\",\n      type: \"\",\n      societe: \"\",\n      description: \"\",\n      adress: \"\",\n      imageFile: ''\n    };\n  },\n\n  methods: {\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n    },\n\n    Enregistrer() {\n      let societe = new FormData();\n      societe.append(\"nom\", this.societe);\n      societe.append(\"adress\", this.adress);\n      societe.append(\"description\", this.description);\n      societe.append(\"image\", \"\");\n      societe.append(\"ImageFile\", \"\");\n      societe.append(\"ImageFile\", this.imageFile);\n      axios.post(\"http://localhost:5000/api/Societes\", societe).then(res => {\n        let user = new FormData();\n        user.append(\"nom\", this.nom);\n        user.append(\"prenom\", this.prenom);\n        user.append(\"email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"societe\", res.data.idSociete);\n        user.append(\"image\", \"\");\n        user.append(\"active\", 0);\n        user.append(\"tel\", this.tel);\n        user.append(\"ImageFile\", \"\");\n        user.append(\"ImageSrc\", \"\");\n        axios.post(\"http://localhost:5000/api/Users\", user).then(response => {\n          if (this.type == \"Client\") {\n            axios.post(\"http://localhost:5000/api/Clients\", {\n              iduser: response.data.idUser\n            });\n          }\n\n          if (this.type == \"Transporteur\") {\n            axios.post(\"http://localhost:5000/api/Transporteurs\", {\n              idUser: response.data.idUser\n            });\n          }\n\n          this.$router.push('/login');\n        }).catch(() => {\n          this.$swal({\n            position: \"top-end\",\n            icon: \"error\",\n            toast: true,\n            title: \"Email existe déja\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n        });\n      });\n    }\n\n  }\n});","map":{"version":3,"mappings":"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","names":["defineComponent","axios","data","email","password","nom","prenom","tel","type","societe","description","adress","imageFile","methods","FileSelected","event","target","files","Enregistrer","FormData","append","post","then","res","user","idSociete","response","iduser","idUser","$router","push","catch","$swal","position","icon","toast","title","showConfirmButton","timer"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Inscription.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center justify-center h-screen px-6 bg-white r\">\n    <div\n      class=\"w-full max-w-sm p-6 rounded-md shadow-md\"\n      style=\"opacity: 0.9; background-color: #d2d7e0\"\n    >\n      <div class=\"flex items-center justify-center\">\n        <div class=\"flex items-center\">\n          <svg\n            version=\"1.1\"\n            id=\"Icons\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 32 32\"\n            style=\"enable-background: new 0 0 32 32\"\n            xml:space=\"preserve\"\n          >\n            <polyline class=\"st0\" points=\"2,9 19,9 19,24 10,24 \" />\n            <circle class=\"st0\" cx=\"24\" cy=\"24\" r=\"2\" />\n            <circle class=\"st0\" cx=\"8\" cy=\"24\" r=\"2\" />\n            <polyline\n              class=\"st0\"\n              points=\"19,24 19,13 25,13 29,18 29,24 26,24 \"\n            />\n            <line class=\"st0\" x1=\"4\" y1=\"13\" x2=\"13\" y2=\"13\" />\n            <line class=\"st0\" x1=\"2\" y1=\"17\" x2=\"11\" y2=\"17\" />\n            <rect x=\"-288\" y=\"-432\" class=\"st3\" width=\"536\" height=\"680\" />\n          </svg>\n        </div>\n      </div>\n\n      <form class=\"mt-4 row-auto\" @submit.prevent=\"Enregistrer\">\n        <label class=\"block mt-3 col-auto\">\n          <span class=\"text-sm text-gray-700\">Nom</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"nom\"\n          />\n        </label>\n        <label class=\"block mt-3 col-auto\">\n          <span class=\"text-sm text-gray-700\">Prenom</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"prenom\"\n          />\n        </label>\n        <label class=\"block mt-3\">\n          <span class=\"text-sm text-gray-700\">Téléphone</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"tel\"\n          />\n        </label>\n        <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Email</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"email\"\n          />\n        </label>\n        <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Nom Societe</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"societe\"\n          />\n        </label>\n        <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Adress Societe</span>\n          <input\n            type=\"text\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"adress\"\n          />\n        </label>\n        <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Description Societe</span>\n          <textarea\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"description\"\n          />\n        </label>\n <label class=\"block\">\n          <span class=\"text-sm text-gray-700\">Logo</span>\n        <input\n                  \n                    class=\"\n                    w-full\n                    mt-2\n                    border-gray-200\n                    rounded-md\n                    focus:border-indigo-600\n                    focus:ring\n                    focus:ring-opacity-40\n                    focus:ring-indigo-500\n                  \" id=\"image\" name=\"image\" type=\"file\" @change=\"FileSelected($event)\"\n                    />\n        </label>\n        <label class=\"block mt-3\">\n          <span class=\"text-sm text-gray-700\">Type</span>\n          <select\n            v-model=\"type\"\n            required\n            class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n          >\n            <option>Client</option>\n            <option>Transporteur</option>\n          </select>\n        </label>\n        <label class=\"block mt-3\">\n          <span class=\"text-sm text-gray-700\">Mot de passe</span>\n          <input\n            type=\"password\"\n            class=\"block w-full mt-1 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\n            v-model=\"password\"\n          />\n        </label>\n\n        <div class=\"mt-6\">\n          <button\n            type=\"submit\"\n            class=\"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500\"\n          >\n            Enregistrer\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n  \n   <form action=\"#\" method=\"POST\">\n          <div class=\"shadow sm:rounded-md sm:overflow-hidden\">\n            <div class=\"px-4 py-5 bg-white space-y-6 sm:p-6\">\n              <div class=\"grid grid-cols-3 gap-6\">\n                <div class=\"col-span-3 sm:col-span-2\">\n                  <label for=\"company-website\" class=\"block text-sm font-medium text-gray-700\"> Website </label>\n                  <div class=\"mt-1 flex rounded-md shadow-sm\">\n                    <span class=\"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm\"> http:// </span>\n                    <input type=\"text\" name=\"company-website\" id=\"company-website\" class=\"focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-r-md sm:text-sm border-gray-300\" placeholder=\"www.example.com\" />\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <label for=\"about\" class=\"block text-sm font-medium text-gray-700\"> About </label>\n                <div class=\"mt-1\">\n                  <textarea id=\"about\" name=\"about\" rows=\"3\" class=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md\" placeholder=\"you@example.com\" />\n                </div>\n                <p class=\"mt-2 text-sm text-gray-500\">Brief description for your profile. URLs are hyperlinked.</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\"> Photo </label>\n                <div class=\"mt-1 flex items-center\">\n                  <span class=\"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100\">\n                    <svg class=\"h-full w-full text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z\" />\n                    </svg>\n                  </span>\n                  <button type=\"button\" class=\"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">Change</button>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700\"> Cover photo </label>\n                <div class=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n                  <div class=\"space-y-1 text-center\">\n                    <svg class=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\" aria-hidden=\"true\">\n                      <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                    </svg>\n                    <div class=\"flex text-sm text-gray-600\">\n                      <label for=\"file-upload\" class=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\">\n                        <span>Upload a file</span>\n                        <input id=\"file-upload\" name=\"file-upload\" type=\"file\" class=\"sr-only\" />\n                      </label>\n                      <p class=\"pl-1\">or drag and drop</p>\n                    </div>\n                    <p class=\"text-xs text-gray-500\">PNG, JPG, GIF up to 10MB</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"px-4 py-3 bg-gray-50 text-right sm:px-6\">\n              <button type=\"submit\" class=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">Save</button>\n            </div>\n          </div>\n        </form>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport axios from \"axios\";\nexport default defineComponent({\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      nom: \"\",\n      prenom: \"\",\n      tel: \"\",\n      type: \"\",\n      societe: \"\",\n      description: \"\",\n      adress: \"\",\n      imageFile:'',\n\n    };\n  },\n  methods: {\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n    },\n    Enregistrer() {\n      let societe = new FormData();\n      societe.append(\"nom\", this.societe);\n      societe.append(\"adress\", this.adress);\n      societe.append(\"description\", this.description);\n      societe.append(\n        \"image\",\"\"      );\n      societe.append(\"ImageFile\", \"\");\n                societe.append(\"ImageFile\", this.imageFile);\n      axios.post(\"http://localhost:5000/api/Societes\", societe).then((res) => {\n        let user = new FormData();\n        user.append(\"nom\", this.nom);\n        user.append(\"prenom\", this.prenom);\n        user.append(\"email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"societe\", res.data.idSociete);\n        user.append(\"image\", \"\");\n        user.append(\"active\", 0);\n        user.append(\"tel\", this.tel);\n        user.append(\"ImageFile\", \"\");\n        user.append(\"ImageSrc\", \"\");\n        axios\n          .post(\"http://localhost:5000/api/Users\", user)\n          .then((response) => {\n            if (this.type == \"Client\") {\n              axios.post(\"http://localhost:5000/api/Clients\", {\n                iduser: response.data.idUser,\n              });\n            }\n            if (this.type == \"Transporteur\") {\n              axios.post(\"http://localhost:5000/api/Transporteurs\", {\n                idUser: response.data.idUser,\n              });\n            }\n            this.$router.push('/login');\n          })\n          \n          .catch(() => {\n            this.$swal({\n              position: \"top-end\",\n              icon: \"error\",\n              toast: true,\n              title: \"Email existe déja\",\n              showConfirmButton: false,\n              timer: 2000,\n            });\n          });\n      });\n    },\n  },\n});\n</script>\n<style>\n.r {\n  background-image: url(\"../assets/malek.png\");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}