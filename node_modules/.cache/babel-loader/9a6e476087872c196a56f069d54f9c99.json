{"ast":null,"code":"import BreadCrumb from \"../../../../components/Intermediaire/BreadCrumb.vue\";\nimport axios from \"axios\";\nimport Url from \"../../../../store/Api\";\nexport default {\n  components: {\n    BreadCrumb\n  },\n\n  data() {\n    return {\n      Profil: [],\n      role: \"\",\n      nom: \"\",\n      prenom: \"\",\n      email: \"\",\n      password: \"\",\n      cpassword: \"\",\n      user: \"\",\n      class1: \"\",\n      class2: \"\",\n      idUser: \"\",\n      image: \"\",\n      imageFile: null // success: false,\n      // timeout: false,\n\n    };\n  },\n\n  async created() {\n    await axios.get(Url + \"intermediaires/\" + localStorage.getItem(\"id\"), {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(res => {\n      this.Profil = res.data;\n      this.image = res.data.imageSrc;\n      this.user = res.data.idUserNavigation;\n      this.role = res.data.idRoleNavigation.role1;\n      this.nom = res.data.idUserNavigation.nom;\n      this.prenom = res.data.idUserNavigation.prenom;\n      this.email = res.data.idUserNavigation.email;\n      this.idUser = res.data.idUserNavigation.idUser;\n    });\n  },\n\n  methods: {\n    // startAlert() {\n    //   this.success = true;\n    //   this.timeout = setTimeout(() => {\n    //     clearTimeout(this.timeout);\n    //     this.success = false;\n    //   }, 1500);\n    // },\n    Modifier() {\n      if (this.idUser != \"\" && this.nom != \"\" && this.prenom != \"\" && this.email != \"\" && this.password != \"\" && this.password == this.cpassword) {\n        let user = new FormData();\n        user.append(\"idUser\", this.idUser);\n        user.append(\"Nom\", this.nom);\n        user.append(\"Prenom\", this.prenom);\n        user.append(\"Email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"image\", \"\");\n        user.append(\"ImageFile\", this.imageFile);\n        user.append(\"ImageSrc\", \"\");\n        axios.put(Url + \"users/\" + this.idUser, user, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n          }\n        }).then(res => {\n          console.log(res.data);\n          this.user = res.data;\n          this.nom = res.data.nom;\n          this.prenom = res.data.prenom;\n          this.email = res.data.email;\n          this.image = res.data.imageSrc;\n          this.imageFile = null;\n          this.password = \"\";\n          this.cpassword = \"\";\n        }).catch(() => {\n          this.$swal({\n            position: \"top-end\",\n            icon: \"error\",\n            toast: true,\n            title: \"Email utilis√©\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n        }); // this.startAlert();\n\n        this.$swal({\n          position: \"top-end\",\n          icon: \"success\",\n          toast: true,\n          title: \"Profil Modifier\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n      } else {\n        // this.startAlert();\n        this.$swal({\n          position: \"top-end\",\n          icon: \"error\",\n          toast: true,\n          title: \"Il faut remplir tous les champs\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n      }\n    },\n\n    // ajouter image\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n      console.log(this.imageFile);\n    }\n\n  },\n  watch: {\n    cpassword() {\n      if (this.password != \"\" && this.cpassword == \"\") {\n        this.cla = \"form-control\";\n      } else if (this.password != \"\" && this.cpassword != \"\") {\n        if (this.password == this.cpassword) {\n          this.class1 = \"focus:bg-green-200  focus:border-green-800 \";\n          this.class2 = \"focus:bg-green-200  focus:border-green-800 \";\n        } else {\n          this.class1 = \"form-control\";\n          this.class2 = \"focus:bg-red-100  focus:border-red-800 \";\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["BreadCrumb","axios","Url","components","data","Profil","role","nom","prenom","email","password","cpassword","user","class1","class2","idUser","image","imageFile","created","get","localStorage","getItem","headers","Authorization","then","res","imageSrc","idUserNavigation","idRoleNavigation","role1","methods","Modifier","FormData","append","put","console","log","catch","$swal","position","icon","toast","title","showConfirmButton","timer","FileSelected","event","target","files","watch","cla"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Intermediaire\\users\\profil\\Profil.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Breadcrumb -->\r\n    <!-- <Breadcrumb breadcrumb=\"Profil\" /> -->\r\n    <bread-crumb>\r\n      <template v-slot:bread1> Profil </template>\r\n      <template v-slot:bread> {{ role }} </template>\r\n    </bread-crumb>\r\n    <!-- alert -->\r\n    <!-- <div\r\n      class=\"\r\n        inline-flex\r\n        w-full\r\n        max-w-sm\r\n        ml-3\r\n        overflow-hidden\r\n        bg-white\r\n        rounded-lg\r\n        shadow-md\r\n      \"\r\n      style=\"position: absolute; right: 50px\"\r\n      v-if=\"success\"\r\n    >\r\n      <div class=\"flex items-center justify-center w-12 bg-red-500\">\r\n        <svg\r\n          class=\"w-6 h-6 text-white fill-current\"\r\n          viewBox=\"0 0 40 40\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            d=\"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div class=\"px-4 py-2 -mx-3\">\r\n        <div class=\"mx-3\">\r\n          <span class=\"font-semibold text-red-500\">Erreur</span>\r\n          <p class=\"text-sm text-gray-600\">Il faut remplir tous les champs</p>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n    <!-- fin alert -->\r\n    <div class=\"grid grid-flow-col gap-3\">\r\n      <div class=\"row-span-3\">\r\n        <!-- <h4 class=\"text-gray-700\">Profil</h4> -->\r\n        <div class=\"max-w-sm overflow-hidden bg-white rounded shadow-lg\">\r\n          <img class=\"w-full\" :src=\"image\" alt=\"Sunset in the mountains\" />\r\n          <div class=\"px-6 py-4\">\r\n            <div class=\"mb-2 text-xl text-center font-bold text-gray-900\">\r\n              {{ user.nom }}\r\n              {{ user.prenom }}\r\n            </div>\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <span\r\n              class=\"\r\n                inline-block\r\n                px-3\r\n                py-1\r\n                mb-2\r\n                mr-2\r\n                text-xm\r\n                font-semibold\r\n                text-gray-700\r\n                bg-gray-200\r\n                rounded-full\r\n              \"\r\n            >\r\n              {{ user.email }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-span-2 col-span-2\">\r\n        <!-- <h4 class=\"text-gray-600\">Modifier :</h4> -->\r\n        <div>\r\n          <div class=\"p-6 bg-white rounded-md shadow-md\">\r\n            <h2 class=\"text-lg font-semibold text-gray-700 capitalize\">\r\n              Account settings\r\n            </h2>\r\n            <br />\r\n\r\n            <div class=\"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2\">\r\n              <div class=\"relative block mt-2 sm:mt-0\">\r\n                <label class=\"text-gray-700\" for=\"nom\">Nom</label>\r\n\r\n                <span class=\"absolute flex items-center pl-1 py-3\">\r\n                  <svg\r\n                    v-if=\"nom != ''\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n\r\n                <input\r\n                  id=\"nom\"\r\n                  placeholder=\"Nom\"\r\n                  class=\"\r\n                    block\r\n                    w-full\r\n                    py-2\r\n                    pl-8\r\n                    pr-6\r\n                    text-xm text-gray-700\r\n                    placeholder-gray-400\r\n                    bg-white\r\n                    border border-b border-gray-400\r\n                    rounded-l rounded-r\r\n                    appearance-none\r\n                    sm:rounded-l-none\r\n                    focus:placeholder-gray-600\r\n                    focus:text-gray-700\r\n                    focus:outline-none\r\n                  \"\r\n                  :class=\"[\r\n                    nom === ''\r\n                      ? ' focus:bg-red-100  focus:border-red-800 '\r\n                      : ' focus:bg-green-100  focus:border-green-800 ',\r\n                  ]\"\r\n                  v-model=\"nom\"\r\n                />\r\n              </div>\r\n              <div class=\"relative block mt-2 sm:mt-0\">\r\n                <label class=\"text-gray-700\" for=\"prenom\">Prenom</label>\r\n\r\n                <span class=\"absolute flex items-center pl-1 py-3\">\r\n                  <svg\r\n                    v-if=\"prenom != ''\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n\r\n                <input\r\n                  id=\"prenom\"\r\n                  placeholder=\"Prenom\"\r\n                  class=\"\r\n                    block\r\n                    w-full\r\n                    py-2\r\n                    pl-8\r\n                    pr-6\r\n                    text-xm text-gray-700\r\n                    placeholder-gray-400\r\n                    bg-white\r\n                    border border-b border-gray-400\r\n                    rounded-l rounded-r\r\n                    appearance-none\r\n                    sm:rounded-l-none\r\n                    focus:placeholder-gray-600\r\n                    focus:text-gray-700\r\n                    focus:outline-none\r\n                  \"\r\n                  :class=\"[\r\n                    prenom === ''\r\n                      ? ' focus:bg-red-100  focus:border-red-800 '\r\n                      : ' focus:bg-green-100  focus:border-green-800 ',\r\n                  ]\"\r\n                  v-model=\"prenom\"\r\n                />\r\n              </div>\r\n              <div class=\"relative block mt-2 sm:mt-0\">\r\n                <label class=\"text-gray-700\" for=\"email\">Email</label>\r\n\r\n                <span class=\"absolute flex items-center pl-1 py-3\">\r\n                  <svg\r\n                    v-if=\"email != ''\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n\r\n                <input\r\n                  id=\"email\"\r\n                  placeholder=\"Email\"\r\n                  class=\"\r\n                    block\r\n                    w-full\r\n                    py-2\r\n                    pl-8\r\n                    pr-6\r\n                    text-xm text-gray-700\r\n                    placeholder-gray-400\r\n                    bg-white\r\n                    border border-b border-gray-400\r\n                    rounded-l rounded-r\r\n                    appearance-none\r\n                    sm:rounded-l-none\r\n                    focus:placeholder-gray-600\r\n                    focus:text-gray-700\r\n                    focus:outline-none\r\n                  \"\r\n                  :class=\"[\r\n                    email === ''\r\n                      ? ' focus:bg-red-100  focus:border-red-800 '\r\n                      : ' focus:bg-green-100  focus:border-green-800 ',\r\n                  ]\"\r\n                  v-model=\"email\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label class=\"text-gray-700\" for=\"image\">Image</label>\r\n                <input\r\n                  class=\"\r\n                    w-full\r\n                    mt-2\r\n                    border-gray-200\r\n                    rounded-md\r\n                    focus:border-indigo-600\r\n                    focus:ring\r\n                    focus:ring-opacity-40\r\n                    focus:ring-indigo-500\r\n                  \"\r\n                  id=\"image\"\r\n                  type=\"file\"\r\n                  @change=\"FileSelected($event)\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"relative block mt-2 sm:mt-0\">\r\n                <label class=\"text-gray-700\" for=\"motdepasse\"\r\n                  >Mot de passe</label\r\n                >\r\n\r\n                <span class=\"absolute flex items-center pl-1 py-3\">\r\n                  <svg\r\n                    v-if=\"password != ''\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"motdepasse\"\r\n                  placeholder=\"password\"\r\n                  class=\"\r\n                    block\r\n                    w-full\r\n                    py-2\r\n                    pl-8\r\n                    pr-6\r\n                    text-xm text-gray-700\r\n                    placeholder-gray-400\r\n                    bg-white\r\n                    border border-b border-gray-400\r\n                    rounded-l rounded-r\r\n                    appearance-none\r\n                    sm:rounded-l-none\r\n                    focus:placeholder-gray-600\r\n                    focus:text-gray-700\r\n                    focus:outline-none\r\n                  \"\r\n                  :class=\"[\r\n                    password === ''\r\n                      ? ' focus:bg-red-100  focus:border-red-800 '\r\n                      : ' focus:bg-green-100  focus:border-green-800 ',\r\n                  ]\"\r\n                  v-model=\"password\"\r\n                />\r\n              </div>\r\n              <div class=\"relative block mt-2 sm:mt-0\">\r\n                <label class=\"text-gray-700\" for=\"cmotdepasse\"\r\n                  >Confirmer mot de passe</label\r\n                >\r\n\r\n                <span class=\"absolute flex items-center pl-1 py-3\">\r\n                  <svg\r\n                    v-if=\"cpassword != '' && cpassword == password\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path\r\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Confirmer password\"\r\n                  class=\"\r\n                    block\r\n                    w-full\r\n                    py-2\r\n                    pl-8\r\n                    pr-6\r\n                    text-xm text-gray-700\r\n                    placeholder-gray-400\r\n                    bg-white\r\n                    border border-b border-gray-400\r\n                    rounded-l rounded-r\r\n                    appearance-none\r\n                    sm:rounded-l-none\r\n                    focus:placeholder-gray-600\r\n                    focus:text-gray-700\r\n                    focus:outline-none\r\n                  \"\r\n                  :class=\"[cpassword === '' ? class1 : class2]\"\r\n                  v-model=\"cpassword\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"flex justify-end mt-4\">\r\n              <button\r\n                class=\"\r\n                  px-4\r\n                  py-2\r\n                  text-gray-200\r\n                  bg-gray-800\r\n                  rounded-md\r\n                  hover:bg-gray-700\r\n                  focus:outline-none focus:bg-gray-700\r\n                \"\r\n                @click=\"Modifier()\"\r\n              >\r\n                Modifier\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br />\r\n  </div>\r\n</template>\r\n<!-- BlogPost.vue -->\r\n<script>\r\nimport BreadCrumb from \"../../../../components/Intermediaire/BreadCrumb.vue\";\r\nimport axios from \"axios\";\r\nimport Url from \"../../../../store/Api\";\r\nexport default {\r\n  components: {\r\n    BreadCrumb,\r\n  },\r\n  data() {\r\n    return {\r\n      Profil: [],\r\n      role: \"\",\r\n      nom: \"\",\r\n      prenom: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      cpassword: \"\",\r\n      user: \"\",\r\n      class1: \"\",\r\n      class2: \"\",\r\n      idUser: \"\",\r\n      image: \"\",\r\n      imageFile: null,\r\n      // success: false,\r\n      // timeout: false,\r\n    };\r\n  },\r\n\r\n  async created() {\r\n    await axios\r\n      .get(Url + \"intermediaires/\" + localStorage.getItem(\"id\"), {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        this.Profil = res.data;\r\n        this.image = res.data.imageSrc;\r\n        this.user = res.data.idUserNavigation;\r\n        this.role = res.data.idRoleNavigation.role1;\r\n        this.nom = res.data.idUserNavigation.nom;\r\n        this.prenom = res.data.idUserNavigation.prenom;\r\n        this.email = res.data.idUserNavigation.email;\r\n        this.idUser = res.data.idUserNavigation.idUser;\r\n      });\r\n  },\r\n  methods: {\r\n    // startAlert() {\r\n    //   this.success = true;\r\n    //   this.timeout = setTimeout(() => {\r\n    //     clearTimeout(this.timeout);\r\n    //     this.success = false;\r\n    //   }, 1500);\r\n    // },\r\n\r\n    Modifier() {\r\n      if (\r\n        this.idUser != \"\" &&\r\n        this.nom != \"\" &&\r\n        this.prenom != \"\" &&\r\n        this.email != \"\" &&\r\n        this.password != \"\" &&\r\n        this.password == this.cpassword\r\n      ) {\r\n        let user = new FormData();\r\n        user.append(\"idUser\", this.idUser);\r\n        user.append(\"Nom\", this.nom);\r\n        user.append(\"Prenom\", this.prenom);\r\n        user.append(\"Email\", this.email);\r\n        user.append(\"motdepasse\", this.password);\r\n        user.append(\"image\", \"\");\r\n        user.append(\"ImageFile\", this.imageFile);\r\n        user.append(\"ImageSrc\", \"\");\r\n        axios\r\n          .put(Url + \"users/\" + this.idUser, user, {\r\n            headers: {\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n            },\r\n          })\r\n          .then((res) => {\r\n            console.log(res.data);\r\n            this.user = res.data;\r\n            this.nom = res.data.nom;\r\n            this.prenom = res.data.prenom;\r\n            this.email = res.data.email;\r\n            this.image = res.data.imageSrc;\r\n            this.imageFile = null;\r\n            this.password = \"\";\r\n            this.cpassword = \"\";\r\n          })\r\n          .catch(() => {\r\n            this.$swal({\r\n              position: \"top-end\",\r\n              icon: \"error\",\r\n              toast: true,\r\n              title: \"Email utilis√©\",\r\n              showConfirmButton: false,\r\n              timer: 2000,\r\n            });\r\n          });\r\n        // this.startAlert();\r\n        this.$swal({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n\r\n          toast: true,\r\n          title: \"Profil Modifier\",\r\n          showConfirmButton: false,\r\n          timer: 2000,\r\n        });\r\n      } else {\r\n        // this.startAlert();\r\n        this.$swal({\r\n          position: \"top-end\",\r\n          icon: \"error\",\r\n          toast: true,\r\n          title: \"Il faut remplir tous les champs\",\r\n          showConfirmButton: false,\r\n          timer: 2000,\r\n        });\r\n      }\r\n    },\r\n    // ajouter image\r\n    FileSelected(event) {\r\n      this.imageFile = event.target.files[0];\r\n      console.log(this.imageFile);\r\n    },\r\n  },\r\n  watch: {\r\n    cpassword() {\r\n      if (this.password != \"\" && this.cpassword == \"\") {\r\n        this.cla = \"form-control\";\r\n      } else if (this.password != \"\" && this.cpassword != \"\") {\r\n        if (this.password == this.cpassword) {\r\n          this.class1 = \"focus:bg-green-200  focus:border-green-800 \";\r\n          this.class2 = \"focus:bg-green-200  focus:border-green-800 \";\r\n        } else {\r\n          this.class1 = \"form-control\";\r\n          this.class2 = \"focus:bg-red-100  focus:border-red-800 \";\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}