{"ast":null,"code":"// import Breadcrumb from \"../../partials/Breadcrumb.vue\";\nimport { ref } from 'vue';\nimport axios from \"axios\";\nimport $ from 'jquery';\nexport default {\n  components: {// Breadcrumb,\n  },\n\n  data() {\n    return {\n      demandes: [],\n      open: ref(false),\n      description: '',\n      depart: '',\n      arrive: '',\n      success: false,\n      villes: [],\n      updateinputdisable: true,\n      update: true,\n      descupdate: \"\",\n      departupdate: \"\",\n      arriveupdate: \"\"\n    };\n  },\n\n  created() {\n    axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n      this.demandes = response.data;\n    });\n    axios.get('http://localhost:5000/api/villes').then(resp => this.villes = resp.data);\n  },\n\n  methods: {\n    updatedemande(id, index) {\n      axios.put('http://localhost:5000/api/demandelivraisons/' + id, {\n        \"idDemande\": id,\n        \"description\": this.demandes[index].description,\n        \"datecreation\": this.demandes[index].datecreation,\n        \"adressdepart\": this.demandes[index].adressdepart,\n        \"adressarrive\": this.demandes[index].adressarrive,\n        \"idEtatdemande\": this.demandes[index].idEtatdemande,\n        \"idclient\": this.demandes[index].idclient\n      }).then(() => {\n        this.open = false;\n        this.success = true;\n      });\n    },\n\n    demandelivraisons() {\n      const date = new Date();\n      axios.post('http://localhost:5000/api/demandelivraisons', {\n        \"description\": this.description,\n        \"datecreation\": date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate(),\n        \"adressdepart\": this.depart,\n        \"adressarrive\": this.arrive,\n        \"idEtatdemande\": 2002,\n        \"idclient\": this.demandes[0].idclient\n      }).then(r => {\n        axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n          this.demandes = response.data;\n        });\n        this.open = false;\n        this.success = true;\n      }).catch(error => console.log(error));\n    },\n\n    supprimer(id) {\n      axios.delete('http://localhost:5000/api/demandelivraisons/' + id).then(() => {\n        axios.get(\"http://localhost:5000/api/demandelivraisons/client/\" + localStorage.getItem(\"iduser\")).then(response => {\n          this.demandes = response.data;\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","axios","$","components","data","demandes","open","description","depart","arrive","success","villes","updateinputdisable","update","descupdate","departupdate","arriveupdate","created","get","localStorage","getItem","then","response","resp","methods","updatedemande","id","index","put","datecreation","adressdepart","adressarrive","idEtatdemande","idclient","demandelivraisons","date","Date","post","getFullYear","getMonth","getDate","r","catch","error","console","log","supprimer","delete"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\frontfinal\\src\\views\\Client\\demande.vue"],"sourcesContent":["<template>\r\n  <!-- Breadcrumb -->\r\n  <!-- <Breadcrumb breadcrumb=\"Demandes\" /> -->\r\n\r\n  <div\r\n    class=\"\r\n      inline-flex\r\n      w-full\r\n      max-w-sm\r\n      ml-3\r\n      overflow-hidden\r\n      bg-white\r\n      rounded-lg\r\n      shadow-md\r\n    \"\r\n    style=\"position: absolute; right: 50px\"\r\n    v-if=\"success\"\r\n    @click=\"success = false\"\r\n  >\r\n    <div class=\"flex items-center justify-center w-12 bg-green-500\">\r\n      <svg\r\n        class=\"w-6 h-6 text-white fill-current\"\r\n        viewBox=\"0 0 40 40\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          d=\"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n\r\n    <div class=\"px-4 py-2 -mx-3\">\r\n      <div class=\"mx-3\">\r\n        <span class=\"font-semibold text-green-500\">Succée</span>\r\n        <p class=\"text-sm text-gray-600\">Demande envoyé avec succée</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div\r\n    :class=\"`modal ${\r\n      !open && 'opacity-0 pointer-events-none'\r\n    } z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`\"\r\n  >\r\n    <div\r\n      @click=\"open = false\"\r\n      class=\"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay\"\r\n    ></div>\r\n\r\n    <div\r\n      class=\"\r\n        z-50\r\n        w-11/12\r\n        mx-auto\r\n        overflow-y-auto\r\n        bg-white\r\n        rounded\r\n        shadow-lg\r\n        modal-container\r\n        md:max-w-md\r\n      \"\r\n    >\r\n      <div\r\n        class=\"\r\n          absolute\r\n          top-0\r\n          right-0\r\n          z-50\r\n          flex flex-col\r\n          items-center\r\n          mt-4\r\n          mr-4\r\n          text-sm text-white\r\n          cursor-pointer\r\n          modal-close\r\n        \"\r\n      >\r\n        <svg\r\n          class=\"text-white fill-current\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"18\"\r\n          height=\"18\"\r\n          viewBox=\"0 0 18 18\"\r\n        >\r\n          <path\r\n            d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\r\n          />\r\n        </svg>\r\n        <span class=\"text-sm\">(Esc)</span>\r\n      </div>\r\n\r\n      <!-- Add margin if you want to see some of the overlay behind the modal-->\r\n      <div class=\"px-6 py-4 text-left modal-content\">\r\n        <!--Title-->\r\n        <div class=\"flex items-center justify-between pb-3\">\r\n          <p class=\"text-2xl font-bold\">Demande Livraison</p>\r\n          <div class=\"z-50 cursor-pointer modal-close\" @click=\"open = false\">\r\n            <svg\r\n              class=\"text-black fill-current\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"18\"\r\n              height=\"18\"\r\n              viewBox=\"0 0 18 18\"\r\n            >\r\n              <path\r\n                d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <!--Body-->\r\n        <div class=\"px-5 py-6 text-gray-700 bg-gray-200 border-b\">\r\n          <label class=\"text-xs\">Description</label>\r\n\r\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\r\n            <span\r\n              class=\"\r\n                absolute\r\n                inset-y-0\r\n                left-0\r\n                flex\r\n                items-center\r\n                pl-3\r\n                text-gray-600\r\n              \"\r\n            >\r\n              <svg\r\n                class=\"w-6 h-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  stroke-width=\"2\"\r\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n\r\n            <textarea\r\n              type=\"text\"\r\n              class=\"\r\n                w-full\r\n                px-12\r\n                py-2\r\n                border-transparent\r\n                rounded-md\r\n                appearance-none\r\n                focus:border-indigo-600\r\n                focus:ring\r\n                focus:ring-opacity-40\r\n                focus:ring-indigo-500\r\n              \"\r\n              v-model=\"description\"\r\n            />\r\n          </div>\r\n\r\n          <label class=\"text-xs\">Adresse depart</label>\r\n\r\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\r\n            <span\r\n              class=\"\r\n                absolute\r\n                inset-y-0\r\n                left-0\r\n                flex\r\n                items-center\r\n                pl-3\r\n                text-gray-600\r\n              \"\r\n            >\r\n              <svg\r\n                class=\"w-6 h-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  stroke-width=\"2\"\r\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n            <select\r\n              name=\"\"\r\n              class=\"\r\n                w-full\r\n                px-12\r\n                py-2\r\n                border-transparent\r\n                rounded-md\r\n                appearance-none\r\n                focus:border-indigo-600\r\n                focus:ring\r\n                focus:ring-opacity-40\r\n                focus:ring-indigo-500\r\n              \"\r\n              id=\"\"\r\n              v-model=\"depart\"\r\n            >\r\n              <option\r\n                v-for=\"ville in villes\"\r\n                :key=\"ville\"\r\n                :value=\"ville.nomVille\"\r\n              >\r\n                {{ ville.nomVille }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <label class=\"text-xs\">Adresse arrive</label>\r\n\r\n          <div class=\"relative mt-2 rounded-md shadow-sm\">\r\n            <span\r\n              class=\"\r\n                absolute\r\n                inset-y-0\r\n                left-0\r\n                flex\r\n                items-center\r\n                pl-3\r\n                text-gray-600\r\n              \"\r\n            >\r\n              <svg\r\n                class=\"w-6 h-6\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                  stroke-width=\"2\"\r\n                  d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n\r\n            <select\r\n              name=\"\"\r\n              class=\"\r\n                w-full\r\n                px-12\r\n                py-2\r\n                border-transparent\r\n                rounded-md\r\n                appearance-none\r\n                focus:border-indigo-600\r\n                focus:ring\r\n                focus:ring-opacity-40\r\n                focus:ring-indigo-500\r\n              \"\r\n              id=\"\"\r\n              v-model=\"arrive\"\r\n            >\r\n              <option\r\n                v-for=\"ville in villes\"\r\n                :key=\"ville\"\r\n                :value=\"ville.nomVille\"\r\n              >\r\n                {{ ville.nomVille }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!--Footer-->\r\n        <div class=\"flex justify-end pt-2\">\r\n          <button\r\n            @click=\"open = false\"\r\n            class=\"\r\n              p-3\r\n              px-6\r\n              py-3\r\n              mr-2\r\n              text-indigo-500\r\n              bg-transparent\r\n              rounded-lg\r\n              hover:bg-gray-100 hover:text-indigo-400\r\n              focus:outline-none\r\n            \"\r\n          >\r\n            Close\r\n          </button>\r\n          <button\r\n            @click=\"demandelivraisons()\"\r\n            class=\"\r\n              px-6\r\n              py-3\r\n              font-medium\r\n              tracking-wide\r\n              text-white\r\n              bg-indigo-600\r\n              rounded-md\r\n              hover:bg-indigo-500\r\n              focus:outline-none\r\n            \"\r\n          >\r\n            Valider\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"mt-6\">\r\n    <h2 class=\"text-xl font-semibold leading-tight text-gray-700\">Demandes</h2>\r\n    <div class=\"px-4 py-4 -mx-4 overflow-x-auto sm:-mx-8 sm:px-8\">\r\n      <div class=\"inline-block min-w-full overflow-hidden rounded-lg shadow\">\r\n        <table class=\"divide-y divide-gray-300\" style=\"width: 100%\">\r\n          <thead class=\"bg-gray-100\">\r\n            <tr>\r\n              <th\r\n                class=\"px-6 py-2 text-xs text-gray-500\"\r\n                style=\"padding: 15px 30px\"\r\n              >\r\n                DESCRIPTION\r\n              </th>\r\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ADRESSE DEPART</th>\r\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ADRESSE ARRIVE</th>\r\n              <th class=\"px-6 py-2 text-xs text-gray-500\">FILE</th>\r\n              <th class=\"px-6 py-2 text-xs text-gray-500\">ETAT</th>\r\n              <th class=\"px-6 py-2 text-xs text-gray-500\">SETTINGS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"bg-white divide-y divide-gray-500\">\r\n            <tr\r\n              class=\"whitespace-nowrap\"\r\n              v-for=\"(u, index) in demandes\"\r\n              :key=\"index\"\r\n            >\r\n              <td\r\n                class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\r\n                style=\"padding: 30px 49px\"\r\n              >\r\n                <div class=\"flex items-center\">\r\n                  <div class=\"ml-3\">\r\n                    <p class=\"text-gray-900 whitespace-nowrap\">\r\n                      <input\r\n                        class=\"bg-white\"\r\n                        type=\"text\"\r\n                        v-model=\"u.description\"\r\n                        :disabled=\"updateinputdisable\"\r\n                      />\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\r\n                <input\r\n                  class=\"bg-white\"\r\n                  type=\"text\"\r\n                  v-model=\"u.adressdepart\"\r\n                  :disabled=\"updateinputdisable\"\r\n                />\r\n              </td>\r\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\r\n                <input\r\n                  class=\"bg-white\"\r\n                  type=\"text\"\r\n                  v-model=\"u.adressarrive\"\r\n                  :disabled=\"updateinputdisable\"\r\n                />\r\n              </td>\r\n              <td\r\n                class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\r\n                style=\"padding: 30px 49px\"\r\n              >\r\n                <a\r\n                  class=\"\r\n                    bg-blue-500\r\n                    hover:bg-blue-700\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                  \"\r\n                  :href=\"u.file\"\r\n                  v-if=\"u.file\"\r\n                  >Download File</a\r\n                >\r\n                <a\r\n                  class=\"\r\n                    bg-red-500\r\n                    hover:bg-red-700\r\n                    text-white\r\n                    font-bold\r\n                    py-2\r\n                    px-4\r\n                    rounded\r\n                  \"\r\n                  v-else\r\n                >\r\n                  No File</a\r\n                >\r\n              </td>\r\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\r\n                {{ u.idEtatdemandeNavigation.etatDemande }}\r\n              </td>\r\n              <td class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\">\r\n                <div class=\"flex justify-around\">\r\n                  <span class=\"text-yellow-500 flex justify-center\">\r\n                    <button\r\n                      @click=\"updateinputdisable = false\"\r\n                      :hidden=\"!updateinputdisable\"\r\n                      class=\"mx-2 px-2 rounded-md\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"h-5 w-5 text-green-700\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\"\r\n                        />\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\r\n                          clip-rule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                    <button\r\n                      @click=\"updatedemande(u.idDemande, index)\"\r\n                      :hidden=\"updateinputdisable\"\r\n                      class=\"mx-2 px-2 rounded-md\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"h-5 w-5 text-green-700\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\"\r\n                        />\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\r\n                          clip-rule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                    <button\r\n                      @click=\"supprimer(u.idDemande)\"\r\n                      class=\"mx-2 px-2 rounded-md\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"h-5 w-5 text-red-700\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          fill-rule=\"evenodd\"\r\n                          d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n                          clip-rule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </span>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <button\r\n        @click=\"open = true\"\r\n        class=\"\r\n          px-6\r\n          py-2\r\n          mt-3\r\n          font-medium\r\n          tracking-wide\r\n          text-white\r\n          bg-indigo-600\r\n          rounded-md\r\n          hover:bg-indigo-500\r\n          focus:outline-none\r\n        \"\r\n      >\r\n        Demande Livraison\r\n        \r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"js\">\r\n// import Breadcrumb from \"../../partials/Breadcrumb.vue\";\r\nimport { ref } from 'vue'\r\nimport axios from \"axios\";\r\nimport $ from 'jquery'; \r\n   export default {\r\n      components: {\r\n   // Breadcrumb,\r\n  },\r\n         data () {\r\n      return {\r\n      demandes:[],\r\n      open : ref(false),\r\n      description:'',\r\n      depart:'',\r\n      arrive:'',\r\n      success:false,\r\n      villes: [],\r\n      updateinputdisable:true,\r\n      update:true,\r\n      descupdate:\"\",\r\n      departupdate:\"\",\r\n      arriveupdate:\"\"\r\n      }\r\n    },\r\n  \r\n    created(){\r\n  \r\n         axios\r\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\r\n      .then((response) =>{\r\n      this.demandes= response.data\r\n      })\r\n\r\n  axios.get('http://localhost:5000/api/villes').then((resp)=>this.villes=resp.data)\r\n      \r\n      \r\n    },\r\n    methods:{\r\n  updatedemande(id,index){\r\naxios.put('http://localhost:5000/api/demandelivraisons/'+id,{\r\n    \"idDemande\": id,\r\n    \"description\": this.demandes[index].description,\r\n    \"datecreation\": this.demandes[index].datecreation,\r\n    \"adressdepart\": this.demandes[index].adressdepart,\r\n    \"adressarrive\": this.demandes[index].adressarrive,\r\n    \"idEtatdemande\": this.demandes[index].idEtatdemande,\r\n    \"idclient\": this.demandes[index].idclient,\r\n}).then(()=>{\r\nthis.open = false;\r\n        this.success = true;\r\n})\r\n  },\r\n      demandelivraisons(){\r\n        const date = new Date();\r\n   axios.post('http://localhost:5000/api/demandelivraisons',{\r\n          \"description\":this.description,\r\n          \"datecreation\":date.getFullYear()+'-'+date.getMonth()+'-'+date.getDate(),\r\n          \"adressdepart\":this.depart,\r\n          \"adressarrive\":this.arrive,\r\n          \"idEtatdemande\":2002,\r\n          \"idclient\":this.demandes[0].idclient\r\n        }).then((r)=>{\r\n    axios\r\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\r\n      .then((response) =>{\r\n      this.demandes= response.data\r\n      })\r\n\r\n this.open = false;\r\n        this.success = true;\r\n      \r\n      })\r\n      .catch((error) => console.log(error))\r\n      },\r\n      supprimer(id){\r\n        axios.delete('http://localhost:5000/api/demandelivraisons/'+id)\r\n        .then(()=>{\r\n       axios\r\n      .get( \"http://localhost:5000/api/demandelivraisons/client/\"+localStorage.getItem(\"iduser\"))\r\n      .then((response) =>{\r\n      this.demandes= response.data\r\n      })\r\n        })\r\n      }\r\n    }\r\n   }\r\n</script>\r\n<style>\r\n.modal {\r\n  transition: opacity 0.25s ease;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}