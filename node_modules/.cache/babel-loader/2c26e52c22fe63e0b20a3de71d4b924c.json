{"ast":null,"code":"import axios from \"axios\";\nimport url from \"../../../store/Api\";\nimport PaginationVue from \"/src/components/Intermediaire/pagination/PaginationVue.vue\";\nimport ModalTrajetUpdate from \"/src/views/Transporteur/Trajets/ModalLayoutTrajetUpdate.vue\";\nexport default {\n  components: {\n    PaginationVue,\n    ModalTrajetUpdate\n  },\n  props: [\"tarjettable\"],\n\n  data() {\n    return {\n      pass: \"\",\n      error: \"\",\n      open: false,\n      trajets: [],\n      idtransporteur: \"\",\n      currentPage: 1,\n      perPage: 5,\n      searchby: \"\",\n      total: \"\",\n      exists: [],\n      depart: \"\",\n      arrive: \"\",\n      villes: [],\n      date: \"\",\n      long: \"\",\n      dateheure: \"\"\n    };\n  },\n\n  created() {\n    //get etatdemandedevis where etat=accepte\n    axios.get(url + \"EtatDemandeDevis?etat=Accepte\").then(response => {\n      this.accepte = response.data;\n    }), //get etatoffre where etat=en cours\n    axios.get(url + \"EtatOffres?offre=Nontraite\").then(response => {\n      this.encours = response.data;\n    }), axios.get(url + \"villes\").then(resp => this.villes = resp.data); // liste trajets de ce camion\n\n    axios.get(url + \"Trajets/\" + localStorage.getItem(\"moncamion\") + \"/camion\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage).then(response => {\n      this.trajets = response.data;\n    }).catch(error => console.log(error));\n    axios.get(url + \"Trajets/\" + localStorage.getItem(\"moncamion\") + \"/camion\").then(response => {\n      this.long = response.data.length;\n    }).catch(error => console.log(error));\n  },\n\n  methods: {\n    ChangePage(NumPage) {\n      this.currentPage = NumPage;\n      this.perPage = this.perPage;\n      axios.get(url + \"Trajets/\" + localStorage.getItem(\"moncamion\") + \"/camion\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage + \"&depart=\" + this.depart + \"&arrive=\" + this.arrive + \"&date=\" + this.date).then(response => {\n        this.trajets = response.data;\n      }).catch(error => console.log(error));\n    },\n\n    reload() {\n      //get etatdemandedevis where etat=accepte\n      axios.get(url + \"EtatDemandeDevis?etat=Accepte\").then(response => {\n        this.accepte = response.data;\n      }), //get etatoffre where etat=en cours\n      axios.get(url + \"EtatOffres?offre=Nontraite\").then(response => {\n        this.encours = response.data;\n      }), axios.get(url + \"villes\").then(resp => this.villes = resp.data); // liste trajets de ce camion\n\n      axios.get(url + \"Trajets/\" + localStorage.getItem(\"moncamion\") + \"/camion\" + \"?page=\" + this.currentPage + \"&quantityPage=\" + this.perPage).then(response => {\n        this.trajets = response.data;\n      }).catch(error => console.log(error));\n      axios.get(url + \"Trajets/\" + localStorage.getItem(\"moncamion\") + \"/camion\").then(response => {\n        this.long = response.data.length;\n      }).catch(error => console.log(error));\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","url","PaginationVue","ModalTrajetUpdate","components","props","data","pass","error","open","trajets","idtransporteur","currentPage","perPage","searchby","total","exists","depart","arrive","villes","date","long","dateheure","created","get","then","response","accepte","encours","resp","localStorage","getItem","catch","console","log","length","methods","ChangePage","NumPage","reload"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Transporteur\\Trajets\\Tarjet.vue"],"sourcesContent":["<template>\n  <div>   \n    <div class=\"mt-8 \">\n      <div class=\"mt-6\">\n        <div class=\"px-4 py-4 -mx-4 overflow-x-auto sm:-mx-8 sm:px-8\">\n          <div\n            class=\"inline-block min-w-full overflow-hidden rounded-lg shadow\"\n          >\n            <div class=\"flex flex-col mt-3 text-center sm:flex-row\">\n              <div class=\"flex\">\n                <div class=\"relative\">\n                  <select\n                    class=\"block w-full h-full px-4 py-2 pr-8 leading-tight text-gray-700 bg-white border border-gray-400 rounded-l appearance-none focus:outline-none focus:bg-white focus:border-gray-500\"\n                    v-model=\"perPage\"\n                    @change=\"ChangePage(this.currentPage)\"\n                  >\n                    <option value=\"5\">5</option>\n                    <option value=\"10\">10</option>\n                    <option value=\"20\">20</option>\n                  </select>\n\n                  <div\n                    class=\"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none\"\n                  >\n                    <svg\n                      class=\"w-4 h-4 fill-current\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                    >\n                      <path\n                        d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n                <div class=\"relative\">\n                  <select\n                    v-model=\"depart\"\n                    @change=\"ChangePage(this.currentPage)\"\n                    class=\"form-select appearance-none block w-full px-3 py-1.5 text-base font-semibold text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\"\n                    aria-label=\"Default select example\"\n                  >\n                    <option value=\"\" class=\"font-semibold\" selected>\n                      depart\n                    </option>\n                    <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n                      --{{ v.nomVille }}--\n                    </option>\n                  </select>\n\n                  <div\n                    class=\"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none\"\n                  >\n                    <svg\n                      class=\"w-4 h-4 fill-current\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                    >\n                      <path\n                        d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n                <div class=\"relative\">\n                  <select\n                    v-model=\"arrive\"\n                    @change=\"ChangePage(this.currentPage)\"\n                    class=\"form-select appearance-none block w-full px-3 py-1.5 text-base font-semibold text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\"\n                    aria-label=\"Default select example\"\n                  >\n                    <option value=\"\" class=\"font-semibold\" selected>\n                      Arrive\n                    </option>\n                    <option v-for=\"v in villes\" :key=\"v\" :value=\"v.nomVille\">\n                      --{{ v.nomVille }}--\n                    </option>\n                  </select>\n\n                  <div\n                    class=\"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none\"\n                  >\n                    <svg\n                      class=\"w-4 h-4 fill-current\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                    >\n                      <path\n                        d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n                <div class=\"relative\">\n                  <div\n                    class=\"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none\"\n                  >\n                    <svg\n                      class=\"w-4 h-4 fill-current\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                    >\n                      <path\n                        d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n              <div class=\"relative\">\n                <input\n                  type=\"date\"\n                  v-model=\"date\"\n                  @change=\"ChangePage(this.currentPage)\"\n                  class=\"form-select appearance-none block w-full px-3 py-1.5 text-base font-semibold text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\"\n                  aria-label=\"Default select example\"\n                />\n              </div>\n            </div>\n            <table id=\"example\" class=\"min-w-full leading-normal\">\n              <thead>\n                <tr>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Ville départ\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Destination\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Date départ\n                  </th>\n                  <th\n                    class=\"px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase bg-gray-100 border-b-2 border-gray-200\"\n                  >\n                    Heure départ\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(u, index) in trajets\" :key=\"index\">\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        <p class=\"text-gray-900 whitespace-nowrap\">\n                          {{ u.idVille1Navigation.nomVille }}\n                        </p>\n                      </div>\n                    </div>\n                  </td>\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <div class=\"flex items-center\">\n                      <div class=\"ml-3\">\n                        {{ u.idVille2Navigation.nomVille }}\n                      </div>\n                    </div>\n                  </td>\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <p class=\"text-gray-900 whitespace-nowrap\">\n                      {{ u.date.substr(0, 10) }}\n                    </p>\n                  </td>\n                  <td\n                    class=\"px-5 py-5 text-sm bg-white border-b border-gray-200\"\n                  >\n                    <p class=\"text-gray-900 whitespace-nowrap\">\n                      {{ u.heurdepart }}\n                    </p>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div\n              class=\"flex flex-col items-center px-2 py-2 bg-white border-t xs:flex-row xs:justify-between\"\n            >\n              <div class=\"inline-flex xs:mt-0\">\n                <!-- PAGINATION -->\n                <pagination-vue\n                  :current=\"currentPage\"\n                  :total=\"this.long\"\n                  :per-page=\"perPage\"\n                  @page-changed=\"ChangePage\"\n                ></pagination-vue>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport url from \"../../../store/Api\";\nimport PaginationVue from \"/src/components/Intermediaire/pagination/PaginationVue.vue\";\nimport ModalTrajetUpdate from \"/src/views/Transporteur/Trajets/ModalLayoutTrajetUpdate.vue\";\n\nexport default {\n  components: {\n    PaginationVue,\n    ModalTrajetUpdate,\n  },\n  props: [\"tarjettable\"],\n  data() {\n    return {\n      pass: \"\",\n      error: \"\",\n      open: false,\n      trajets: [],\n      idtransporteur: \"\",\n      currentPage: 1,\n      perPage: 5,\n      searchby: \"\",\n      total: \"\",\n      exists: [],\n      depart: \"\",\n      arrive: \"\",\n      villes: [],\n      date: \"\",\n      long: \"\",\n      dateheure: \"\",\n    };\n  },\n  created() {\n    //get etatdemandedevis where etat=accepte\n    axios\n      .get(url+\"EtatDemandeDevis?etat=Accepte\")\n      .then((response) => {\n        this.accepte = response.data;\n      }),\n      //get etatoffre where etat=en cours\n      axios\n        .get(url+\"EtatOffres?offre=Nontraite\")\n        .then((response) => {\n          this.encours = response.data;\n        }),\n      axios\n        .get(url+\"villes\")\n        .then((resp) => (this.villes = resp.data));\n    // liste trajets de ce camion\n    axios\n      .get(\n        url+\"Trajets/\" +\n          localStorage.getItem(\"moncamion\") +\n          \"/camion\" +\n          \"?page=\" +\n          this.currentPage +\n          \"&quantityPage=\" +\n          this.perPage\n      )\n      .then((response) => {\n        this.trajets = response.data;\n      })\n      .catch((error) => console.log(error));\n    axios\n      .get(\n        url+\"Trajets/\" +\n          localStorage.getItem(\"moncamion\") +\n          \"/camion\"\n      )\n      .then((response) => {\n        this.long = response.data.length;\n      })\n      .catch((error) => console.log(error));\n  },\n  methods: {\n    ChangePage(NumPage) {\n      this.currentPage = NumPage;\n      this.perPage = this.perPage;\n      axios\n        .get(\n          url+\"Trajets/\" +\n            localStorage.getItem(\"moncamion\") +\n            \"/camion\" +\n            \"?page=\" +\n            this.currentPage +\n            \"&quantityPage=\" +\n            this.perPage +\n            \"&depart=\" +\n            this.depart +\n            \"&arrive=\" +\n            this.arrive +\n            \"&date=\" +\n            this.date\n        )\n        .then((response) => {\n          this.trajets = response.data;\n        })\n        .catch((error) => console.log(error));\n    },\n   \n    reload() {\n      //get etatdemandedevis where etat=accepte\n      axios\n        .get(url+\"EtatDemandeDevis?etat=Accepte\")\n        .then((response) => {\n          this.accepte = response.data;\n        }),\n        //get etatoffre where etat=en cours\n        axios\n          .get(url+\"EtatOffres?offre=Nontraite\")\n          .then((response) => {\n            this.encours = response.data;\n          }),\n        axios\n          .get(url+\"villes\")\n          .then((resp) => (this.villes = resp.data));\n      // liste trajets de ce camion\n      axios\n        .get(\n          url+\"Trajets/\" +\n            localStorage.getItem(\"moncamion\") +\n            \"/camion\" +\n            \"?page=\" +\n            this.currentPage +\n            \"&quantityPage=\" +\n            this.perPage\n        )\n        .then((response) => {\n          this.trajets = response.data;\n        })\n        .catch((error) => console.log(error));\n      axios\n        .get(\n          url+\"Trajets/\" +\n            localStorage.getItem(\"moncamion\") +\n            \"/camion\"\n        )\n        .then((response) => {\n          this.long = response.data.length;\n        })\n        .catch((error) => console.log(error));\n    },\n    \n  },\n};\n</script>\n<style>\n.affect {\n  font-weight: bold;\n  color: red;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}