{"ast":null,"code":"import axios from \"axios\";\nimport ProfileLayout from \"/src/components/ProfileLayout.vue\";\nexport default {\n  components: {\n    ProfileLayout\n  },\n\n  data() {\n    return {\n      nom: \"\",\n      prenom: \"\",\n      email: \"\",\n      motdepasse: \"\",\n      user: [],\n      nomsociete: \"\",\n      descriptionsociete: \"\",\n      disabledbutton: true,\n      hiddenbutton: false,\n      nomsociete: \"\",\n      hiddenbutton2: true,\n      adresssociete: \"\",\n      image: \"\",\n      file: null\n    };\n  },\n\n  created() {\n    axios.get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\")).then(response => {\n      this.user = response.data;\n    }).catch(error => console.log(error));\n  },\n\n  methods: {\n    fileimage(e) {\n      this.file = e.target.files[0];\n    },\n\n    register() {\n      if (this.file != null) {\n        const form = new FormData();\n        form.append(\"file\", this.file);\n        form.append(\"upload_preset\", \"karimomrane\");\n        axios.post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form).then(resp => {\n          axios.put(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"), {\n            iduser: localStorage.getItem(\"iduser\"),\n            nom: this.user.nom,\n            email: this.user.email,\n            prenom: this.user.prenom,\n            motdepasse: this.user.motdepasse,\n            type: localStorage.getItem(\"type\"),\n            image1: resp.data.secure_url,\n            societe: this.user.societe\n          }).then(() => {\n            axios.get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\")).then(response => {\n              this.user = response.data;\n            }).catch(error => console.log(error));\n            this.hiddenbutton = false;\n            this.hiddenbutton2 = true;\n            this.disabledbutton = true;\n          });\n        });\n      } else {\n        axios.put(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"), {\n          iduser: localStorage.getItem(\"iduser\"),\n          nom: this.user.nom,\n          email: this.user.email,\n          prenom: this.user.prenom,\n          motdepasse: this.user.motdepasse,\n          type: localStorage.getItem(\"type\"),\n          image: this.user.image,\n          societe: this.user.societe\n        }).then(() => {\n          axios.get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\")).then(response => {\n            this.user = response.data;\n          }).catch(error => console.log(error));\n          this.hiddenbutton = false;\n          this.hiddenbutton2 = true;\n          this.disabledbutton = true;\n        });\n      }\n    },\n\n    modifiersociete() {\n      this.disabledbutton = false;\n      this.hiddenbutton = true;\n      this.hiddenbutton2 = false;\n    },\n\n    modifiersociete2() {\n      if (this.file != null) {\n        const form = new FormData();\n        form.append(\"file\", this.file);\n        form.append(\"upload_preset\", \"karimomrane\");\n        axios.post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form).then(resp => {\n          //resp.data.secure_url\n          axios.put(\"http://localhost:5000/api/Societes/\" + localStorage.getItem(\"societe\"), {\n            idsociete: localStorage.getItem(\"societe\"),\n            nom: this.user.societeNavigation.nom,\n            adress: this.user.societeNavigation.adress,\n            image: resp.data.secure_url,\n            description: this.user.societeNavigation.description\n          }).then(() => {\n            axios.get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\")).then(response => {\n              this.user = response.data;\n            }).catch(error => console.log(error));\n            this.hiddenbutton = false;\n            this.hiddenbutton2 = true;\n            this.disabledbutton = true;\n          });\n        });\n      } else {\n        axios.put(\"http://localhost:5000/api/Societes/\" + localStorage.getItem(\"societe\"), {\n          idsociete: localStorage.getItem(\"societe\"),\n          nom: this.user.societeNavigation.nom,\n          adress: this.user.societeNavigation.adress,\n          image: this.user.societeNavigation.image,\n          description: this.user.societeNavigation.description\n        }).then(this.hiddenbutton = false, this.hiddenbutton2 = true, this.disabledbutton = true);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","ProfileLayout","components","data","nom","prenom","email","motdepasse","user","nomsociete","descriptionsociete","disabledbutton","hiddenbutton","hiddenbutton2","adresssociete","image","file","created","get","localStorage","getItem","then","response","catch","error","console","log","methods","fileimage","e","target","files","register","form","FormData","append","post","resp","put","iduser","type","image1","secure_url","societe","modifiersociete","modifiersociete2","idsociete","societeNavigation","adress","description"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\frontfinal\\src\\views\\Transporteur\\Users\\Profil.vue"],"sourcesContent":["<template>\r\n  <profile-layout\r\n    :user=\"user\"\r\n    :file=\"file\"\r\n    :fileimage=\"fileimage\"\r\n    :register=\"register\"\r\n    :modifiersociete2=\"modifiersociete2\"\r\n    :modifiersociete=\"modifiersociete\"\r\n    :disabledbutton=\"disabledbutton\"\r\n    :hiddenbutton=\"hiddenbutton\"\r\n    :hiddenbutton2=\"hiddenbutton2\"\r\n  >\r\n  </profile-layout>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport ProfileLayout from \"/src/components/ProfileLayout.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ProfileLayout,\r\n  },\r\n  data() {\r\n    return {\r\n      nom: \"\",\r\n      prenom: \"\",\r\n      email: \"\",\r\n      motdepasse: \"\",\r\n      user: [],\r\n      nomsociete: \"\",\r\n      descriptionsociete: \"\",\r\n      disabledbutton: true,\r\n      hiddenbutton: false,\r\n      nomsociete: \"\",\r\n      hiddenbutton2: true,\r\n      adresssociete: \"\",\r\n      image: \"\",\r\n      file: null,\r\n    };\r\n  },\r\n  created() {\r\n    axios\r\n      .get(\"http://localhost:5000/api/users/\"+localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n  },\r\n  methods: {\r\n    fileimage(e) {\r\n      this.file = e.target.files[0];\r\n    },\r\n    register() {\r\n       if (this.file != null) {\r\n      const form = new FormData();\r\n      form.append(\"file\", this.file);\r\n      form.append(\"upload_preset\", \"karimomrane\")\r\n        axios\r\n        .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n        .then((resp) => {\r\n      axios.put(\r\n        \"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"),\r\n        {\r\n          iduser: localStorage.getItem(\"iduser\"),\r\n          nom: this.user.nom,\r\n          email: this.user.email,\r\n          prenom: this.user.prenom,\r\n          motdepasse: this.user.motdepasse,\r\n          type: localStorage.getItem(\"type\"),\r\n          image1:resp.data.secure_url,\r\n          societe: this.user.societe,\r\n        }\r\n      ).then(()=>{\r\n             axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n      })\r\n    })}\r\n    else {\r\n       axios.put(\r\n        \"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"),\r\n        {\r\n          iduser: localStorage.getItem(\"iduser\"),\r\n          nom: this.user.nom,\r\n          email: this.user.email,\r\n          prenom: this.user.prenom,\r\n          motdepasse: this.user.motdepasse,\r\n          type: localStorage.getItem(\"type\"),\r\n          image:this.user.image,\r\n          societe: this.user.societe,\r\n        }\r\n      )  .then(()=>{\r\n              axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n            })\r\n    }\r\n\r\n    },\r\n    modifiersociete() {\r\n      this.disabledbutton = false;\r\n      this.hiddenbutton = true;\r\n      this.hiddenbutton2 = false;\r\n    },\r\n    modifiersociete2() {\r\n      if (this.file != null) {\r\n          const form = new FormData();\r\n      form.append(\"file\", this.file);\r\n      form.append(\"upload_preset\", \"karimomrane\");\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n        .then((resp) => {\r\n          //resp.data.secure_url\r\n          axios\r\n            .put(\r\n              \"http://localhost:5000/api/Societes/\" +\r\n                localStorage.getItem(\"societe\"),\r\n              {\r\n                idsociete: localStorage.getItem(\"societe\"),\r\n                nom: this.user.societeNavigation.nom,\r\n                adress: this.user.societeNavigation.adress,\r\n                image: resp.data.secure_url,\r\n                description: this.user.societeNavigation.description,\r\n              }\r\n            )\r\n            .then(()=>{\r\n              axios\r\n      .get(\"http://localhost:5000/api/users/\" + localStorage.getItem(\"iduser\"))\r\n      .then((response) => {\r\n        this.user = response.data;\r\n      })\r\n      .catch((error) => console.log(error));\r\n               this.hiddenbutton = false\r\n              this.hiddenbutton2 = true\r\n              this.disabledbutton = true\r\n\r\n            }\r\n             \r\n              \r\n            );\r\n        });\r\n      }else{\r\n          axios\r\n            .put(\r\n              \"http://localhost:5000/api/Societes/\" +\r\n                localStorage.getItem(\"societe\"),\r\n              {\r\n                idsociete: localStorage.getItem(\"societe\"),\r\n                nom: this.user.societeNavigation.nom,\r\n                adress: this.user.societeNavigation.adress,\r\n                image: this.user.societeNavigation.image,\r\n                description: this.user.societeNavigation.description,\r\n              }\r\n            )\r\n            .then(\r\n              (this.hiddenbutton = false),\r\n              (this.hiddenbutton2 = true),\r\n              (this.disabledbutton = true)\r\n            );\r\n      }\r\n    \r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}