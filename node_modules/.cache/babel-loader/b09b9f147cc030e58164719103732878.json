{"ast":null,"code":"import Url from \"../Api.js\";\nimport axios from \"axios\";\nconst Token = localStorage.getItem('token');\nexport default {\n  state: {\n    //liste de transporteur\n    ListeTransporteursAll: [],\n    ListeTransporteurs: [],\n    currentTransporteur: 1,\n    perPageTransporteur: 1,\n    parPageTransporteur: 10,\n    totalTransporteur: 10,\n    ChercherTransporteur: \"\",\n    // trajet\n    ChercherVille1: \"\",\n    ChercherVille2: \"\"\n  },\n  getters: {\n    //return les transporteurs\n    ListeTransporteursAll(state) {\n      return state.ListeTransporteursAll;\n    },\n\n    ListeTransporteurs(state) {\n      return state.ListeTransporteurs;\n    },\n\n    currentTransporteur(state) {\n      return state.currentTransporteur;\n    },\n\n    perPageTransporteur(state) {\n      return state.perPageTransporteur;\n    },\n\n    parPageTransporteur(state) {\n      return state.parPageTransporteur;\n    },\n\n    totalTransporteur(state) {\n      return state.totalTransporteur;\n    },\n\n    //trajet\n    ListeTrajets(state) {\n      return state.ListeTrajets;\n    },\n\n    ChercherVille1(state) {\n      return state.ChercherVille1;\n    },\n\n    ChercherVille2(state) {\n      return state.ChercherVille2;\n    }\n\n  },\n  mutations: {\n    //trajet\n    GetTrajett(state, value) {\n      //state.ListeTrajets = value.data;\n      state.ListeTransporteurs = value.data.map(el => el.idTransporteurNavigation); // supprimer repetition\n\n      state.ListeTransporteurs = state.ListeTransporteurs.filter((obj, pos, arr) => {\n        return arr.map(mapObj => mapObj.idTransporteur).indexOf(obj.idTransporteur) == pos;\n      }); // supprimer repetition\n\n      state.totalTransporteur = parseInt(value.headers[\"x-wp-total\"]);\n    },\n\n    //   ModifierTransporteurTrajet(state, value) {   \n    //     console.log(value);       \n    //     state.ListeTransporteurs = value;\n    // },\n    // get all d'une page\n    GetTransporteur(state, value) {\n      state.ListeTransporteurs = value.data;\n      state.totalTransporteur = parseInt(value.headers[\"x-wp-total\"]);\n    },\n\n    GetTransporteurAll(state, value) {\n      state.ListeTransporteursAll = value;\n    },\n\n    // supprimer \n    DeleteTransporteur(state, transporteur) {\n      state.ListeTransporteurs.splice(state.ListeTransporteurs.indexOf(transporteur), 1);\n      axios.delete(Url + \"Transporteurs/\" + transporteur.idTransporteur, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then();\n      axios.delete(Url + \"Users/\" + transporteur.idUser, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then();\n    },\n\n    // Modifier\n    ModifierTransporteur(state, user) {\n      // state.ListeTransporteurs[transporteur.index] = transporteur;\n      // modifier users\n      // console.log(user.get(\"idUser\"));\n      // axios\n      //   .put(Url + \"users/\" + user.idUserNavigation.get(\"idUser\"), user.idUserNavigation, {\n      //     headers: {\n      //       Authorization: 'Bearer ' + Token\n      //     }\n      //   })\n      //   .then(res => {\n      // user.idUserNavigation=res.data;\n      //  user.imageSrc=res.data.imageSrc;\n      state.ListeTransporteurs[user.index] = user; //console.log(user);\n      // });\n      // .catch((rer) => console.log(rer));\n    },\n\n    // Ajouter\n    AjouterTransporteur(state, transporteur) {\n      // axios.post(Url + \"users\", transporteur, {\n      //   headers: {\n      //     Authorization: 'Bearer ' + Token\n      //   }\n      // }).then(res => {\n      console.log(transporteur);\n      let UserAjouter = transporteur;\n      var Transporteur = {\n        \"idUser\": transporteur.idUser\n      };\n      axios.post(Url + \"Transporteurs\", Transporteur, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        let TransporteurAjouter = res.data;\n        console.log(UserAjouter.imageSrc);\n        TransporteurAjouter.imageSrc = UserAjouter.imageSrc;\n        TransporteurAjouter.idUserNavigation = UserAjouter;\n        state.ListeTransporteurs.push(TransporteurAjouter);\n      }); // });\n    }\n\n  },\n  actions: {\n    //Chercher transporteur a l'aide nom , ville1 ville2 \n    Chercher_Trajet({\n      commit,\n      state\n    }, chercher) {\n      state.ChercherVille1 = chercher.ville1; //supprimer repetition \n      // state.ChercherVille2 = chercher.ville2;\n      // if (chercher.ville1 != \"\" ) { state.currentTransporteur = 1; }\n\n      state.ChercherTransporteur = chercher.name;\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTrajett', res);\n      });\n    },\n\n    // get noveau page \n    Get_NoveauTrajet({\n      commit,\n      state\n    }, NumPage) {\n      state.currentTransporteur = NumPage;\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTrajett', res);\n      });\n    },\n\n    Changer_ParpageTrajet({\n      commit,\n      state\n    }, Parpage) {\n      state.currentTransporteur = 1;\n      state.parPageTransporteur = Parpage;\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTrajett', res);\n      });\n    },\n\n    //************************************ */\n    //get page :\n    Get_Transporteurt({\n      commit,\n      state\n    }, ch) {\n      state.ChercherTransporteur = ch;\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTransporteur', res);\n      });\n    },\n\n    //get page :\n    Get_Transporteur({\n      commit,\n      state\n    }) {\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTransporteur', res);\n      });\n    },\n\n    // get noveau page \n    Get_NoveauTransporteur({\n      commit,\n      state\n    }, NumPage) {\n      state.currentTransporteur = NumPage;\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTransporteur', res);\n      });\n    },\n\n    Changer_ParpageTransporteur({\n      commit,\n      state\n    }, Parpage) {\n      state.currentTransporteur = 1;\n      state.parPageTransporteur = Parpage;\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTransporteur', res);\n      });\n    },\n\n    //recherche\n    Chercher_Transporteur({\n      commit,\n      state\n    }, chercher) {\n      state.currentTransporteur = 1;\n      state.ChercherTransporteur = chercher;\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        //  let tot=parseInt(res.headers[\"x-wp-total\"]);\n        commit('GetTransporteur', res);\n      });\n    },\n\n    //get all\n    Get_Transporteur_All({\n      commit\n    }) {\n      axios.get(Url + \"Transporteurs\", {\n        headers: {\n          Authorization: 'Bearer ' + Token\n        }\n      }).then(res => {\n        console.log(res.data);\n        commit('GetTransporteurAll', res.data);\n      });\n    },\n\n    // delete\n    Delete_Transporteur({\n      commit\n    }, transporteur) {\n      commit('DeleteTransporteur', transporteur);\n    },\n\n    // modifier\n    Modifier_Transporteur({\n      commit\n    }, value) {\n      commit('ModifierTransporteur', value);\n    },\n\n    // Ajouter\n    Ajouter_Transporteur({\n      commit\n    }, transporteur) {\n      commit('AjouterTransporteur', transporteur);\n    }\n\n  }\n};","map":{"version":3,"sources":["C:/Users/user/Desktop/pfe/frontfinal/src/store/users/Transporteur.js"],"names":["Url","axios","Token","localStorage","getItem","state","ListeTransporteursAll","ListeTransporteurs","currentTransporteur","perPageTransporteur","parPageTransporteur","totalTransporteur","ChercherTransporteur","ChercherVille1","ChercherVille2","getters","ListeTrajets","mutations","GetTrajett","value","data","map","el","idTransporteurNavigation","filter","obj","pos","arr","mapObj","idTransporteur","indexOf","parseInt","headers","GetTransporteur","GetTransporteurAll","DeleteTransporteur","transporteur","splice","delete","Authorization","then","idUser","ModifierTransporteur","user","index","AjouterTransporteur","console","log","UserAjouter","Transporteur","post","res","TransporteurAjouter","imageSrc","idUserNavigation","push","actions","Chercher_Trajet","commit","chercher","ville1","name","get","Get_NoveauTrajet","NumPage","Changer_ParpageTrajet","Parpage","Get_Transporteurt","ch","Get_Transporteur","Get_NoveauTransporteur","Changer_ParpageTransporteur","Chercher_Transporteur","Get_Transporteur_All","Delete_Transporteur","Modifier_Transporteur","Ajouter_Transporteur"],"mappings":"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","sourcesContent":["import Url from \"../Api.js\";\r\nimport axios from \"axios\";\r\nconst Token = localStorage.getItem('token');\r\nexport default {\r\n  state: {\r\n    //liste de transporteur\r\n    ListeTransporteursAll: [],\r\n    ListeTransporteurs: [],\r\n    currentTransporteur: 1,\r\n    perPageTransporteur: 1,\r\n    parPageTransporteur: 10,\r\n    totalTransporteur: 10,\r\n    ChercherTransporteur: \"\",\r\n    // trajet\r\n    ChercherVille1: \"\",\r\n    ChercherVille2: \"\"\r\n\r\n  },\r\n  getters: {\r\n    //return les transporteurs\r\n    ListeTransporteursAll(state) {\r\n      return state.ListeTransporteursAll;\r\n    },\r\n    ListeTransporteurs(state) {\r\n      return state.ListeTransporteurs;\r\n    },\r\n    currentTransporteur(state) {\r\n      return state.currentTransporteur;\r\n    },\r\n    perPageTransporteur(state) {\r\n      return state.perPageTransporteur;\r\n    },\r\n    parPageTransporteur(state) {\r\n      return state.parPageTransporteur;\r\n    },\r\n    totalTransporteur(state) {\r\n      return state.totalTransporteur;\r\n    },\r\n    //trajet\r\n    ListeTrajets(state) {\r\n      return state.ListeTrajets;\r\n    },\r\n    ChercherVille1(state) {\r\n      return state.ChercherVille1;\r\n    },\r\n    ChercherVille2(state) {\r\n      return state.ChercherVille2;\r\n    },\r\n\r\n  },\r\n  mutations: {\r\n    //trajet\r\n    GetTrajett(state, value) {\r\n     \r\n      //state.ListeTrajets = value.data;\r\n      state.ListeTransporteurs = value.data\r\n        .map(el => el.idTransporteurNavigation);\r\n         // supprimer repetition\r\n         state.ListeTransporteurs = state.ListeTransporteurs.filter((obj, pos, arr) => {\r\n          return arr.map(mapObj =>\r\n                mapObj.idTransporteur).indexOf(obj.idTransporteur) == pos;\r\n          });\r\n        \r\n         // supprimer repetition\r\n      state.totalTransporteur = parseInt(value.headers[\"x-wp-total\"]);\r\n\r\n    },\r\n    //   ModifierTransporteurTrajet(state, value) {   \r\n    //     console.log(value);       \r\n    //     state.ListeTransporteurs = value;\r\n\r\n    // },\r\n    // get all d'une page\r\n    GetTransporteur(state, value) {\r\n      state.ListeTransporteurs = value.data;\r\n      state.totalTransporteur = parseInt(value.headers[\"x-wp-total\"]);\r\n    },\r\n    GetTransporteurAll(state, value) {\r\n      state.ListeTransporteursAll = value;\r\n    },\r\n    // supprimer \r\n    DeleteTransporteur(state, transporteur) {\r\n      state.ListeTransporteurs.splice(state.ListeTransporteurs.indexOf(transporteur), 1);\r\n      axios.delete(Url + \"Transporteurs/\" + transporteur.idTransporteur, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      }).then();\r\n      axios.delete(Url + \"Users/\" + transporteur.idUser, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      }).then();\r\n    },\r\n    // Modifier\r\n    ModifierTransporteur(state, user) {\r\n      // state.ListeTransporteurs[transporteur.index] = transporteur;\r\n      // modifier users\r\n     // console.log(user.get(\"idUser\"));\r\n      // axios\r\n      //   .put(Url + \"users/\" + user.idUserNavigation.get(\"idUser\"), user.idUserNavigation, {\r\n      //     headers: {\r\n      //       Authorization: 'Bearer ' + Token\r\n      //     }\r\n      //   })\r\n      //   .then(res => {\r\n         // user.idUserNavigation=res.data;\r\n        //  user.imageSrc=res.data.imageSrc;\r\n          state.ListeTransporteurs[user.index] = user;\r\n          //console.log(user);\r\n        // });\r\n        // .catch((rer) => console.log(rer));\r\n\r\n    },\r\n    // Ajouter\r\n    AjouterTransporteur(state, transporteur) {\r\n    \r\n    \r\n      // axios.post(Url + \"users\", transporteur, {\r\n      //   headers: {\r\n      //     Authorization: 'Bearer ' + Token\r\n      //   }\r\n      // }).then(res => {\r\n        console.log(transporteur);\r\n        let UserAjouter =transporteur;\r\n        var Transporteur = {\r\n          \"idUser\": transporteur.idUser,\r\n        };\r\n\r\n        axios.post(Url + \"Transporteurs\", Transporteur, {\r\n          headers: {\r\n            Authorization: 'Bearer ' + Token\r\n          }\r\n        }).then(res => {\r\n          let TransporteurAjouter = res.data;\r\n          console.log(UserAjouter.imageSrc)\r\n          TransporteurAjouter.imageSrc = UserAjouter.imageSrc;\r\n          TransporteurAjouter.idUserNavigation = UserAjouter;\r\n          state.ListeTransporteurs.push(TransporteurAjouter);\r\n\r\n        });\r\n      // });\r\n\r\n\r\n    }\r\n  },\r\n  actions: {\r\n    //Chercher transporteur a l'aide nom , ville1 ville2 \r\n    Chercher_Trajet({ commit, state }, chercher) {\r\n      state.ChercherVille1 = chercher.ville1;\r\n      //supprimer repetition \r\n\r\n    \r\n     // state.ChercherVille2 = chercher.ville2;\r\n      // if (chercher.ville1 != \"\" ) { state.currentTransporteur = 1; }\r\n      state.ChercherTransporteur = chercher.name;\r\n\r\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTrajett', res);\r\n        })\r\n    },\r\n    // get noveau page \r\n    Get_NoveauTrajet({ commit, state }, NumPage) {\r\n      state.currentTransporteur = NumPage;\r\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTrajett', res);\r\n        })\r\n    },\r\n    Changer_ParpageTrajet({ commit, state }, Parpage) {\r\n      state.currentTransporteur = 1;\r\n      state.parPageTransporteur = Parpage;\r\n      axios.get(Url + `itineraires?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&ville1=${state.ChercherVille1}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTrajett', res);\r\n        })\r\n    },\r\n    //************************************ */\r\n    //get page :\r\n    Get_Transporteurt({ commit, state },ch) {\r\n      state.ChercherTransporteur=ch;\r\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTransporteur', res);\r\n        })\r\n    },\r\n //get page :\r\n Get_Transporteur({ commit, state }) {\r\n  \r\n  axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + Token\r\n    }\r\n  })\r\n    .then(res => {\r\n      //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n      commit('GetTransporteur', res);\r\n    })\r\n},\r\n\r\n    // get noveau page \r\n    Get_NoveauTransporteur({ commit, state }, NumPage) {\r\n      state.currentTransporteur = NumPage;\r\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTransporteur', res);\r\n        })\r\n    },\r\n    Changer_ParpageTransporteur({ commit, state }, Parpage) {\r\n      state.currentTransporteur = 1;\r\n      state.parPageTransporteur = Parpage;\r\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTransporteur', res);\r\n        })\r\n    },\r\n    //recherche\r\n    Chercher_Transporteur({ commit, state }, chercher) {\r\n      state.currentTransporteur = 1;\r\n      state.ChercherTransporteur = chercher;\r\n      axios.get(Url + `Transporteurs?page=${state.currentTransporteur}&quantityPage=${state.parPageTransporteur}&name=${state.ChercherTransporteur}`, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          //  let tot=parseInt(res.headers[\"x-wp-total\"]);\r\n          commit('GetTransporteur', res);\r\n        })\r\n    },\r\n    //get all\r\n    Get_Transporteur_All({ commit }) {\r\n      axios.get(Url + \"Transporteurs\", {\r\n        headers: {\r\n          Authorization: 'Bearer ' + Token\r\n        }\r\n      })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          commit('GetTransporteurAll', res.data);\r\n        })\r\n    },\r\n    // delete\r\n    Delete_Transporteur({ commit }, transporteur) {\r\n      commit('DeleteTransporteur', transporteur);\r\n    },\r\n    // modifier\r\n    Modifier_Transporteur({ commit }, value) {\r\n      commit('ModifierTransporteur', value);\r\n    },\r\n    // Ajouter\r\n    Ajouter_Transporteur({ commit }, transporteur) {\r\n      commit('AjouterTransporteur', transporteur);\r\n    },\r\n    \r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}