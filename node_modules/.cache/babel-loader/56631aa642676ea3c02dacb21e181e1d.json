{"ast":null,"code":"import BreadCrumb from \"../../../../components/Intermediaire/BreadCrumb.vue\";\nimport axios from \"axios\";\nimport Url from \"../../../../store/Api\";\nexport default {\n  components: {\n    BreadCrumb\n  },\n\n  data() {\n    return {\n      Profil: [],\n      role: \"\",\n      nom: \"\",\n      prenom: \"\",\n      email: \"\",\n      password: \"\",\n      cpassword: \"\",\n      user: \"\",\n      class1: \"\",\n      class2: \"\",\n      idUser: \"\",\n      image: \"\",\n      imageFile: null // success: false,\n      // timeout: false,\n\n    };\n  },\n\n  async created() {\n    await axios.get(Url + \"intermediaires/\" + localStorage.getItem(\"id\"), {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(res => {\n      this.Profil = res.data;\n      this.image = res.data.imageSrc;\n      this.user = res.data.idUserNavigation;\n      this.role = res.data.idRoleNavigation.role1;\n      this.nom = res.data.idUserNavigation.nom;\n      this.prenom = res.data.idUserNavigation.prenom;\n      this.email = res.data.idUserNavigation.email;\n      this.idUser = res.data.idUserNavigation.idUser;\n    });\n  },\n\n  methods: {\n    // startAlert() {\n    //   this.success = true;\n    //   this.timeout = setTimeout(() => {\n    //     clearTimeout(this.timeout);\n    //     this.success = false;\n    //   }, 1500);\n    // },\n    Modifier() {\n      if (this.idUser != \"\" && this.nom != \"\" && this.prenom != \"\" && this.email != \"\" && this.password != \"\" && this.password == this.cpassword) {\n        let user = new FormData();\n        user.append(\"idUser\", this.idUser);\n        user.append(\"Nom\", this.nom);\n        user.append(\"Prenom\", this.prenom);\n        user.append(\"Email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"image\", \"\");\n        user.append(\"ImageFile\", this.imageFile);\n        user.append(\"ImageSrc\", \"\");\n        axios.put(Url + \"users/\" + this.idUser, user, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n          }\n        }).then(res => {\n          console.log(res.data);\n          this.user = res.data;\n          this.nom = res.data.nom;\n          this.prenom = res.data.prenom;\n          this.email = res.data.email;\n          this.image = res.data.imageSrc;\n          this.imageFile = null;\n          this.password = \"\";\n          this.cpassword = \"\";\n        }).catch(() => {\n          this.$swal({\n            position: \"top-end\",\n            icon: \"error\",\n            toast: true,\n            title: \"Email utilis√©\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n        }); // this.startAlert();\n\n        this.$swal({\n          position: \"top-end\",\n          icon: \"success\",\n          toast: true,\n          title: \"Profil Modifier\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n      } else {\n        // this.startAlert();\n        this.$swal({\n          position: \"top-end\",\n          icon: \"error\",\n          toast: true,\n          title: \"Il faut remplir tous les champs\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n      }\n    },\n\n    // ajouter image\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n      console.log(this.imageFile);\n    }\n\n  },\n  watch: {\n    cpassword() {\n      if (this.password != \"\" && this.cpassword == \"\") {\n        this.cla = \"form-control\";\n      } else if (this.password != \"\" && this.cpassword != \"\") {\n        if (this.password == this.cpassword) {\n          this.class1 = \"focus:bg-green-200  focus:border-green-800 \";\n          this.class2 = \"focus:bg-green-200  focus:border-green-800 \";\n        } else {\n          this.class1 = \"form-control\";\n          this.class2 = \"focus:bg-red-100  focus:border-red-800 \";\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["BreadCrumb","axios","Url","components","data","Profil","role","nom","prenom","email","password","cpassword","user","class1","class2","idUser","image","imageFile","created","get","localStorage","getItem","headers","Authorization","then","res","imageSrc","idUserNavigation","idRoleNavigation","role1","methods","Modifier","FormData","append","put","console","log","catch","$swal","position","icon","toast","title","showConfirmButton","timer","FileSelected","event","target","files","watch","cla"],"sourceRoot":"","sources":["C:\\Users\\Karim Omrane\\Desktop\\PFE FI\\FRONT\\src\\views\\Intermediaire\\users\\profil\\Profil.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Breadcrumb -->\n    <!-- <Breadcrumb breadcrumb=\"Profil\" /> -->\n    <bread-crumb>\n      <template v-slot:bread1> Profil </template>\n      <template v-slot:bread> {{ role }} </template>\n    </bread-crumb>\n    <!-- alert -->\n    <!-- <div\n      class=\"\n        inline-flex\n        w-full\n        max-w-sm\n        ml-3\n        overflow-hidden\n        bg-white\n        rounded-lg\n        shadow-md\n      \"\n      style=\"position: absolute; right: 50px\"\n      v-if=\"success\"\n    >\n      <div class=\"flex items-center justify-center w-12 bg-red-500\">\n        <svg\n          class=\"w-6 h-6 text-white fill-current\"\n          viewBox=\"0 0 40 40\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z\"\n          />\n        </svg>\n      </div>\n\n      <div class=\"px-4 py-2 -mx-3\">\n        <div class=\"mx-3\">\n          <span class=\"font-semibold text-red-500\">Erreur</span>\n          <p class=\"text-sm text-gray-600\">Il faut remplir tous les champs</p>\n        </div>\n      </div>\n    </div> -->\n    <!-- fin alert -->\n    <div class=\"grid grid-flow-col gap-3\">\n      <div class=\"row-span-3\">\n        <!-- <h4 class=\"text-gray-700\">Profil</h4> -->\n        <div class=\"max-w-sm overflow-hidden bg-white rounded shadow-lg\">\n          <img class=\"w-full\" :src=\"image\" alt=\"Sunset in the mountains\" />\n          <div class=\"px-6 py-4\">\n            <div class=\"mb-2 text-xl text-center font-bold text-gray-900\">\n              {{ user.nom }}\n              {{ user.prenom }}\n            </div>\n          </div>\n          <div class=\"text-center\">\n            <span\n              class=\"\n                inline-block\n                px-3\n                py-1\n                mb-2\n                mr-2\n                text-xm\n                font-semibold\n                text-gray-700\n                bg-gray-200\n                rounded-full\n              \"\n            >\n              {{ user.email }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-span-2 mobile\">\n        <!-- <h4 class=\"text-gray-600\">Modifier :</h4> -->\n        <div>\n          <div class=\"p-6 bg-white rounded-md shadow-md\">\n            <h2 class=\"text-lg font-semibold text-gray-700 capitalize\">\n              Account settings\n            </h2>\n            <br />\n\n            <div class=\"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2\">\n              <div class=\"relative block mt-2 sm:mt-0\">\n                <label class=\"text-gray-700\" for=\"nom\">Nom</label>\n\n                <span class=\"absolute flex items-center pl-1 py-3\">\n                  <svg\n                    v-if=\"nom != ''\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\n                    />\n                  </svg>\n                  <svg\n                    v-else\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n                    />\n                  </svg>\n                </span>\n\n                <input\n                  id=\"nom\"\n                  placeholder=\"Nom\"\n                  class=\"\n                    block\n                    w-full\n                    py-2\n                    pl-8\n                    pr-6\n                    text-xm text-gray-700\n                    placeholder-gray-400\n                    bg-white\n                    border border-b border-gray-400\n                    rounded-l rounded-r\n                    appearance-none\n                    sm:rounded-l-none\n                    focus:placeholder-gray-600\n                    focus:text-gray-700\n                    focus:outline-none\n                  \"\n                  :class=\"[\n                    nom === ''\n                      ? ' focus:bg-red-100  focus:border-red-800 '\n                      : ' focus:bg-green-100  focus:border-green-800 ',\n                  ]\"\n                  v-model=\"nom\"\n                />\n              </div>\n              <div class=\"relative block mt-2 sm:mt-0\">\n                <label class=\"text-gray-700\" for=\"prenom\">Prenom</label>\n\n                <span class=\"absolute flex items-center pl-1 py-3\">\n                  <svg\n                    v-if=\"prenom != ''\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\n                    />\n                  </svg>\n                  <svg\n                    v-else\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n                    />\n                  </svg>\n                </span>\n\n                <input\n                  id=\"prenom\"\n                  placeholder=\"Prenom\"\n                  class=\"\n                    block\n                    w-full\n                    py-2\n                    pl-8\n                    pr-6\n                    text-xm text-gray-700\n                    placeholder-gray-400\n                    bg-white\n                    border border-b border-gray-400\n                    rounded-l rounded-r\n                    appearance-none\n                    sm:rounded-l-none\n                    focus:placeholder-gray-600\n                    focus:text-gray-700\n                    focus:outline-none\n                  \"\n                  :class=\"[\n                    prenom === ''\n                      ? ' focus:bg-red-100  focus:border-red-800 '\n                      : ' focus:bg-green-100  focus:border-green-800 ',\n                  ]\"\n                  v-model=\"prenom\"\n                />\n              </div>\n              <div class=\"relative block mt-2 sm:mt-0\">\n                <label class=\"text-gray-700\" for=\"email\">Email</label>\n\n                <span class=\"absolute flex items-center pl-1 py-3\">\n                  <svg\n                    v-if=\"email != ''\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\n                    />\n                  </svg>\n                  <svg\n                    v-else\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n                    />\n                  </svg>\n                </span>\n\n                <input\n                  id=\"email\"\n                  placeholder=\"Email\"\n                  class=\"\n                    block\n                    w-full\n                    py-2\n                    pl-8\n                    pr-6\n                    text-xm text-gray-700\n                    placeholder-gray-400\n                    bg-white\n                    border border-b border-gray-400\n                    rounded-l rounded-r\n                    appearance-none\n                    sm:rounded-l-none\n                    focus:placeholder-gray-600\n                    focus:text-gray-700\n                    focus:outline-none\n                  \"\n                  :class=\"[\n                    email === ''\n                      ? ' focus:bg-red-100  focus:border-red-800 '\n                      : ' focus:bg-green-100  focus:border-green-800 ',\n                  ]\"\n                  v-model=\"email\"\n                />\n              </div>\n              <div>\n                <label class=\"text-gray-700\" for=\"image\">Image</label>\n                <input\n                  class=\"\n                    w-full\n                    mt-2\n                    border-gray-200\n                    rounded-md\n                    focus:border-indigo-600\n                    focus:ring\n                    focus:ring-opacity-40\n                    focus:ring-indigo-500\n                  \"\n                  id=\"image\"\n                  type=\"file\"\n                  @change=\"FileSelected($event)\"\n                />\n              </div>\n\n              <div class=\"relative block mt-2 sm:mt-0\">\n                <label class=\"text-gray-700\" for=\"motdepasse\"\n                  >Mot de passe</label\n                >\n\n                <span class=\"absolute flex items-center pl-1 py-3\">\n                  <svg\n                    v-if=\"password != ''\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\n                    />\n                  </svg>\n                  <svg\n                    v-else\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n                    />\n                  </svg>\n                </span>\n\n                <input\n                  type=\"password\"\n                  id=\"motdepasse\"\n                  placeholder=\"password\"\n                  class=\"\n                    block\n                    w-full\n                    py-2\n                    pl-8\n                    pr-6\n                    text-xm text-gray-700\n                    placeholder-gray-400\n                    bg-white\n                    border border-b border-gray-400\n                    rounded-l rounded-r\n                    appearance-none\n                    sm:rounded-l-none\n                    focus:placeholder-gray-600\n                    focus:text-gray-700\n                    focus:outline-none\n                  \"\n                  :class=\"[\n                    password === ''\n                      ? ' focus:bg-red-100  focus:border-red-800 '\n                      : ' focus:bg-green-100  focus:border-green-800 ',\n                  ]\"\n                  v-model=\"password\"\n                />\n              </div>\n              <div class=\"relative block mt-2 sm:mt-0\">\n                <label class=\"text-gray-700\" for=\"cmotdepasse\"\n                  >Confirmer mot de passe</label\n                >\n\n                <span class=\"absolute flex items-center pl-1 py-3\">\n                  <svg\n                    v-if=\"cpassword != '' && cpassword == password\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-check-lg bg-green-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\"\n                    />\n                  </svg>\n                  <svg\n                    v-else\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    class=\"bi bi-exclamation-lg bg-red-500 rounded-r rounded-l\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path\n                      d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n                    />\n                  </svg>\n                </span>\n\n                <input\n                  type=\"password\"\n                  placeholder=\"Confirmer password\"\n                  class=\"\n                    block\n                    w-full\n                    py-2\n                    pl-8\n                    pr-6\n                    text-xm text-gray-700\n                    placeholder-gray-400\n                    bg-white\n                    border border-b border-gray-400\n                    rounded-l rounded-r\n                    appearance-none\n                    sm:rounded-l-none\n                    focus:placeholder-gray-600\n                    focus:text-gray-700\n                    focus:outline-none\n                  \"\n                  :class=\"[cpassword === '' ? class1 : class2]\"\n                  v-model=\"cpassword\"\n                />\n              </div>\n            </div>\n            <div class=\"flex justify-end mt-4\">\n              <button\n                class=\"\n                  px-4\n                  py-2\n                  text-gray-200\n                  bg-gray-800\n                  rounded-md\n                  hover:bg-gray-700\n                  focus:outline-none focus:bg-gray-700\n                \"\n                @click=\"Modifier()\"\n              >\n                Modifier\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <br />\n  </div>\n</template>\n<!-- BlogPost.vue -->\n<script>\nimport BreadCrumb from \"../../../../components/Intermediaire/BreadCrumb.vue\";\nimport axios from \"axios\";\nimport Url from \"../../../../store/Api\";\nexport default {\n  components: {\n    BreadCrumb,\n  },\n  data() {\n    return {\n      Profil: [],\n      role: \"\",\n      nom: \"\",\n      prenom: \"\",\n      email: \"\",\n      password: \"\",\n      cpassword: \"\",\n      user: \"\",\n      class1: \"\",\n      class2: \"\",\n      idUser: \"\",\n      image: \"\",\n      imageFile: null,\n      // success: false,\n      // timeout: false,\n    };\n  },\n\n  async created() {\n    await axios\n      .get(Url + \"intermediaires/\" + localStorage.getItem(\"id\"), {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      })\n      .then((res) => {\n        this.Profil = res.data;\n        this.image = res.data.imageSrc;\n        this.user = res.data.idUserNavigation;\n        this.role = res.data.idRoleNavigation.role1;\n        this.nom = res.data.idUserNavigation.nom;\n        this.prenom = res.data.idUserNavigation.prenom;\n        this.email = res.data.idUserNavigation.email;\n        this.idUser = res.data.idUserNavigation.idUser;\n      });\n  },\n  methods: {\n    // startAlert() {\n    //   this.success = true;\n    //   this.timeout = setTimeout(() => {\n    //     clearTimeout(this.timeout);\n    //     this.success = false;\n    //   }, 1500);\n    // },\n\n    Modifier() {\n      if (\n        this.idUser != \"\" &&\n        this.nom != \"\" &&\n        this.prenom != \"\" &&\n        this.email != \"\" &&\n        this.password != \"\" &&\n        this.password == this.cpassword\n      ) {\n        let user = new FormData();\n        user.append(\"idUser\", this.idUser);\n        user.append(\"Nom\", this.nom);\n        user.append(\"Prenom\", this.prenom);\n        user.append(\"Email\", this.email);\n        user.append(\"motdepasse\", this.password);\n        user.append(\"image\", \"\");\n        user.append(\"ImageFile\", this.imageFile);\n        user.append(\"ImageSrc\", \"\");\n        axios\n          .put(Url + \"users/\" + this.idUser, user, {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n            },\n          })\n          .then((res) => {\n            console.log(res.data);\n            this.user = res.data;\n            this.nom = res.data.nom;\n            this.prenom = res.data.prenom;\n            this.email = res.data.email;\n            this.image = res.data.imageSrc;\n            this.imageFile = null;\n            this.password = \"\";\n            this.cpassword = \"\";\n          })\n          .catch(() => {\n            this.$swal({\n              position: \"top-end\",\n              icon: \"error\",\n              toast: true,\n              title: \"Email utilis√©\",\n              showConfirmButton: false,\n              timer: 2000,\n            });\n          });\n        // this.startAlert();\n        this.$swal({\n          position: \"top-end\",\n          icon: \"success\",\n\n          toast: true,\n          title: \"Profil Modifier\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n      } else {\n        // this.startAlert();\n        this.$swal({\n          position: \"top-end\",\n          icon: \"error\",\n          toast: true,\n          title: \"Il faut remplir tous les champs\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n      }\n    },\n    // ajouter image\n    FileSelected(event) {\n      this.imageFile = event.target.files[0];\n      console.log(this.imageFile);\n    },\n  },\n  watch: {\n    cpassword() {\n      if (this.password != \"\" && this.cpassword == \"\") {\n        this.cla = \"form-control\";\n      } else if (this.password != \"\" && this.cpassword != \"\") {\n        if (this.password == this.cpassword) {\n          this.class1 = \"focus:bg-green-200  focus:border-green-800 \";\n          this.class2 = \"focus:bg-green-200  focus:border-green-800 \";\n        } else {\n          this.class1 = \"form-control\";\n          this.class2 = \"focus:bg-red-100  focus:border-red-800 \";\n        }\n      }\n    },\n  },\n};\n</script>\n<style>\n@media only screen and (max-width: 991px) {\n.mobile{\n  position: relative;\n    left: -384px;\n    bottom: -406px;\n    width: 421px;\n}\n}\n</style>"]},"metadata":{},"sourceType":"module"}