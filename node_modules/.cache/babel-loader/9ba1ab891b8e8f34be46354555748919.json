{"ast":null,"code":"import axios from \"axios\";\nimport Url from \"../../store/Api\";\nexport default {\n  props: [\"client\", \"id\"],\n\n  data() {\n    return {\n      open: false,\n      imageFile: [],\n      active: \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\"\n    };\n  },\n\n  methods: {\n    uploadFile(event) {\n      this.imageFile = event.target.files[0];\n      this.active = \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-gray-200\";\n      console.log(event.target.files[0]); //this.imageFile = e.target.files;\n    },\n\n    upload() {\n      // console.log(this.imageFile);\n      let facture = new FormData();\n      facture.append(\"etatFacture\", \"Non payé\");\n      facture.append(\"idDemandeLivraison\", this.id);\n      facture.append(\"factureFile\", \"\"); //facture.append(\"PayementFile\",null);\n\n      facture.append(\"imageFile\", this.imageFile);\n      facture.append(\"SrcFactureFile\", \"\");\n      axios.post(Url + \"FactureClients\", facture, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        // this.file=res.data;\n        this.open = false;\n        console.log(res.data);\n        this.$emit(\"f\", true);\n      });\n    },\n\n    dragFile(e) {\n      this.imageFile = e.dataTransfer.files[0];\n      this.active = \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-gray-200\";\n      console.log(this.imageFile);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqMA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,eAAe;AACbC,OAAK,EAAE,CAAC,QAAD,EAAW,IAAX,CADM;;AAGbC,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,KADD;AAELC,eAAS,EAAE,EAFN;AAGLC,YAAM,EACJ;AAJG,KAAP;AAMD,GAVY;;AAWbC,SAAO,EAAE;AACPC,cAAU,CAACC,KAAD,EAAQ;AAChB,WAAKJ,SAAL,GAAiBI,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB;AACA,WAAKL,MAAL,GACE,uGADF;AAGAM,aAAO,CAACC,GAAR,CAAYJ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ,EALgB,CAMhB;AACD,KARM;;AASPG,UAAM,GAAG;AACR;AACG,UAAIC,OAAM,GAAI,IAAIC,QAAJ,EAAd;AACAD,aAAO,CAACE,MAAR,CAAe,aAAf,EAA6B,UAA7B;AACAF,aAAO,CAACE,MAAR,CAAe,oBAAf,EAAoC,KAAKC,EAAzC;AACAH,aAAO,CAACE,MAAR,CAAe,aAAf,EAA6B,EAA7B,EALK,CAML;;AACAF,aAAO,CAACE,MAAR,CAAe,WAAf,EAA4B,KAAKZ,SAAjC;AACAU,aAAO,CAACE,MAAR,CAAe,gBAAf,EAAiC,EAAjC;AACDjB,WAAI,CACAmB,IADJ,CACSlB,GAAE,GAAI,gBADf,EACiCc,OADjC,EAC0C;AACrCK,eAAO,EAAE;AACPC,uBAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADpB;AAD4B,OAD1C,EAMIC,IANJ,CAMSC,GAAG,IAAE;AACV;AACK,aAAKrB,IAAL,GAAY,KAAZ;AACJQ,eAAO,CAACC,GAAR,CAAYY,GAAG,CAACtB,IAAhB;AACC,aAAKuB,KAAL,CAAW,GAAX,EAAgB,IAAhB;AACF,OAXJ;AAYF,KA9BM;;AA+BPC,YAAQ,CAACC,CAAD,EAAI;AACV,WAAKvB,SAAL,GAAiBuB,CAAC,CAACC,YAAF,CAAelB,KAAf,CAAqB,CAArB,CAAjB;AACA,WAAKL,MAAL,GACE,uGADF;AAGAM,aAAO,CAACC,GAAR,CAAY,KAAKR,SAAjB;AACD;;AArCM;AAXI,CAAf","names":["axios","Url","props","data","open","imageFile","active","methods","uploadFile","event","target","files","console","log","upload","facture","FormData","append","id","post","headers","Authorization","localStorage","getItem","then","res","$emit","dragFile","e","dataTransfer"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\pfe\\frontfinal\\src\\components\\Intermediaire\\DragDrop.vue"],"sourcesContent":["<!-- component -->\r\n<template>\r\n  <!-- {{client}} -->\r\n  <a\r\n    style=\"cursor: pointer\"\r\n    @click=\"open = true\"\r\n    v-if=\"client == null\"\r\n    target=\"_blank\"\r\n  >\r\n    <span\r\n      class=\"\r\n        inline-flex\r\n        px-2\r\n        text-xs\r\n        font-semibold\r\n        leading-5\r\n        text-yellow-800\r\n        bg-yellow-100\r\n        rounded-full\r\n      \"\r\n    >\r\n      Upload File</span\r\n    ></a\r\n  >\r\n  <a v-else :href=\"client.srcFactureFile\" target=\"_blank\">\r\n    <span\r\n      class=\"\r\n        inline-flex\r\n        px-2\r\n        text-xs\r\n        font-semibold\r\n        leading-5\r\n        text-blue-800\r\n        bg-blue-100\r\n        rounded-full\r\n      \"\r\n    >\r\n      Download</span\r\n    ></a\r\n  >\r\n\r\n  <div\r\n    :class=\"`modal ${\r\n      !open && 'opacity-0 pointer-events-none'\r\n    } z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`\"\r\n  >\r\n    <div\r\n      @click=\"open = false\"\r\n      class=\"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay\"\r\n    ></div>\r\n\r\n    <div\r\n      class=\"\r\n        z-50\r\n        w-11/12\r\n        mx-auto\r\n        overflow-y-auto\r\n        bg-white\r\n        rounded\r\n        shadow-lg\r\n        modal-container\r\n        md:max-w-md\r\n      \"\r\n    >\r\n      <div\r\n        class=\"\r\n          absolute\r\n          top-0\r\n          right-0\r\n          z-50\r\n          flex flex-col\r\n          items-center\r\n          mt-4\r\n          mr-4\r\n          text-sm text-white\r\n          cursor-pointer\r\n          modal-close\r\n        \"\r\n      >\r\n        <svg\r\n          class=\"text-white fill-current\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"18\"\r\n          height=\"18\"\r\n          viewBox=\"0 0 18 18\"\r\n        >\r\n          <path\r\n            d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\r\n          />\r\n        </svg>\r\n        <span class=\"text-sm\">(Esc)</span>\r\n      </div>\r\n\r\n      <!-- Add margin if you want to see some of the overlay behind the modal-->\r\n      <div class=\"px-6 py-4 text-left modal-content\">\r\n        <!--Title-->\r\n\r\n        <div @drop=\"dragFile\">\r\n          <label class=\"block text-sm font-medium text-gray-700\">\r\n            Cover photo\r\n          </label>\r\n          <div @dragover.prevent @drop.prevent :class=\"active\">\r\n            <div class=\"space-y-1 text-center\">\r\n              <svg\r\n                class=\"mx-auto h-12 w-12 text-gray-400\"\r\n                stroke=\"currentColor\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 48 48\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\r\n                  stroke-width=\"2\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n              </svg>\r\n              <div class=\"flex text-sm text-gray-600\">\r\n                <label\r\n                  for=\"file-upload\"\r\n                  class=\"\r\n                    relative\r\n                    cursor-pointer\r\n                    bg-white\r\n                    rounded-md\r\n                    font-medium\r\n                    text-indigo-600\r\n                    hover:text-indigo-500\r\n                    focus-within:outline-none\r\n                    focus-within:ring-2\r\n                    focus-within:ring-offset-2\r\n                    focus-within:ring-indigo-500\r\n                  \"\r\n                >\r\n                  <span>Upload a file</span>\r\n                  <input\r\n                    multiple\r\n                    id=\"file-upload\"\r\n                    name=\"file-upload\"\r\n                    type=\"file\"\r\n                    class=\"sr-only\"\r\n                    @change=\"uploadFile($event)\"\r\n                  />\r\n                </label>\r\n                <p class=\"pl-1\">or drag and drop</p>\r\n              </div>\r\n              <div class=\"text-xs text-gray-500\">\r\n                <div>\r\n                  <ul>\r\n                    <li>{{ imageFile.name }}</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!--Footer-->\r\n        <div class=\"flex justify-end pt-2\">\r\n          <button\r\n            @click=\"open = false\"\r\n            class=\"\r\n              p-3\r\n              px-6\r\n              py-3\r\n              mr-2\r\n              text-indigo-500\r\n              bg-transparent\r\n              rounded-lg\r\n              hover:bg-gray-100 hover:text-indigo-400\r\n              focus:outline-none\r\n            \"\r\n          >\r\n            Close\r\n          </button>\r\n          <button\r\n            @click=\"upload()\"\r\n            class=\"\r\n              px-6\r\n              py-3\r\n              font-medium\r\n              tracking-wide\r\n              text-white\r\n              bg-indigo-600\r\n              rounded-md\r\n              hover:bg-indigo-500\r\n              focus:outline-none\r\n            \"\r\n          >\r\n            Upload\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport Url from \"../../store/Api\";\r\nexport default {\r\n  props: [\"client\", \"id\"],\r\n\r\n  data() {\r\n    return {\r\n      open: false,\r\n      imageFile: [],\r\n      active:\r\n        \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\",\r\n    };\r\n  },\r\n  methods: {\r\n    uploadFile(event) {\r\n      this.imageFile = event.target.files[0];\r\n      this.active =\r\n        \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-gray-200\";\r\n\r\n      console.log(event.target.files[0]);\r\n      //this.imageFile = e.target.files;\r\n    },\r\n    upload() {\r\n     // console.log(this.imageFile);\r\n        let facture = new FormData();\r\n        facture.append(\"etatFacture\",\"Non payé\");\r\n        facture.append(\"idDemandeLivraison\",this.id);\r\n        facture.append(\"factureFile\",\"\");\r\n        //facture.append(\"PayementFile\",null);\r\n        facture.append(\"imageFile\", this.imageFile);\r\n        facture.append(\"SrcFactureFile\", \"\");\r\n       axios\r\n          .post(Url + \"FactureClients\", facture, {\r\n            headers: {\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n            },\r\n          })\r\n          .then(res=>{\r\n           // this.file=res.data;\r\n                this.open = false;\r\n            console.log(res.data);\r\n             this.$emit(\"f\", true);\r\n          });\r\n    },\r\n    dragFile(e) {\r\n      this.imageFile = e.dataTransfer.files[0];\r\n      this.active =\r\n        \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-gray-200\";\r\n\r\n      console.log(this.imageFile);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}