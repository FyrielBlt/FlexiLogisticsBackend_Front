{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  props: [\"table\"],\n\n  data() {\n    return {\n      open: false,\n      i: 0,\n      file: null,\n      myfile: false\n    };\n  },\n\n  methods: {\n    close() {\n      this.error = false;\n      this.sucess = false;\n      this.open = false;\n      location.replace(\"/offreschauffeur\");\n    },\n\n    fileimage(e) {\n      this.myfile = true;\n      this.file = e.target.files[0];\n      console.log(this.myfile);\n    },\n\n    modifierOffre() {\n      /*    if (\r\n            this.table.description != \"\" &&\r\n            this.table.date != \"\" &&\r\n            this.table.prix != \"\" &&\r\n            this.myfile==true\r\n           ) {\r\n           const form = new FormData();\r\n          form.append(\"file\", this.file);\r\n          form.append(\"upload_preset\", \"karimomrane\");\r\n          axios\r\n            .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n            .then((resp) => {\r\n          axios\r\n              .put(\"http://localhost:5000/api/Offres/\" + this.table.id, {\r\n                id:this.table.id,\r\n                description:this.table.description,\r\n                date:this.table.date,\r\n                idEtat:this.table.idEtat,\r\n                prix:this.table.prix,\r\n                idTransporteur:this.table.idTransporteur,\r\n                idDemande:this.table.idDemande,\r\n                recu:this.table.recu,\r\n                file:resp.data.secure_url\r\n              }).then(()=>{\r\n              this.sucess = true;\r\n              this.error = false;\r\n              this.open = false;\r\n              })\r\n            })\r\n           \r\n          } else {\r\n      */\n      axios.put(\"http://localhost:5000/api/Offres/\" + this.table.idOffre, {\n        id: this.table.id,\n        description: this.table.description,\n        date: this.table.date,\n        idEtat: this.table.idEtat,\n        prix: this.table.prix,\n        idTransporteur: this.table.idTransporteur,\n        idDemande: this.table.idDemande,\n        recu: this.table.recu,\n        file: \"https://res.cloudinary.com/dwlx8q3pu/image/upload/v1650329248/gcuwld1kr0wxkdscbtey.jpg\"\n      }).then(() => {\n        this.sucess = true;\n        this.error = false;\n        this.open = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,OAAK,EAAE,CAAC,OAAD,CADM;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,KADD;AAELC,OAAC,EAAE,CAFE;AAGCC,UAAI,EAAE,IAHP;AAICC,YAAM,EAAC;AAJR,KAAP;AAOD,GAVY;;AAWbC,SAAO,EAAE;AACPC,SAAK,GAAG;AACN,WAAKC,KAAL,GAAa,KAAb;AACA,WAAKC,MAAL,GAAc,KAAd;AACA,WAAKP,IAAL,GAAY,KAAZ;AACAQ,cAAQ,CAACC,OAAT,CAAiB,kBAAjB;AACD,KANM;;AAONC,aAAS,CAACC,CAAD,EAAI;AACX,WAAKR,MAAL,GAAY,IAAZ;AACD,WAAKD,IAAL,GAAYS,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACAC,aAAO,CAACC,GAAR,CAAY,KAAKZ,MAAjB;AACD,KAXM;;AAYPa,iBAAa,GAAG;AAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BF;AAECnB,WAAI,CACMoB,GADV,CACc,sCAAsC,KAAKC,KAAL,CAAWC,OAD/D,EACwE;AAC7DC,UAAE,EAAC,KAAKF,KAAL,CAAWE,EAD+C;AAE7DC,mBAAW,EAAC,KAAKH,KAAL,CAAWG,WAFsC;AAG7DC,YAAI,EAAC,KAAKJ,KAAL,CAAWI,IAH6C;AAI7DC,cAAM,EAAC,KAAKL,KAAL,CAAWK,MAJ2C;AAK7DC,YAAI,EAAC,KAAKN,KAAL,CAAWM,IAL6C;AAM7DC,sBAAc,EAAC,KAAKP,KAAL,CAAWO,cANmC;AAO7DC,iBAAS,EAAC,KAAKR,KAAL,CAAWQ,SAPwC;AAQ7DC,YAAI,EAAC,KAAKT,KAAL,CAAWS,IAR6C;AAS7DzB,YAAI,EAAC;AATwD,OADxE,EAWY0B,IAXZ,CAWiB,MAAI;AACZ,aAAKrB,MAAL,GAAc,IAAd;AACA,aAAKD,KAAL,GAAa,KAAb;AACA,aAAKN,IAAL,GAAY,KAAZ;AACC,OAfV;AAiBK;;AA/DK;AAXI,CAAf","names":["axios","props","data","open","i","file","myfile","methods","close","error","sucess","location","replace","fileimage","e","target","files","console","log","modifierOffre","put","table","idOffre","id","description","date","idEtat","prix","idTransporteur","idDemande","recu","then"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\frontfinal\\src\\views\\Transporteur\\Offres\\ModalLayoutOffreUpdate.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Breadcrumb -->\r\n    <Breadcrumb breadcrumb=\"Modal\" />\r\n    <button\r\n      class=\"bg-white hover:bg-green-100 text-green-800 font-semibold py-2 px-4 border border-green-400 rounded shadow\"\r\n      @click=\"open = true\"\r\n    >\r\n      Modifier\r\n    </button>\r\n    <div\r\n      :class=\"`modal ${\r\n        !open && 'opacity-0 pointer-events-none'\r\n      } z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`\"\r\n    >\r\n      <div\r\n        @click=\"open = false\"\r\n        class=\"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay\"\r\n      ></div>\r\n\r\n      <div\r\n        class=\"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md\"\r\n      >\r\n        <div\r\n          class=\"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close\"\r\n        >\r\n          <svg\r\n            class=\"text-white fill-current\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 18 18\"\r\n          >\r\n            <path\r\n              d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\r\n            />\r\n          </svg>\r\n          <span class=\"text-sm\">(Esc)</span>\r\n        </div>\r\n\r\n        <!-- Add margin if you want to see some of the overlay behind the modal-->\r\n        <div class=\"px-6 py-4 text-left modal-content\">\r\n          <!--Title-->\r\n          <div class=\"flex items-center justify-between pb-3\">\r\n            <p class=\"text-2xl font-bold\">Modifier Offre</p>\r\n          </div>\r\n          <!--Body-->\r\n          <div class=\"mt-8\">\r\n            <div class=\"mt-4\">\r\n              <div class=\"p-6 bg-white rounded-md shadow-md\">\r\n                <div class=\"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2\">\r\n                  <div>\r\n                    <div>\r\n                      <label class=\"text-gray-700\" for=\"username\"\r\n                        >Description</label\r\n                      >\r\n                      <input\r\n                        class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                        type=\"text\"\r\n                        v-model=\"this.table.description\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label class=\"text-gray-700\" for=\"emailAddress\"\r\n                        >Date</label\r\n                      >\r\n                      <input\r\n                        class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                        type=\"text\"\r\n                        v-model=\"this.table.date\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label class=\"text-gray-700\" for=\"password\">Prix</label>\r\n                      <input\r\n                        class=\"w-full mt-2 border-gray-200 rounded-md focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500\"\r\n                        type=\"text\"\r\n                        v-model=\"this.table.prix\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label class=\"text-xs\">Fichier</label>\r\n\r\n                      <div class=\"relative mt-2 rounded-md shadow-sm\">\r\n                        <span\r\n                          class=\"absolute inset-y-0 left-0 flex items-center pl-3 pt-2 text-gray-600\"\r\n                        >\r\n                          <input\r\n                            type=\"file\"\r\n                            name=\"image\"\r\n                            id=\"image\"\r\n                            @change=\"fileimage($event)\"\r\n                            accept=\".png,.jpg,.pdf\"\r\n                          />\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"flex justify-end mt-4\">\r\n    \r\n                  <button\r\n                    @click=\"modifierOffre\"\r\n                    class=\"px-4 py-2 text-gray-200 bg-gray-800 rounded-md hover:bg-gray-700 focus:outline-none focus:bg-gray-700\"\r\n                  >\r\n                    Save\r\n                  </button>\r\n                </div>\r\n\r\n                <div v-if=\"this.error == true\" class=\"px-4 py-2 -mx-3\">\r\n                  <div class=\"mx-3\">\r\n                    <span class=\"font-semibold text-red-500\"\r\n                      >Merci de remplir tout les champs</span\r\n                    >\r\n                    <p class=\"text-sm text-gray-600\">error!</p>\r\n                  </div>\r\n                </div>\r\n                <div v-if=\"this.sucess == true\" class=\"px-4 py-2 -mx-3\">\r\n                  <div class=\"mx-3\">\r\n                    <span class=\"font-semibold text-green-500\"\r\n                      >Modifiaction de l'offre</span\r\n                    >\r\n                    <p class=\"text-sm text-gray-600\">Mofification r√©ussi!</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"table\"],\r\n  data() {\r\n    return {\r\n      open: false,\r\n      i: 0,\r\n            file: null,\r\n            myfile:false\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.error = false;\r\n      this.sucess = false;\r\n      this.open = false;\r\n      location.replace(\"/offreschauffeur\");\r\n    },\r\n     fileimage(e) {\r\n       this.myfile=true;\r\n      this.file = e.target.files[0];\r\n      console.log(this.myfile)\r\n    },\r\n    modifierOffre() {\r\n  /*    if (\r\n        this.table.description != \"\" &&\r\n        this.table.date != \"\" &&\r\n        this.table.prix != \"\" &&\r\n        this.myfile==true\r\n       ) {\r\n       const form = new FormData();\r\n      form.append(\"file\", this.file);\r\n      form.append(\"upload_preset\", \"karimomrane\");\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/dwlx8q3pu/upload\", form)\r\n        .then((resp) => {\r\n      axios\r\n          .put(\"http://localhost:5000/api/Offres/\" + this.table.id, {\r\n            id:this.table.id,\r\n            description:this.table.description,\r\n            date:this.table.date,\r\n            idEtat:this.table.idEtat,\r\n            prix:this.table.prix,\r\n            idTransporteur:this.table.idTransporteur,\r\n            idDemande:this.table.idDemande,\r\n            recu:this.table.recu,\r\n            file:resp.data.secure_url\r\n          }).then(()=>{\r\n          this.sucess = true;\r\n          this.error = false;\r\n          this.open = false;\r\n          })\r\n        })\r\n       \r\n      } else {\r\n*/\r\n   \r\n axios\r\n          .put(\"http://localhost:5000/api/Offres/\" + this.table.idOffre, {\r\n            id:this.table.id,\r\n            description:this.table.description,\r\n            date:this.table.date,\r\n            idEtat:this.table.idEtat,\r\n            prix:this.table.prix,\r\n            idTransporteur:this.table.idTransporteur,\r\n            idDemande:this.table.idDemande,\r\n            recu:this.table.recu,\r\n            file:\"https://res.cloudinary.com/dwlx8q3pu/image/upload/v1650329248/gcuwld1kr0wxkdscbtey.jpg\"\r\n          }).then(()=>{\r\n          this.sucess = true;\r\n          this.error = false;\r\n          this.open = false;\r\n          })\r\n        \r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.modal {\r\n  transition: opacity 0.25s ease;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}